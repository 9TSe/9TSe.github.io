/*! For license information please see chunk-saas.65dc694f.chunk.js.LICENSE.txt */
(this["webpackJsonpai-quality"]=this["webpackJsonpai-quality"]||[]).push([[2],{10:function(t,e,n){"use strict";n.d(e,"j",(function(){return v})),n.d(e,"g",(function(){return b})),n.d(e,"e",(function(){return w})),n.d(e,"c",(function(){return _})),n.d(e,"p",(function(){return x})),n.d(e,"k",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"o",(function(){return l})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return y})),n.d(e,"f",(function(){return m}));var r,i,o,a,s,c,u,l,f,h,d,p,y,m,g,v=25,b=20,w=("\u4ec5\u652f\u6301\u6dfb\u52a0\u753b\u677f\u4e0a\u9650\u4e3a".concat(80,"\u4e2a"),"layer-canvas-"),_={name:"AlibabaPuHuiTi-Regular",zip_file:"https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/fonts/Alibaba-PuHuiTi-Regular.zip",zip_url:"https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/fonts/Alibaba-PuHuiTi-Regular.ttf",woff2_file_url:"https://xiuxiupro-material-center.meitudata.com/material/font_subset/1658752217837.woff2"},x=(e=n(791),[{color:"#fe2f51ff",textShadow:[],textGlow:[],type:"local",id:"material_local_1",textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ffb608ff",textShadow:[],textGlow:[],type:"local",id:"material_local_2",textStroke:[{id:Object(e.a)(),color:"#000000ff",width:15,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",textShadow:[],textGlow:[],type:"local",id:"material_local_3",textStroke:[{id:Object(e.a)(),color:"#5fc34bff",width:20,direction:0,hidden:!1,editable:!0}]},{color:"#2c6cd5ff",textShadow:[],textGlow:[],type:"local",id:"material_local_4",textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_5",textShadow:[{id:Object(e.a)(),color:"#00000033",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:20}],textGlow:[],textStroke:[]},{color:"#ffdbddff",isVip:!0,textVipId:"vip-font-style-2",type:"local",id:"material_local_6",textShadow:[{id:Object(e.a)(),color:"#fd8989ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:20}],textGlow:[],textStroke:[]},{color:"#000000ff",type:"local",id:"material_local_7",textShadow:[{id:Object(e.a)(),color:"#ffb507ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:20}],textGlow:[],textStroke:[]},{color:"#ffda08ff",isVip:!0,textVipId:"vip-font-style-3",type:"local",id:"material_local_8",textShadow:[{id:Object(e.a)(),color:"#ef4913ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:20}],textGlow:[],textStroke:[]},{color:"#ffffffff",isVip:!0,textVipId:"vip-font-style-4",type:"local",id:"material_local_8",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#0bffdf99",blur:0,width:40,hidden:!1,editable:!0}],textStroke:[]},{color:"#ffffffff",type:"local",id:"material_local_9",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#fb35dd99",blur:0,width:40,hidden:!1,editable:!0}],textStroke:[]},{color:"#fefefeff",type:"local",id:"material_local_10",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#ffe90099",blur:0,width:40,hidden:!1,editable:!0}],textStroke:[]},{color:"#f21d36ff",type:"local",id:"material_local_11",textShadow:[{id:Object(e.a)(),color:"#fd1e7cff",blur:50,hidden:!1,editable:!0}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:6,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_12",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#ffffff99",blur:0,width:40,hidden:!1,editable:!0}],textStroke:[{id:Object(e.a)(),color:"#000000ff",width:6,direction:0,hidden:!1,editable:!0}]},{color:"#5fc34bff",type:"local",id:"material_local_13",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#5fc34b99",blur:0,width:70,hidden:!1,editable:!0}],textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:15,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_14",isVip:!0,textVipId:"vip-font-style-7",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#ff35a799",blur:0,width:40,hidden:!1,editable:!0}],textStroke:[{id:Object(e.a)(),color:"#ff35a7ff",width:5,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_15",isVip:!0,textVipId:"vip-font-style-8",textShadow:[],textGlow:[{id:Object(e.a)(),color:"#0fd7f599",blur:0,width:50,hidden:!1,editable:!0}],textStroke:[{id:Object(e.a)(),color:"#0fd7f5ff",width:5,direction:0,hidden:!1,editable:!0}]},{color:"#000000ff",type:"local",id:"material_local_16",textShadow:[{id:Object(e.a)(),color:"#000000ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:25.000000000000004}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#fefefeff",type:"local",id:"material_local_17",textShadow:[{id:Object(e.a)(),color:"#cd2701ff",blur:0,hidden:!1,editable:!0,angle:-55,distance:24.999999999999996}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ff693bff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#fde959ff",isVip:!0,textVipId:"vip-font-style-10",type:"local",id:"material_local_18",textShadow:[{id:Object(e.a)(),color:"#a52dc5ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:25.000000000000004}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#4933ffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ff7235ff",type:"local",id:"material_local_19",textShadow:[{id:Object(e.a)(),color:"#ffffffff",blur:0,hidden:!1,editable:!0,angle:-54.000000000000014,distance:25}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ffffffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_20",textShadow:[{id:Object(e.a)(),color:"#ff35a7ff",blur:0,hidden:!1,editable:!0,angle:-53.00000000000003,distance:19}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ff35a7ff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_21",textShadow:[{id:Object(e.a)(),color:"#35c3ffff",blur:0,hidden:!1,editable:!0,angle:-53.00000000000003,distance:19}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#35c3ffff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#ffffffff",type:"local",id:"material_local_22",textShadow:[{id:Object(e.a)(),color:"#1343d366",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:25.000000000000004}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#415ff7ff",width:8,direction:0,hidden:!1,editable:!0}]},{color:"#f21e37ff",isVip:!0,textVipId:"vip-font-style-14",type:"local",id:"material_local_23",textShadow:[{id:Object(e.a)(),color:"#ffd735ff",blur:0,hidden:!1,editable:!0,angle:-59.99999999999999,distance:25.000000000000004}],textGlow:[],textStroke:[{id:Object(e.a)(),color:"#ffd735ff",width:5,direction:0,hidden:!1,editable:!0}]}]);function T(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function I(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(n=r=r||{})[n.SINGLE=1]="SINGLE",n[n.VARIETY=2]="VARIETY",(e=i=i||{})[e.NORMAL=0]="NORMAL",e[e.SINGLE=1]="SINGLE",e[e.VARIETY=2]="VARIETY",e[e.BATCH=3]="BATCH",e[e.PPT=4]="PPT",e[e.PPT_NORMAL=5]="PPT_NORMAL",(n=o=o||{}).LAYER="layer",n.OPERATE="operate",n.LOCK="lock",n.LOCK_ICON="lock-icon",n.MOVE="move",n.SCALE="scale",n.RESIZE="resize",n.ROTATE="rotate",n.LINK="link",n.LINK_ICON="link-icon",n.EDIT="edit",n.CROP_STAGE="crop-stage",n.STAGE_RESIZE="stage-resize",(e=a=a||{})[e.LEFT=0]="LEFT",e[e.MIDDLE=1]="MIDDLE",e[e.RIGHT=2]="RIGHT",(n=s=s||{}).TC="tc",n.BC="bc",n.LC="lc",n.RC="rc",(e=c=c||{})[e.POSITIVE=1]="POSITIVE",e[e.OPPOSITE=-1]="OPPOSITE",e[e.CENTER=0]="CENTER",(n=u=u||{})[n.none=0]="none",n[n.fill=1]="fill",n[n.cover=2]="cover",n[n.repeat=3]="repeat",T(e={},u.none,""),T(e,u.cover,"cover"),T(e,u.fill,"100% 100%"),(n=l=l||{}).HORIZONTAL_TB="horizontal-tb",n.VERTICAL_LR="vertical-lr",n.VERTICAL_RL="vertical-rl",(e=p=p||{}).LEFT="left",e.CENTER="center",e.RIGHT="right",e.JUSTIFY="justify",I(n={},p.LEFT,"left"),I(n,p.CENTER,"center"),I(n,p.RIGHT,"right"),I(n,p.JUSTIFY,"justify"),(e=f=f||{})[e.NONE=0]="NONE",e[e.UNDERLINE=1]="UNDERLINE",e[e.LINETHROUGH=2]="LINETHROUGH",I(n={},f.UNDERLINE,"underline"),I(n,f.LINETHROUGH,"line-through"),I(n,f.NONE,"none"),(p=g=g||{})[p.NORMAL=0]="NORMAL",p[p.BOLD=1]="BOLD",I(e={},g.NORMAL,"normal"),I(e,g.BOLD,"bold"),(n=h=h||{})[n.NORMAL=0]="NORMAL",n[n.ITALIC=1]="ITALIC",I(f={},h.ITALIC,"italic"),I(f,h.NORMAL,"normal"),(p=d=d||{})[p.WITHOUT=0]="WITHOUT",p[p.CENTER=1]="CENTER",(e=y=y||{}).arrow="arrow",e.line="line",e.curve="curve",e.circle="circle",e.square="square",e.polygon="polygon",e.heart="heart",e.star="star",(g=m=m||{}).TEXT_LAYER="text",g.TEXT_MATERIAL_LAYER="textMaterial",g.IMAGE_LAYER="img",g.GROUP_LAYER="group",g.BACKGROUND_LAYER="bg",g.MAIN_LAYER="mainImg",g.SVG_LAYER="svg",g.WATERMARK="watermark",g.ADVANCED_TEXT="advanced_text",g.VECTOR_LAYER="vector"},118:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,n;return e=t,n=[{key:"on",value:function(t,e,n){this.handle[t]||(this.handle[t]=[]),this.handle[t].push({func:e,target:n})}},{key:"onUnique",value:function(t,e,n){this.handle[t]=[{func:e,target:n}]}},{key:"off",value:function(t,e,n){var r=this.handle[t];if(r&&!(r.length<=0))if(e)for(var i=0;i<r.length;i++){var o=r[i];if(o.func===e&&(!n||n===o.target)){r.splice(i,1);break}}else delete this.handle[t]}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.dispatchEvent.apply(this,[t].concat(n))}},{key:"dispatchEvent",value:function(t){var e=this.handle[t];if(e&&!(e.length<=0)){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<e.length;o++){var a=e[o];a.func.apply(a.target,r)}}}}],null&&r(e.prototype,null),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=(i.handle={},"init_event"),a={init:function(){i.emit(o)},onInit:function(t){i.on(o,t)},offInit:function(t){i.off(o,t)}},s=i},12:function(t,e,n){"use strict";n.d(e,"g",(function(){return tt})),n.d(e,"m",(function(){return et})),n.d(e,"f",(function(){return At})),n.d(e,"p",(function(){return Ct})),n.d(e,"u",(function(){return V})),n.d(e,"A",(function(){return Y})),n.d(e,"o",(function(){return Z})),n.d(e,"v",(function(){return q})),n.d(e,"e",(function(){return Jt})),n.d(e,"d",(function(){return Kt})),n.d(e,"l",(function(){return Gt})),n.d(e,"n",(function(){return Wt})),n.d(e,"i",(function(){return Ht})),n.d(e,"h",(function(){return Vt})),n.d(e,"c",(function(){return Yt})),n.d(e,"t",(function(){return it})),n.d(e,"s",(function(){return ot})),n.d(e,"b",(function(){return at})),n.d(e,"r",(function(){return st})),n.d(e,"k",(function(){return ct})),n.d(e,"z",(function(){return lt})),n.d(e,"y",(function(){return ft})),n.d(e,"C",(function(){return ht})),n.d(e,"j",(function(){return dt})),n.d(e,"B",(function(){return pt})),n.d(e,"D",(function(){return yt})),n.d(e,"w",(function(){return mt})),n.d(e,"x",(function(){return gt})),n.d(e,"q",(function(){return Qt})),n.d(e,"a",(function(){return Xt})),n.d(e,"F",(function(){return Dt})),n.d(e,"E",(function(){return Bt}));var r=n(321),i=(e=(n(227),n(40)),n.n(e)),o=(e=n(194),n.n(e)),a=(e=n(118),n(79)),s=n(139),c=n.n(s),u=n(322);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(y="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=y.asyncIterator||"@@asyncIterator",o=y.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new x(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}return"throw"===(r=c(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,u):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a),n)){if(n===u)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=c(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function h(){}function d(){}function p(){}var y,m,g=((m=(m=(a(y={},r,(function(){return this})),Object.getPrototypeOf))&&m(m(T([]))))&&m!==e&&n.call(m,r)&&(y=m),p.prototype=h.prototype=Object.create(y));function v(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=c(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==l(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:I}}function I(){return{value:void 0,done:!0}}return a(g,"constructor",d.prototype=p),a(p,"constructor",d),d.displayName=a(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(b.prototype),a(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),a(g,o,"Generator"),a(g,r,(function(){return this})),a(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function h(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function d(t){return"string"!=typeof t?String(t):t}s="memoryDriver";var p=new Map;function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(){m=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(d="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=d.asyncIterator||"@@asyncIterator",o=d.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof l?e:l,e=Object.create(e.prototype),r=new x(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}return"throw"===(r=c(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,u):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a),n)){if(n===u)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=c(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function l(){}function f(){}function h(){}var d,p,g=((p=(p=(a(d={},r,(function(){return this})),Object.getPrototypeOf))&&p(p(T([]))))&&p!==e&&n.call(p,r)&&(d=p),h.prototype=l.prototype=Object.create(d));function v(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=c(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==y(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:I}}function I(){return{value:void 0,done:!0}}return a(g,"constructor",f.prototype=h),a(h,"constructor",f),f.displayName=a(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(b.prototype),a(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),a(g,o,"Generator"),a(g,r,(function(){return this})),a(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function g(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){g(o,r,i,a,s,"next",t)}function s(t){g(o,r,i,a,s,"throw",t)}a(void 0)}))}}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}c.a.defineDriver({_driver:s,_support:!0,_initStorage:function(t){return Promise.resolve()},key:function(t,e){var n=this;return new Promise(function(){e=f().mark((function e(r,i){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.keys();case 2:o=e.sent,r(o[t]);case 4:case"end":return e.stop()}}),e)}));var e,r=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){h(o,r,i,a,s,"next",t)}function s(t){h(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(t,e){return r.apply(this,arguments)}}())},keys:function(t){return new Promise((function(t,e){var n=[];p.forEach((function(t,e){n.push(e)})),t(n)}))},length:function(t){return new Promise((function(t,e){t(p.size)}))},getItem:function(t,e){return t=d(t),new Promise((function(e,n){p.has(t)?e(p.get(t)):e(null)}))},setItem:function(t,e,n){return t=d(t),new Promise((function(n,r){p.set(t,e),n(e)}))},removeItem:function(t,e){return t=d(t),new Promise((function(e,n){p.has(t)&&p.delete(t),e()}))},clear:function(t){return new Promise((function(t,e){p.clear(),t()}))},iterate:function(t,e){return new Promise((function(e,n){e(t)}))}});s=new(function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.store=void 0,this.initStore=!1}var e,n,r,i,o,a,s,l,f,h;return e=t,(n=[{key:"createStorage",value:function(t){return this.store=c.a.createInstance({name:u.name,storeName:t,driver:["memoryDriver"]}),this}},{key:"drop",value:function(t){return c.a.dropInstance({name:u.name,storeName:t}).then((function(){}))}},{key:"driver",value:function(){return this.store.driver()}},{key:"key",value:(h=v(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.key(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"keys",value:(f=v(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.keys());case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"length",value:(l=v(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.length());case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getItem",value:(s=v(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.getItem(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"setItem",value:(a=v(m().mark((function t(e,n){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.setItem(e,n));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"removeItem",value:(o=v(m().mark((function t(e){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init();case 2:return t.abrupt("return",this.store.removeItem(e));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"clear",value:(i=v(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.store.clear());case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"init",value:(r=v(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.initStore){t.next=4;break}return t.next=3,this.store.clear();case 3:this.initStore=!0;case 4:return t.abrupt("return",this.initStore);case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}])&&b(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());var w=new Date,_="".concat(w.getFullYear(),"/").concat(w.getMonth()+1,"/").concat(w.getDate()),x=(w="".concat(w.getHours(),":").concat(w.getMinutes(),":").concat(w.getSeconds(),".").concat(w.getMilliseconds()),window.location.pathname.replace(/\//g,""));_="".concat(_," ").concat(w,"-").concat(x);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(){I=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(d="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=d.asyncIterator||"@@asyncIterator",o=d.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof l?e:l,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}return"throw"===(r=c(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,u):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a),n)){if(n===u)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=c(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function l(){}function f(){}function h(){}var d,p,y=((p=(p=(a(d={},r,(function(){return this})),Object.getPrototypeOf))&&p(p(_([]))))&&p!==e&&n.call(p,r)&&(d=p),h.prototype=l.prototype=Object.create(d));function m(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=c(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==T(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function _(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:x}}function x(){return{value:void 0,done:!0}}return a(y,"constructor",f.prototype=h),a(h,"constructor",f),f.displayName=a(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(g.prototype),a(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new g(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),a(y,o,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,b(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function E(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){E(o,r,i,a,s,"next",t)}function s(t){E(o,r,i,a,s,"throw",t)}a(void 0)}))}}s.createStorage(_).clear();var O={instance:s,localForageNameKey:"localForage-image-editor",localForageStoreName:_}.instance,S=function(t,e){return M(I().mark((function n(){return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",O.setItem(t,e));case 1:case"end":return n.stop()}}),n)})))()},k=function(t){return M(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.getItem(t));case 1:case"end":return e.stop()}}),e)})))()};function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(){j=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(d="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=d.asyncIterator||"@@asyncIterator",o=d.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof l?e:l,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}return"throw"===(r=c(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,u):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a),n)){if(n===u)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=c(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function l(){}function f(){}function h(){}var d,p,y=((p=(p=(a(d={},r,(function(){return this})),Object.getPrototypeOf))&&p(p(_([]))))&&p!==e&&n.call(p,r)&&(d=p),h.prototype=l.prototype=Object.create(d));function m(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=c(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==L(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function _(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:x}}function x(){return{value:void 0,done:!0}}return a(y,"constructor",f.prototype=h),a(h,"constructor",f),f.displayName=a(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(g.prototype),a(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new g(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),a(y,o,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,b(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function A(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){A(o,r,i,a,s,"next",t)}function s(t){A(o,r,i,a,s,"throw",t)}a(void 0)}))}}e.b.onInit((function(){R.clear(),F.clear(),P.clear()}));var P=new Map,R=new Map,F=new Map,N=function(){var t=C(j().mark((function t(e,n){var r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.uploadImgAsync(e,n);case 2:return r=t.sent,t.next=5,S(e,r||n);case 5:F.delete(e);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),D={setFont:function(t,e,n){P.set(t,{base64:e,isWoff2:n})},getFont:function(t){return P.get(t)},getRemoteUrl:function(t){return Q(t)?t:R.get(t)||""},getRemoteUrlAsync:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500;return new Promise((function(n){(Q(t)?n:function t(r){var i=R.get(r);i?n(i):setTimeout((function(){t(r)}),e)})(t)}))},uploadImgAsync:function(t,e){return C(j().mark((function n(){var r;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",t);case 2:if(Q(t))return n.abrupt("return",t);n.next=4;break;case 4:if(H(t)){n.next=6;break}return n.abrupt("return",t);case 6:if(R.get(t)){n.next=20;break}return n.prev=7,n.next=10,Object(a.c)(e);case 10:return r=n.sent,R.set(t,r.url),n.abrupt("return",r.url);case 15:n.prev=15,n.t0=n.catch(7);case 18:n.next=21;break;case 20:return n.abrupt("return",R.get(t));case 21:case"end":return n.stop()}}),n,null,[[7,15]])})))()},getCode:function(t,e){var n;return t&&(Q(t)||H(t)?t:("",n=e?o.a.hashBinary(e):o.a.hashBinary(t),F.get(n)||R.get(n)||(F.set(n,t),N(n,t)),n))},saveCodeAsync:function(t,e){return C(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t,e);case 2:return n.abrupt("return",!0);case 3:case"end":return n.stop()}}),n)})))()},getLocalUrlAsync:function(t){return C(j().mark((function e(){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(n=F.get(t))return e.abrupt("return",n);e.next=5;break;case 5:return e.next=7,k(t);case 7:if(n=e.sent)return e.abrupt("return",n);e.next=10;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))()}};n(84);var B=function(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))},U=function(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;o=a&&u[a=0]?0:o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,(u=i?[2&u[0],i.value]:u)[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3]))o.label=u[1];else if(6===u[0]&&o.label<i[1])o.label=i[1],i=u;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(u)}}u=e.call(t,o)}catch(c){u=[6,c],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}};function z(){var t=this;this.isInited=!1,this.cacheFnList=[],this.onError=function(t){},this.onCancel=function(){},this.onMattingCompleted=function(t){t.imageUrl,t.maskUrl},this.tryMattingResolve=function(){},this.initResolve=function(){},this.iframe=document.createElement("iframe"),this.iframeCallbackFn=function(e){/cutout\.meitu\.com/.test(e.origin)&&("initialized"===(e=void 0===(e=e.data)?{}:e).type&&(t.initedCacheFn(),t.initResolve(),t.isInited=!0),"extract"===e.type&&t.onMattingCompleted({imageUrl:e.value,maskUrl:e.maskUrl}),"mattinged"===e.type&&t.tryMattingResolve(),"cancel"===e.type&&t.onCancel(),"error"===e.type)&&t.onError(e.value)}}function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(){G=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(d="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=d.asyncIterator||"@@asyncIterator",o=d.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof l?e:l,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return u;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}return"throw"===(r=c(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,u):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,u):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,u)}(n,a),n)){if(n===u)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=c(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===u)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u={};function l(){}function f(){}function h(){}var d,p,y=((p=(p=(a(d={},r,(function(){return this})),Object.getPrototypeOf))&&p(p(_([]))))&&p!==e&&n.call(p,r)&&(d=p),h.prototype=l.prototype=Object.create(d));function m(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=c(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==K(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function v(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(v,this),this.reset(!0)}function _(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:x}}function x(){return{value:void 0,done:!0}}return a(y,"constructor",f.prototype=h),a(h,"constructor",f),f.displayName=a(h,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(g.prototype),a(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new g(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),a(y,o,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,b(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function W(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}z.prototype.initedCacheFn=function(){this.cacheFnList.length&&(this.cacheFnList.forEach((function(t){t()})),this.cacheFnList=[])},z.prototype.init=function(t){var e=this,n=t.parentDom,r=void 0===(a=t.env)?"release":a,i=void 0===(a=t.appKey)?"":a,o=t.iframeType,a=t.onError,s=t.onCancel;t=t.onMattingCompleted;return a&&(this.onError=a),s&&(this.onCancel=s),this.onMattingCompleted=t,new Promise((function(t,a){e.initResolve=t,e.isInited||(e.iframe.src="https://".concat("release"===r?"":r,"cutout.meitu.com/editor/?iframeType=").concat(o||"","&appKey=").concat(i),e.iframe.onerror=function(t){e.onError&&e.onError(t),a()},n.appendChild(e.iframe),window.addEventListener("message",e.iframeCallbackFn,!1))}))},z.prototype.tryMatting=function(t){var e=t.imageInfo;return B(this,void 0,void 0,(function(){var t,n=this;return U(this,(function(r){return t=function(){var t;null!=(t=n.iframe.contentWindow)&&t.postMessage({type:"tryMatting",value:JSON.stringify(e)},"*")},this.isInited?t():this.cacheFnList.push((function(){t()})),[2,new Promise((function(t){n.tryMattingResolve(),n.tryMattingResolve=t}))]}))}))},z.prototype.extract=function(){var t;null!=(t=this.iframe.contentWindow)&&t.postMessage({type:"startExtract"},"*")},z.prototype.destroy=function(){function t(){e.isInited=!1,window.removeEventListener("message",e.iframeCallbackFn,!1)}var e=this;this.isInited?t():this.cacheFnList.push((function(){return B(e,void 0,void 0,(function(){return U(this,(function(e){return t(),[2]}))}))}))},new z;var H=function(){return 32===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").length},V=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){W(o,r,i,a,s,"next",t)}function s(t){W(o,r,i,a,s,"throw",t)}a(void 0)}))}}(G().mark((function t(e){var n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$,t.next=3,D.getLocalUrlAsync(e);case 3:return t.t1=t.sent,n=(0,t.t0)(t.t1),t.abrupt("return",new Promise((function(t,e){var r=new Image;r.setAttribute("crossOrigin","anonymous"),r.onload=function(){t(r)},r.onerror=function(){e()},r.src=n})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(t){return X((new XMLSerializer).serializeToString(t))},X=function(t){return t.replace(/#/g,"%23").replace(/\t/g,"      ").replace(/(\n)|(\r\n)/g,"<br/>")},Z=function(t,e,n,r){var i=n.left,o=n.top,a=n.width,s=n.height;n=n.rotate;return'data:image/svg+xml;charset=utf-8,\n    <svg\n        width="'.concat(t,'"\n        height="').concat(e,'"\n        viewBox="0 0 ').concat(t," ").concat(e,'"\n        xmlns="http://www.w3.org/2000/svg"\n    >\n        <style type="text/css">body,div{padding:0;margin:0}</style>\n        <foreignObject x="0" y="0" width="100%" height="100%">\n            <body xmlns="http://www.w3.org/1999/xhtml">\n                <div style="width:').concat(t,"px;height:").concat(e,';">\n                    <div style="\n                        transform:translate(').concat(i,"px, ").concat(o,"px);\n                        width:").concat(a,"px;\n                        height:").concat(s,'px;\n                    ">\n                        <div style="\n                            width:').concat(a,"px;\n                            height:").concat(s,"px;\n                            transform-origin:center;\n                            transform:rotate(").concat(n,'deg)\n                        ">\n                            ').concat(r,"\n                        </div>\n                    </div>\n                </div>\n            </body>\n        </foreignObject>\n    </svg>")},q=function(t){return new Promise((function(e){var n=new Image;n.onload=function(){e(n)},n.src=t}))},J=0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp;"),Q=function(t){return/^https{0,1}:/i.test(t)},$=function(t){return Q(t)&&J&&-1===t.indexOf(".svg")&&!/token=/gi.test(t)?/imageView2\/2/gi.test(t)?/\/format\/webp/gi.test(t)?t:/(\/w\/[0-9\.]+)/gi.test(t)?t.replace(/(\/w\/[0-9\.]+)/gi,(function(t){return"".concat(t,"/format/webp")})):t.replace("imageView2/2","imageView2/2/format/webp"):"".concat(t.split("?")[0],"?imageView2/2/format/webp"):t};function tt(t,e,n){return{canvas:n=n?Object(r.createCanvas)(t,e,n):Object(r.createCanvas)(t,e),width:t,height:e,ctx:n.getContext("2d")}}function et(t,e,n,r){var i,o,a;e=(t=t/e)<=n/r?(i=(n-(o=t*(a=r)))/2,0):(i=0,(r-(a=(o=n)/t))/2);return{dx:i,dy:e,dw:o,dh:a}}w=n(183);var nt=n.n(w),rt=(x=(n(323),n(64)),n.n(x)),it=function(t,e){if(e.size)for(var n,r=t.length,i=(t.length=r+e.size,[]),o=0;o<t.length;o++)e.has(o)?(void 0!==(n=t[o])&&i.push(n),t[o]=e.get(o)):i.length&&(void 0!==(n=t[o])&&i.push(n),t[o]=i.shift())},ot=function(t,e,n){e=3<arguments.length&&void 0!==arguments[3]&&!arguments[3]?e+1:e;var r=nt()(t,0,e);t=nt()(t,e);return r.concat(rt()(n)?n:[n]).concat(t)},at=function(t,e){return{x:t.x+e.x,y:t.y+e.y}};function st(t,e){e=e/360*2*Math.PI;var n=Math.cos(e),r=-t.y;t=[t.x*n,t.x*Math.cos(e-.5*Math.PI)],e=[r*Math.cos(.5*Math.PI+e),r*n];return{x:t[0]+e[0],y:-(t[1]+e[1])}}function ct(t){var e=t.leftTop,n=t.width,r=t.height,i=(t=t.rotate,Math.sqrt(n*n+r*r)/2);r=Math.atan(r/n)/Math.PI*180;return at(e,(n=t+r,{x:(e=i)*Math.cos(n/180*Math.PI),y:e*Math.sin(n/180*Math.PI)}))}function ut(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var lt=function(t,e,n){var r=t.x,i=(t=t.y,e.x);e=e.y,n=n*Math.PI/180;return{x:(r-i)*Math.cos(n)-(t-e)*Math.sin(n)+i,y:(r-i)*Math.sin(n)+(t-e)*Math.cos(n)+e}},ft=function(t,e){var n=t.x,r=(t=t.y,Math.sin(e*Math.PI/180));return{x:n*(e=Math.cos(e*Math.PI/180))-t*r,y:n*r+t*e}},ht=ft,dt=function(t){return(t=(t+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0))%360)<0&&(t+=360),t},pt=function(t){return{x:i()(t.x),y:i()(t.y)}},yt=function(t){return{x:t.x+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),y:t.y+(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)}},mt=function(t,e){return{x:e.x-t.x,y:e.y-t.y}},gt=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return{x:t.x*e,y:t.y*e}};function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var bt=function(){function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.min=0,this.max=0,this.min=e,this.max=n}var e,n;return e=t,(n=[{key:"overlaps",value:function(t){return this.max>t.min&&t.max>this.min}}])&&vt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.x=void 0,this.y=void 0,this.x=void 0,this.y=void 0}var e,n;return e=t,(n=[{key:"collidesWith",value:function(t){var e=(e=this.getAxes()).concat(t.getAxes());return!this.separationOnAxes(e,t)}},{key:"separationOnAxes",value:function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n],o=e.project(i);i=this.project(i);if(!o.overlaps(i))return!0}return!1}},{key:"project",value:function(t){throw"project(axis) not implemented"}},{key:"getAxes",value:function(){throw"getAxes() not implemented"}}])&&wt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Tt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.x=0,void(this.y=0)===e?(this.x=0,this.y=0):(this.x=e.x,this.y=e.y)}var e,n;return e=t,(n=[{key:"getMagnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"add",value:function(e){var n=new t(void 0);return n.x=this.x+e.x,n.y=this.y+e.y,n}},{key:"subtract",value:function(e){var n=new t(void 0);return n.x=this.x-e.x,n.y=this.y-e.y,n}},{key:"dotProduct",value:function(t){return this.x*t.x+this.y*t.y}},{key:"edge",value:function(t){return this.subtract(t)}},{key:"perpendicular",value:function(){var e=new t(void 0);return e.x=this.y,e.y=0-this.x,e}},{key:"normalize",value:function(){var e=new t(void 0),n=this.getMagnitude();return 0!==n&&(e.x=this.x/n,e.y=this.y/n),e}},{key:"normal",value:function(){return this.perpendicular().normalize()}}])&&xt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){return(Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Lt=St((function t(e,n){kt(this,t),this.x=0,this.y=0,this.x=e,this.y=n})),jt=function(){var t=r,e=_t;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Et(t,e);var n=function(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var t,r=Mt(e);if(t=n?(t=Mt(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}(r);function r(){var t;return kt(this,r),(t=n.call(this)).points=[],t.points=[],t}return St(r,[{key:"getAxes",value:function(){for(var t=new Tt(void 0),e=new Tt(void 0),n=[],r=0,i=this.points.length-1;r<i;r++)t.x=this.points[r].x,t.y=this.points[r].y,e.x=this.points[r+1].x,e.y=this.points[r+1].y,n.push(t.edge(e).normal());return t.x=this.points[this.points.length-1].x,t.y=this.points[this.points.length-1].y,e.x=this.points[0].x,e.y=this.points[0].y,n.push(t.edge(e).normal()),n}},{key:"project",value:function(t){var e=[],n=new Tt(void 0);return this.points.forEach((function(r){n.x=r.x,n.y=r.y,e.push(n.dotProduct(t))})),new bt(Math.min.apply(Math,e),Math.max.apply(Math,e))}},{key:"addPoint",value:function(t,e){this.points.push(new Lt(t,e))}},{key:"collidesWith",value:function(t){var e=t.getAxes();return void 0!==e&&(e=e.concat(this.getAxes()),!this.separationOnAxes(e,t))}}]),r}(),At=function(t){var e=t.id,n=new jt;return Ct(t).forEach((function(t){var e=(t=new Lt(t.x,t.y)).x;t=t.y;n.addPoint(e,t)})),{polygon:n,id:e}},Ct=function(t){var e=t.id,n=t.left,r=t.top,i=t.rotate,o=t.width,a=(t=t.height,o/2+n),s=t/2+r;return[ht({x:n-a,y:r-s},i),ht({x:n-a+o,y:r-s},i),ht({x:n-a+o,y:r-s+t},i),ht({x:n-a,y:r-s+t},i)].map((function(t){var n=t.x;t=t.y;return{x:n+a,y:t+s,id:e}}))};n(58);var Pt=n(10);window.addEventListener("blur",(function(){}),!1),document.addEventListener("keydown",(function(t){t.metaKey||t.ctrlKey||t.shiftKey,t.key})),document.addEventListener("keyup",(function(t){var e=null==(e=t.key)?void 0:e.toLocaleLowerCase();!(t.metaKey||t.ctrlKey||t.shiftKey)||t.metaKey&&"meta"===e&&!t.ctrlKey&&!t.shiftKey||t.ctrlKey&&"control"===e&&!t.metaKey&&!t.shiftKey||t.shiftKey&&"shift"===e&&!t.ctrlKey&&t.metaKey})),n(395),n(111),n(324),n(93);var Rt=n(791);function Ft(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?Nt(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dt=function(t,e){t.forEach((function(t){!function(t,e){for(var n=[t];0<n.length;){var r=n.pop();r&&r.children&&0<r.children.length&&n.push.apply(n,Ft(r.children)),e(r)}}(t,e)}))},Bt=function t(e,n){e.children&&0<e.children.length&&(e.children.forEach((function(e){t(e,n)})),n(e))};function Ut(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt=function(t){var e=t.imgWidth,n=t.imgHeight,r=t.stageHeight,i=e/n,o=(t=t.stageWidth)/r,a=1,s=1;return i<o?s=+(t/e*n/r).toFixed(4):o<i&&(a=+(r/n*e/t).toFixed(4)),{widthRatio:a,heightRatio:s}},Gt=function(t,e){e=(t=e=e?zt(zt({},t),e):t).left;var n=t.top;return{x:e+t.width/2,y:n+t.height/2}};function Wt(t){return Object.assign(function(t){return Object.assign({id:Object(Rt.a)(),layerType:Pt.f.GROUP_LAYER,width:0,height:0,left:0,top:0,rotate:0,opacity:1,title:"",data:{isExtraGroup:!0},lock:!1,children:[],shine:!1,hidden:!1,category:0,isAILayer:!1,materialIds:new Map},t)}(t),{layerType:Pt.f.GROUP_LAYER})}function Ht(t,e){if((e=e||(null==(e=t.activeInfo)?void 0:e.id))&&(t=t.flatLayersMap.get(e)))return t}function Vt(t,e){var n=t.activeInfo,r=t.activeChildInfoMap;return n.pickId!=n.id&&n.pickId===e&&(n=t.activeChildInfoMap.get(e),r=new Map),{activeInfo:n,activeChildInfoMap:r}}function Yt(t){var e=t.mainLayerSize,n=t.adjustLayerSize,r=t.adjustLayerRotate,o=(t=t.adjustLayerRelativePosition,e.width),a=(e=e.height,n.width),s=(n=n.height,t.x),c=(t=t.y,pt(yt(ht({x:-o/2,y:e/2},r),s,t))),u=pt(yt(ht({x:o/2,y:e/2},r),s,t)),l=pt(yt(ht({x:-o/2,y:-e/2},r),s,t)),f=(o=pt(yt(ht({x:o/2,y:-e/2},r),s,t)),-(e=a/2)),h=e,d=-(s=n/2),p=s,y={max:(t=[c,u,l,o])[0].x-h,min:t[0].x-f},m={max:t[0].y-p,min:t[0].y-d};t.forEach((function(t){var e=t.x,n=(t=t.y,e-h),r=(e=e-f,t-p);t-=d;y.max=y.max<n?n:y.max,y.min=e<y.min?e:y.min,m.max=m.max<r?r:m.max,m.min=t<m.min?t:m.min})),e=1,s=1,o={x:0,y:0};return 1===(l=((0<y.max&&y.min<0||0<y.max&&0<y.max-y.min||y.min<0&&y.min-y.max<0)&&((c=0)<y.max&&y.min<0?c=Math.max(y.max,Math.abs(y.min)):0<y.max&&0<y.max-y.min?c=y.max-y.min:y.min<0&&y.min-y.max<0&&(c=Math.abs(y.max-y.min)),e=1+2*i()(c)/a),(0<m.max&&m.min<0||0<m.max&&0<m.max-m.min||m.min<0&&m.min-m.max<0)&&((u=0)<m.max&&m.min<0?u=Math.max(m.max,Math.abs(m.min)):0<m.max&&0<m.max-m.min?u=m.max-m.min:m.min<0&&m.min-m.max<0&&(u=Math.abs(m.min-m.max)),s=1+2*i()(u)/n),s<e?e:s))&&(0<y.max?o.x=y.max:y.min<0&&(o.x=y.min),0<m.max?o.y=m.max:m.min<0&&(o.y=m.min)),{scale:l,movePoint:o=ht(o,-r)}}new Set;var Xt,Zt,qt=n(108),Jt=function(t){return t&&Object(qt.original)(t)},Qt=(n(396),function(t){var e=t.top,n=t.left,r=t.width,i=t.height,o=(t=t.data).naturalWidth,a=t.naturalHeight;return{stageCenterPoint:r={x:r/2,y:i/2},originMainLayerCenterPoint:i={x:n+o*(t=t.imageTransform.scale)/2,y:e+a*t/2},originRelativeStagePoint:mt(r,i)}});n(30),n(397),(s=Xt=Xt||{}).px="px",s.mm="mm",s.cm="cm",s.in="in",(_=Zt=Zt||{})[_.px=0]="px",_[_.mm=0]="mm",_[_.cm=1]="cm",_[_.in=2]="in",e=Xt,Object.values(e);var $t;w=n(152),x=n.n(w);function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}document.addEventListener("mousedown",(function(t){t.button===Pt.h.LEFT&&(ee.fireMouseup(),ee.mousedownEvent=t,ee.mousedownEventList.forEach((function(e){e(t)})))}),!1),document.addEventListener("mousemove",x()((function(t){t.button===Pt.h.LEFT&&ee.mousemoveEventList.forEach((function(e){e(t)}))}),5,{leading:!0}),!1),document.addEventListener("mouseup",(function(t){t.button===Pt.h.LEFT&&(ee.mousedownEvent=null,ee.mouseupEventList.forEach((function(e){e(t)})))}),!1),(s=$t=$t||{})[s.Enter=0]="Enter",s[s.Move=1]="Move",s[s.Leave=2]="Leave";var ee=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.startPoint=null,this.lastPoint=null,this.panEventCallback=null,this.firstMove=!0,this.isMoving=!1,this.currentTarget=null,this.mousedownHandle=void 0,this.mousemoveHandle=void 0,this.mouseupHandle=void 0}var e,n,r;return e=t,r=[{key:"fireMouseup",value:function(){t.mousedownEvent&&t.mouseupEventList.forEach((function(e){e(t.mousedownEvent)})),t.mousedownEvent=null}}],(n=[{key:"bindEvent",value:function(){var e=this;this.mousedownHandle=function(t){return e.start(t)},this.mousemoveHandle=function(t){return e.move(t)},this.mouseupHandle=function(t){return e.end(t)},t.mousedownEventList.add(this.mousedownHandle),t.mousemoveEventList.add(this.mousemoveHandle),t.mouseupEventList.add(this.mouseupHandle),t.mousedownEvent&&this.mousedownHandle(t.mousedownEvent)}},{key:"unbindEvent",value:function(){t.mousedownEventList.delete(this.mousedownHandle),t.mousemoveEventList.delete(this.mousemoveHandle),t.mouseupEventList.delete(this.mouseupHandle),this.mousedownHandle=null,this.mousemoveHandle=null,this.mouseupHandle=null}},{key:"start",value:function(t){this.currentTarget=t.target,this.startPoint={x:t.x,y:t.y},this.lastPoint={x:t.x,y:t.y}}},{key:"move",value:function(t){var e;null!==this.panEventCallback&&null!==this.startPoint&&null!==this.lastPoint&&(e={x:t.x,y:t.y},e={originEvent:t,startPoint:this.startPoint,lastPoint:this.lastPoint,currentPoint:e,distance:ut(this.startPoint,e),deltaX:e.x-this.lastPoint.x,deltaY:e.y-this.lastPoint.y,displacementX:e.x-this.startPoint.x,displacementY:e.y-this.startPoint.y,distanceX:Math.abs(e.x-this.startPoint.x),distanceY:Math.abs(e.y-this.startPoint.y),target:this.currentTarget,isEnd:!1,x:t.x,y:t.y,isStart:this.firstMove},this.panEventCallback(e),this.lastPoint={x:t.x,y:t.y},this.isMoving=!0,this.firstMove=!1)}},{key:"end",value:function(t){var e;null!==this.startPoint&&null!==this.panEventCallback&&null!==this.lastPoint&&null!==this.currentTarget&&(e={x:t.x,y:t.y},e={originEvent:t,startPoint:this.startPoint,lastPoint:this.lastPoint,currentPoint:e,distance:ut(this.startPoint,e),deltaX:e.x-this.lastPoint.x,deltaY:e.y-this.lastPoint.y,displacementX:e.x-this.startPoint.x,displacementY:e.y-this.startPoint.y,distanceX:Math.abs(e.x-this.startPoint.x),distanceY:Math.abs(e.y-this.startPoint.y),currentTarget:t.currentTarget,target:this.currentTarget,isEnd:!0,isStart:!1,x:t.x,y:t.y},this.isMoving&&this.panEventCallback(e),this.startPoint=null,this.firstMove=!0,this.currentTarget=null,this.isMoving=!1)}},{key:"on",value:function(t,e){t===$t.Move&&(this.panEventCallback=e,this.bindEvent())}},{key:"off",value:function(t){t===$t.Move&&(this.unbindEvent(),this.panEventCallback=null)}}])&&te(e.prototype,n),r&&te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();ee.mousedownEvent=void 0,ee.mousedownEventList=new Set,ee.mousemoveEventList=new Set,ee.mouseupEventList=new Set},120:function(t,e,n){var r;window,r=function(){return e={"./node_modules/qwebchannel/qwebchannel.js":function(t,e,n){"use strict";var r=1,i=2,o=3,a=4,s=5,c=6,u=7,l=8,f=9,h=10;function d(t,e,n){this.__id__=t,(n.objects[t]=this).__objectSignals__={},this.__propertyCache__={};var r=this;function i(t,e){var i=t[0],o=t[1];r[i]={connect:function(t){"function"!=typeof t||(r.__objectSignals__[o]=r.__objectSignals__[o]||[],r.__objectSignals__[o].push(t),e)||"destroyed"!==i&&"destroyed()"!==i&&"destroyed(QObject*)"!==i&&1==r.__objectSignals__[o].length&&n.exec({type:u,object:r.__id__,signal:o})},disconnect:function(t){"function"!=typeof t||(r.__objectSignals__[o]=r.__objectSignals__[o]||[],-1===(t=r.__objectSignals__[o].indexOf(t)))||(r.__objectSignals__[o].splice(t,1),e)||0!==r.__objectSignals__[o].length||n.exec({type:l,object:r.__id__,signal:o})}}}function o(t,e){(t=r.__objectSignals__[t])&&t.forEach((function(t){t.apply(t,e)}))}this.unwrapQObject=function(t){if(t instanceof Array)return t.map((function(t){return r.unwrapQObject(t)}));if(!(t instanceof Object))return t;var e,i;if(t["__QObject*__"]&&void 0!==t.id)return e=t.id,n.objects[e]||(t.data?((i=new d(e,t.data,n)).destroyed.connect((function(){n.objects[e]===i&&(delete n.objects[e],Object.keys(i).forEach((function(t){return delete i[t]})))})),i.unwrapProperties(),i):void 0);for(var o={},a=0,s=Object.keys(t);a<s.length;a++){var c=s[a];o[c]=r.unwrapQObject(t[c])}return o},this.unwrapProperties=function(){for(var t=0,e=Object.keys(r.__propertyCache__);t<e.length;t++){var n=e[t];r.__propertyCache__[n]=r.unwrapQObject(r.__propertyCache__[n])}},this.propertyUpdate=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=i[n],s=e[a];r.__propertyCache__[a]=this.unwrapQObject(s)}for(var c=0,u=Object.keys(t);c<u.length;c++){var l=u[c];o(l,t[l])}},this.signalEmitted=function(t,e){o(t,this.unwrapQObject(e))},e.methods.forEach((function(t){var e=t[0],i=(t=t[1],")"===e[e.length-1]?t:e);r[e]=function(){for(var t,e,o,a=[],s=0;s<arguments.length;++s){var u=arguments[s];"function"==typeof u?t=u:u instanceof d&&void 0!==n.objects[u.__id__]?a.push({id:u.__id__}):a.push(u)}return t||"function"!=typeof Promise||(o=new Promise((function(n,r){t=n,e=r}))),n.exec({type:c,object:r.__id__,method:i,args:a},(function(n){void 0!==n?(n=r.unwrapQObject(n),t&&t(n)):e&&e()})),o}})),e.properties.forEach((function(t){var e=t[0],o=t[1],a=t[2];r.__propertyCache__[e]=t[3],a&&(1===a[0]&&(a[0]=o+"Changed"),i(a,!0)),Object.defineProperty(r,o,{configurable:!0,get:function(){return r.__propertyCache__[e]},set:function(t){void 0!==t&&((t=r.__propertyCache__[e]=t)instanceof d&&void 0!==n.objects[t.__id__]&&(t={id:t.__id__}),n.exec({type:f,object:r.__id__,property:e,value:t}))}})})),e.signals.forEach((function(t){i(t,!1)})),Object.assign(r,e.enums)}t.exports={QWebChannel:function(t,e){var n;"object"==typeof t&&"function"==typeof t.send&&((n=this).transport=t,this.send=function(t){"string"!=typeof t&&(t=JSON.stringify(t)),n.transport.send(t)},this.transport.onmessage=function(t){var e=t.data;switch((e="string"==typeof e?JSON.parse(e):e).type){case r:n.handleSignal(e);break;case h:n.handleResponse(e);break;case i:n.handlePropertyUpdate(e)}},this.execCallbacks={},this.execId=0,this.exec=function(t,e){e?(n.execId===Number.MAX_VALUE&&(n.execId=Number.MIN_VALUE),t.hasOwnProperty("id")||(t.id=n.execId++,n.execCallbacks[t.id]=e,n.send(t))):n.send(t)},this.objects={},this.handleSignal=function(t){var e=n.objects[t.object];e&&e.signalEmitted(t.signal,t.args)},this.handleResponse=function(t){t.hasOwnProperty("id")&&(n.execCallbacks[t.id](t.data),delete n.execCallbacks[t.id])},this.handlePropertyUpdate=function(t){t.data.forEach((function(t){var e=n.objects[t.object];e&&e.propertyUpdate(t.signals,t.properties)})),n.exec({type:a})},this.debug=function(t){n.send({type:s,data:t})},n.exec({type:o},(function(t){for(var r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];new d(o,t[o],n)}for(var s=0,c=Object.keys(n.objects);s<c.length;s++){var u=c[s];n.objects[u].unwrapProperties()}e&&e(n),n.exec({type:a})})))}}},"./src/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"bridge",(function(){return K})),n.d(e,"clientInfo",(function(){return g}));var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;o=a&&u[a=0]?0:o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,(u=i?[2&u[0],i.value]:u)[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3]))o.label=u[1];else if(6===u[0]&&o.label<i[1])o.label=i[1],i=u;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(u)}}u=e.call(t,o)}catch(c){u=[6,c],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function c(){return window.qtObject}Object.create,Object.create;var u=-1<(p=navigator.userAgent.toLowerCase()).indexOf("qtwebengine"),l=-1<p.indexOf("usesafari"),f=-1<p.indexOf("mtxx-pc"),h=-1<p.indexOf("mtxx-mac"),d=-1<p.indexOf("mtxx-linux"),p=-1<p.indexOf("forappstore"),y=!(u=f||h||d||u),m=function(t){return t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),null==(t=window.location.search.substr(1).match(t))?null:unescape(t[2])}("income_source")||(f?"MTXX-PC":d?"MTXX-LINUX":h?"MTXX-MAC":"MTXX-WEB"),g={isUsePrompt:l,isClient:u,isPC:f,isMac:h,isLinux:d,isWeb:y,isMacAppStore:p,incomeSource:m};function v(t){return T("themeChange",t=void 0===t?"dark":t)}function b(){return T("loginStateChange")}function w(){return T("vipStateChange")}l=n("./node_modules/qwebchannel/qwebchannel.js"),u=window.qt;var _=document.createEvent("Event");function x(t,e){window.addEventListener("_PCB_".concat(t),(function(t){e(t.data)}))}function T(t,e){var n=document.createEvent("Event");n.initEvent("_PCB_".concat(t),!0,!0),n.data=e,window.dispatchEvent(n)}function I(){}function E(t,e){return void 0===e&&(e=!1),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=n,o=0;o<i.length;o++){var a=i[o];"string"!=typeof a&&(i[o]="".concat(a))}return new Promise((function(r,i){if(g.isClient)if(g.isUsePrompt)try{n.length||e?(o={ParamList:s([],n,!0)},e&&(o.Return="string"),r(window.prompt(t,JSON.stringify(o)))):r(window.prompt(t))}catch(r){i("PT: ".concat(t," method fail"))}else{var o={args:n,property:t,hasReturn:e,resolve:r,reject:i};M?L(o):O.push(o)}else i("\u9700\u8981\u901a\u8fc7 PCB.clientInfo \u5224\u65ad\u662f\u5426\u5728\u5ba2\u6237\u7aef")}))}}_.initEvent("PCBridgeReady",!0,!0),g.isUsePrompt?(window.safari={changeTheme:v,loginStateChanged:b,updateVipStatus:function(){}},setTimeout((function(){return window.dispatchEvent(_)}),0)):u?new l.QWebChannel(u.webChannelTransport,(function(t){var e;null!=(e=(t=t.objects.qtObject||{}).changeTheme)&&e.connect(v),null!=(e=t.loginStateChanged)&&e.connect(b),null!=(e=t.updateVipStatus)&&e.connect(w),window.qtObject=t,setTimeout((function(){return window.dispatchEvent(_)}),0)})):setTimeout((function(){return window.dispatchEvent(_)}),0),window.addEventListener("onResume",(function(){T("resume")})),window.addEventListener("onPageHide",(function(){T("pageHide")})),I.prototype.onResume=function(t){x("resume",t)},I.prototype.onPageHide=function(t){x("pageHide",t)},I.prototype.onThemeChange=function(t){x("themeChange",t)},I.prototype.onLoginStateChange=function(t){x("loginStateChange",t)},I.prototype.onVipStateChange=function(t){x("vipStateChange",t)},f=I;var M=!1,O=[],S=(window.addEventListener("PCBridgeReady",(function(t){M=!0,O.forEach((function(t){L(t)})),O.length=0})),{}),k=1;function L(t){var e,n=t.args,r=t.property,i=t.hasReturn,o=t.resolve;t=t.reject;window.self===window.top?(e=null==(e=c())?void 0:e[r])?i?e.apply(void 0,s(s([],n,!1),[function(t){o(t)}],!1)):o(e.apply(void 0,n)):(i="QT: ".concat(r," method fail"),c()||(i="ERROR: native bridge \u6ca1\u6709\u51c6\u5907"),null!=t&&t({state:"none",msg:i})):(e=k++,S[e]={resolve:o,reject:t},window.parent.postMessage({cmd:r,data:n,handler:e},"*"))}window.addEventListener("message",(function(t){var e,n;"callback"===(t=(t||window.event).data).cmdType&&(e=t.data,t=t.handler)&&(n=(S[t]||{}).resolve,delete S[t],null!=n)&&n(e)})),i(A,j=f),A.prototype.getMeituToken=function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.getLocalStorage("token")];case 1:return[2,null==(t=e.sent())?void 0:t.big_account_access_token];case 2:return e.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.setMeituToken=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.setLocalStorage("token",JSON.stringify(t))];case 1:return e.sent(),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))},A.prototype.isOldVersion=function(){return!c().getVersion},A.prototype.openLoginWithFailRedirect=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("relogin")(1)];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.openLogin=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("relogin")(0)];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.closeLogin=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("closeAccountLoginDialog")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.openSubscribe=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("account")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.closeSubscribe=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("closeVipSubscribeDialog")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.setLocalStorage=function(t,e){return o(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:n=JSON.stringify(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,E("setLocalStorage")(t,n)];case 2:return r.sent(),[3,4];case 3:throw r.sent();case 4:return[2]}}))}))},A.prototype.getLocalStorage=function(t){return o(this,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,E("getLocalStorage",!0)(t)];case 1:return e=n.sent(),[2,JSON.parse(e)];case 2:return n.sent(),[2,null];case 3:return[2]}}))}))},A.prototype.getGid=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getGid",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getServerGid=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getServerGid",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getPlatfrom=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getPlatfrom",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getCountryCode=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getCountryCode",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getVersion=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getVersion",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getTheme=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getTheme",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.getEquityData=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("getStatisticsData",!0)()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.saveImageToPhotosAlbum=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("downloadSuccess")(t)];case 1:return e.sent(),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))},A.prototype.buyProductByIAP=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("buyProduct",!0)(JSON.stringify(t))];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}}))}))},A.prototype.loadWeb=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("loadWeb")(t)];case 1:return[2,e.sent()];case 2:return e.sent(),[2,""];case 3:return[2]}}))}))},A.prototype.showNavigationBarBack=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("enableTitleBack")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.openBrowser=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("openBrowser")(t)];case 1:return e.sent(),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))},A.prototype.mtTrack=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("mtTrack",!0)(JSON.stringify(t))];case 1:return[2,e.sent()];case 2:throw e.sent();case 3:return[2]}}))}))},A.prototype.switchToStartup=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("switchToStartup")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.switchToEditor=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("switchToEditor")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.logout=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E("logout")()];case 1:return t.sent(),[3,3];case 2:throw t.sent();case 3:return[2]}}))}))},A.prototype.isWebStartup=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,E("isWebStartup")(t)];case 1:return e.sent(),[3,3];case 2:throw e.sent();case 3:return[2]}}))}))};var j;h=A;function A(){var t=j.call(this)||this,e=t.getMeituToken,n=t.setMeituToken;return t.getMeituToken=function(){return o(t,void 0,void 0,(function(){return a(this,(function(t){return[2,e.call(this)]}))}))},t.setMeituToken=function(e){return o(t,void 0,void 0,(function(){return a(this,(function(t){return[2,n.call(this,e)]}))}))},t}function C(t){return-1}function P(t,e,n){var r,i;return g.isClient?N.loginHandler?(n("\u8bf7\u7b49\u5f85\u4e0a\u4e00\u4e2a login \u8fd4\u56de\u540e\u8c03\u7528"),C):(r="execCommand",i=F++,"login"===t&&(N.loginHandler=i),N[i]={resolve:e,reject:n,command:t},function(e){void 0===e&&(e={});e=JSON.stringify({Handler:i,Command:t,Params:e});return g.isUsePrompt?window.prompt(r,JSON.stringify({ParamList:[e]})):(e={cmd:r,data:e,reject:n,Handler:i},D?U(e):B.push(e)),i}):(n("\u9700\u8981\u901a\u8fc7 PCB.clientInfo \u5224\u65ad\u662f\u5426\u5728\u5ba2\u6237\u7aef"),C)}var R,F=1,N={loginHandler:0},D=!1,B=[];function U(t){var e,n=t.cmd,r=t.data,i=t.reject;t=t.Handler;window.self===window.top&&(null!=(e=c())&&e[n]?c()[n](r):(delete N[t],e="".concat(n," \u6ca1\u6709\u5b9e\u73b0"),c()||(e="ERROR: bridge \u6ca1\u6709\u51c6\u5907"),null!=i&&i({state:"none",msg:e})))}function z(){return null!==R&&R.apply(this,arguments)||this}window.addEventListener("PCBridgeReady",(function(t){D=!0,B.forEach((function(t){U(t)})),B.length=0})),i(z,R=h),z.prototype.test=function(){return new Promise((function(t,e){P("test",t,e)()}))},z.prototype.setHomeButton=function(t){return new Promise((function(e,n){P("setHomeButton",e,n)(t)}))},z.prototype.closeWebview=function(){return new Promise((function(t,e){P("closeWebview",t,e)()}))},z.prototype.setNavigationBarBack=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,new Promise((function(e,n){P("setNavigationBarBack",e,n)({show:t})}))]}))}))},z.prototype.setTheme=function(t){return o(this,void 0,void 0,(function(){return a(this,(function(e){return[2,new Promise((function(e,n){P("setTheme",e,n)({theme:t})}))]}))}))},z.prototype.setNavigationBarTitle=function(t){return new Promise((function(e,n){P("setNavigationBarTitle",e,n)({title:t})}))},z.prototype.getSystemInfo=function(){return new Promise((function(t,e){P("getSystemInfo",t,e)()}))},z.prototype.getUserInfo=function(){return new Promise((function(t,e){P("getUserInfo",t,e)()}))},z.prototype.login=function(){return new Promise((function(t,e){P("login",t,e)()}))},z.prototype.postImageData=function(t,e){return new Promise((function(n,r){P("postImageData",n,r)({data:t,path:e})}))},z.prototype.getCurrentImageData=function(){return new Promise((function(t,e){P("getCurrentImageData",t,e)()}))},z.prototype.saveMultiImageToAlbum=function(t,e,n,r,i,o){return void 0===i&&(i=""),void 0===o&&(o=""),new Promise((function(a,s){P("saveMultiImageToAlbum",a,s)({name:t,data:e,isEnd:n,type:r,path:i,source:o})}))},z.prototype.openSubscribeWithParams=function(t){return new Promise((function(e,n){P("openSubscribeWithParams",e,n)(t)}))};var K=new z;window.PCB=K||{},window.PCB.postMessage=function(t){var e,n,r,i=t.data,o=t.handler,a=t.state;o&&(n=(e=N[o]||{}).resolve,r=e.reject,e.command,delete N[o],N.loginHandler===o&&(N.loginHandler=0),"success"===a?null!=n&&n(i):null!=r&&r(t))},window.PCB.dispatchEvent=T,window.PCB.clientInfo=g,e.default=K}},n={},t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s="./src/index.ts");function t(r){var i;return(n[r]||(i=n[r]={i:r,l:!1,exports:{}},e[r].call(i.exports,i,i.exports,t),i.l=!0,i)).exports}var e,n},t.exports=r()},128:function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=(r=n(0),n.n(r));function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}n(639),e.a=function(t){var e=t.name,n=t.color,r=void 0===(r=t.fontSize)?12:r,a=void 0!==(a=t.isActive)&&a,u=void 0!==(l=t.disable)&&l,l=t.width,f=t.height,h=void 0===(h=t.borderRadius)?4:h,d=void 0===(d=t.marginBottom)?0:d,p=void 0===(p=t.text)?"":p,y=void 0===(y=t.textSize)?12:y,m=t.minWidth,g=t.onClick,v=t.type,b=void 0!==(b=t.vertical)&&b,w=(t=t.style,{});return"button"===v&&!p||"menu"===v?w={width:void 0===l?32:l,height:void 0===f?32:f,borderRadius:h,marginBottom:d}:"button"===v&&p&&(w={borderRadius:h,marginBottom:d,minWidth:void 0===m?50:m}),o.a.createElement("div",{style:s(s({},void 0===t?{}:t),w),className:i()({"font-icon-btn":"button"===v,"font-icon-btn__vertical":"button"===v&&b,"font-icon-btn__active":"button"===v&&a,"font-icon-btn__disable":"button"===v&&u,"font-icon-menu":"menu"===v,"font-icon-menu__active":"menu"===v&&a}),onClick:function(t){g&&!u&&g(t)}},o.a.createElement("div",{className:i()({"font-icon-btn__wrap":"button"===v})},o.a.createElement("div",{style:{color:n,width:r,height:r,fontSize:r},className:i()("iconfont",(c(l={},"icon-".concat(e),!0),c(l,"b-icon-font",!0),c(l,"b-icon-font__active",a),c(l,"b-icon-font__disable",u),l))})),"button"===v&&p?o.a.createElement("div",{style:{fontSize:y},className:"font-icon-btn__text"},p):null,"menu"===v?o.a.createElement("div",{className:"font-icon-menu__text"},p):null)}},137:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return d}));e=n(6);var r={destroy:Object(e.b)((function(t){t.isMask=!1,t.isLoading=!1,t.showLoadingMask=!1})),isMask:!1,setIsMask:Object(e.b)((function(t,e){t.isMask=e})),isLoading:!1,showLoadingMask:!1,setIsLoading:Object(e.b)((function(t,e){var n=e.loading;e=e.mask;t.isLoading=n,t.showLoadingMask=e})),tips:"\u52a0\u8f7d\u4e2d...",setTips:Object(e.b)((function(t,e){t.tips=e}))},i=(e=Object(e.e)()).useStoreState,o=e.useStoreActions,a=(e.useStoreDispatch,function(){var t=o((function(t){return t.globalMaskModel.setIsLoading})),e=o((function(t){return t.globalMaskModel.setTips}));return{show:function(n){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e(n||"\u52a0\u8f7d\u4e2d..."),t({loading:!0,mask:r})},hide:function(){t({loading:!1,mask:!1})}}}),s=n(47),c=(e=n(4),n.n(e)),u=(e=n(0),n.n(e));function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t){return u.a.createElement(s.e,{style:{width:100,height:100},tip:t})}n(739);var d=u.a.memo((function(t){var e=t.isStage,n=void 0===(n=t.background)?"":n,r=void 0===(r=t.left)?0:r,o=void 0===(o=t.top)?0:o,a=void 0===(a=t.right)?0:a,s=(t=void 0===(t=t.bottom)?0:t,i((function(t){return t.globalMaskModel.isLoading}))),l=i((function(t){return t.globalMaskModel.showLoadingMask})),d=i((function(t){return t.globalMaskModel.isMask})),p=i((function(t){return t.globalMaskModel.tips})),y={};return n&&(y.background=n),!s&&!d||d&&e?null:(n={left:r,top:o,right:a,bottom:t},u.a.createElement("div",{className:c()("b-global-mask",{"not-allowed":d,"loading-mask":l&&e}),style:f(f({},d?n:{}),y)},s&&e?h(p):null))}))},165:function(t,e,n){"use strict";n(674);var r=n(90),i=(n(676),n(0)),o=(i=n.n(i),n(128));function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(677);var c=r.b.error,u=(n=r.b.warning,r.b.warn),l=r.b.info,f=r.b.success,h=r.b.loading,d=r.b.config,p=r.b.destroy,y=(r=r.b.open,i.a.createElement(o.a,{fontSize:16,color:"var(--content--system-info-icon-warning)",name:"ExclamationMarkCircleBoldFill",style:{marginRight:8}})),m=i.a.createElement(o.a,{fontSize:16,color:"var(--content--system-info-icon-regular)",name:"InfoCircleBoldFill",style:{marginRight:8}}),g=i.a.createElement(o.a,{fontSize:16,color:"var(--content--system-info-icon-success)",name:"CheckCircleFillBold",style:{marginRight:8}});i={error:function(t){return c("string"==typeof t?{content:t,icon:y}:s(s({},t),{},{icon:y}))},info:function(t){return l("string"==typeof t?{content:t,icon:m}:s(s({},t),{},{icon:m}))},warning:n,warn:u,success:function(t){return f("string"==typeof t?{content:t,icon:g}:s(s({},t),{},{icon:g}))},loading:h,config:d,destroy:p,open:r};i.config({maxCount:1}),e.a=i},180:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(187),i=function(){var t=Object(r.c)((function(t){return t.sdk.themeManagerModel.theme})),e=Object(r.b)((function(t){return t.sdk.themeManagerModel.setWhiteTheme})),n=Object(r.b)((function(t){return t.sdk.themeManagerModel.setDarkTheme}));return{theme:t,setWhiteTheme:function(){e()},setDarkTheme:function(){n()}}}},187:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return Pt}));e=n(6);var r,i=(a=(n(487),Object(e.e)())).useStoreState,o=a.useStoreActions,a=(a.useStoreDispatch,n(118),{destroy:Object(e.b)((function(t){t.scale=1,t.isFullscreen=!1,t.disableOperate=!1,t.lockRenderScale=!1})),lockRenderScale:!1,setLockRenderScale:Object(e.b)((function(t,e){t.lockRenderScale=e})),isFullscreen:!1,setIsFullscreen:Object(e.b)((function(t,e){t.isFullscreen=e})),disableOperate:!1,setDisableOperate:Object(e.b)((function(t,e){t.disableOperate=e})),getDisableOperate:Object(e.b)((function(t,e){e(t.disableOperate)})),feature:"",setFeature:Object(e.b)((function(t,e){t.feature=e})),getFeature:Object(e.b)((function(t,e){e(t.feature)})),isShowPanel:!1,setIsShowPanel:Object(e.b)((function(t,e){t.isShowPanel=e})),isShowCollapse:!0,setIsShowCollapse:Object(e.b)((function(t,e){t.isShowCollapse=e})),scale:1,setScale:Object(e.b)((function(t,e){t.scale=e})),getScale:Object(e.b)((function(t,e){e(t.scale)}))}),s=n(393),c=n.n(s),u=(s={destroy:Object(e.b)((function(t){})),fontList:[],fontListMap:Object(e.c)((function(t){return c()(t.fontList,"category_name")})),setFontList:Object(e.b)((function(t,e){t.fontList=e})),defaultFont:"",setDefaultFont:Object(e.b)((function(t,e){t.defaultFont=e})),isLoadingFont:!1,setIsLoadingFont:Object(e.b)((function(t,e){t.isLoadingFont=e}))},n(791)),l=n(12),f=((h=r=r||{}).canUndo="canUndo",h.canRedo="canRedo",h.disable="disable",h.onRedoOrUndo="onRedoOrUndo",h.history="history","history-main"),h={destroy:Object(e.b)((function(t){t.history.clear(),t.cursor=-1,t.canUndo=!1,t.canRedo=!1,t.currentHistoryType=f,t.disable=!1,t.version=-1})),version:-1,getStateByName:Object(e.b)((function(t,e){var n=e.payload,i=e.callback;switch(n){case r.canRedo:i(t.canRedo);break;case r.canUndo:i(t.canUndo);break;case r.disable:i(t.disable);break;case r.onRedoOrUndo:i(t.onRedoOrUndo);break;case r.history:-1!==t.cursor?i(Object(l.e)(t.history.get(f)).slice(0,t.cursor+1)):i([]);break;default:i(null)}})),disable:!1,setDisable:Object(e.b)((function(t,e){t.disable=e})),onRedoOrUndo:"",setRedoOrUndo:Object(e.b)((function(t){t.disable=!1,t.onRedoOrUndo=Object(u.a)()})),history:new Map,cursor:-1,canUndo:!1,canRedo:!1,currentHistoryType:f,push:Object(e.b)((function(t,e){var n=t.history.get(t.currentHistoryType);n?(n.length=t.cursor+1,n.push(e)):t.history.set(t.currentHistoryType,n=[e]),t.cursor++,t.canUndo=!0,t.canRedo=!1,t.version++})),back:Object(e.b)((function(t,e){var n=t.history.get(t.currentHistoryType);n&&-1!==t.cursor&&(t.cursor--,t.canUndo=-1!==t.cursor,t.canRedo=!0,t.version++,e(n[t.cursor+1]))})),forward:Object(e.b)((function(t,e){var n=t.history.get(t.currentHistoryType);n&&t.cursor!==n.length-1&&(t.cursor++,t.canUndo=!0,t.canRedo=t.cursor!==n.length-1,t.version++,e(n[t.cursor]))})),switchCurrentHistoryType:Object(e.b)((function(t,e){if(e)t.currentHistoryType=e;else if(t.currentHistoryType!==f&&(t.history.delete(t.currentHistoryType),t.currentHistoryType=f),e=t.history.get(f))return t.cursor=e.length-1,t.canUndo=-1!==t.cursor,void(t.canRedo=!1);t.version=-1,t.cursor=-1,t.canUndo=!1,t.canRedo=!1}))},d=n(10),p=n(40),y=n.n(p),m=(p=n(112),n.n(p)),g=(p=n(93),n.n(p)),v=(p=n(111),n.n(p)),b=(p=n(53),n.n(p)),w=(p=n(72),n.n(p)),_=(p=n(64),n.n(p)),x=(p=n(58),n.n(p)),T=(p=n(229),n.n(p)),I=(p=n(30),n.n(p)),E=(p=n(325),n.n(p)),M={};function O(t){return M[t]}var S="__";function k(t,e){return"".concat(t).concat(S).concat(e)}function L(t,e,n){return t.replace("".concat(S).concat(e),"".concat(S).concat(n))}function j(t,e,n){var r=1<arguments.length&&void 0!==e?e:0,i=2<arguments.length&&void 0!==n&&n;e=C(t.id).currentIndex;w()(e)?t.id=k(t.id,r):t.id=L(t.id,e,r),t.parentId&&(n=C(t.parentId).currentIndex,w()(n)?t.parentId=k(t.parentId,r):t.parentId=L(t.parentId,n,r)),i&&(t.children||[]).forEach((function(t){j(t,r,i)}))}function A(t){return C(t.id).currentIndex||0}function C(t){return{id:(t=t.split(S))[0],currentIndex:t[1]?parseInt(t[1],10):null}}function P(t,e){t=t||[];for(var n=0;n<t.length;n++){var r,i,o=e.get(t[n]);if(o&&null!=(r=O(o.layerType))&&null!=(i=r.isBackgroundLayer)&&i.call(r))return o}return null}function R(t,e){t=t||[];for(var n=0;n<t.length;n++){var r,i,o=e.get(t[n]);if(o&&null!=(r=O(o.layerType))&&null!=(i=r.isMainLayer)&&i.call(r))return o}return null}function F(t){var e=new Map;return function t(n){i={id:i=(r=n).id,left:o=r.left,top:a=r.top,rotate:s=r.rotate,width:u=r.width,height:r.height,layerType:c=r.layerType},s=null==(o=O(c))||null==(a=o.getActiveBaseInfo)?void 0:a.call(o,r);var r,i,o,a,s,c,u=Object.assign(i,{pickId:"",fontSize:void 0,cutWidth:d.g,cutHeight:d.g},s);e.set(u.id,u),(n.children||[]).forEach(t)}(t),e}function N(t,e,n,r,i,o,a){var s=1,c=1,u=0,l=0,f=0,h=0,p=0,y=0,m=0,g=0;!function t(n,v,b){var w,_,x,T,I,E,M,S,k,L,j,A,C,P,R,F=n.layerType,N=n.children,D=v.width,U=v.height,z=v.left,K=v.top,G=0,W=0,H=0,V=0;b?(G=Math.ceil(s*D),W=Math.ceil(c*U),(w=null==(b=O(F))||null==(w=b.correctLayerMinSize)?void 0:w.call(b,G,W,s,v))&&(G=w.width,W=w.height),H=(z-h)/u*p+m,V=(K-f)/l*y+g):(A=(b=v).cutWidth,C=b.cutHeight,R=null==(P=O(P=b.layerType))||null==(R=P.getLayerMinSize)?void 0:R.call(P,b),b=P=Object.assign({width:A,height:C},R),_=e,x=(A=v).width,T=A.height,I=A.layerType,E=b.width,M=b.height,S=null==(A=O(I))||null==(b=A.getScaleIsNeedLimitSize)?void 0:b.call(A),k=1,j=L=0,G=(C=function(){var t;return L=x+_.offset,S&&(L=Math.max(L,E)),j=T*(k=L/x),S&&(j=Math.max(j,M)),_.isMin||I===d.f.GROUP_LAYER||(_.isMin=L<=E||j<=M),_.isMin&&(t=(j-T)/T,_.offset=t*x,L=x+_.offset),{ratio:k,width:Math.ceil(L),height:Math.ceil(j)}}()).width,W=C.height,(w=null==(R=O(F))||null==(P=R.correctLayerMinSize)?void 0:P.call(R,G,W,C.ratio,v))&&(G=w.width,W=w.height,e.isMin=w.isMin),V=i===d.d.CENTER?(H=z+(D-G)/2,K+(U-W)/2):(H=(b=B(v,{width:G,height:W},o,i)).x-G/2,b.y-W/2),s=G/D,c=W/U,m=H,g=V,p=G,y=W,u=D,l=U,h=z,f=K),n.width=G,n.height=W,n.top=V,n.left=H,null!=(A=O(F))&&null!=(P=A.onBeforeScaleUpdate)&&P.call(A,n,w),(N||[]).forEach((function(e){var n=r.get(e.id);n&&t(e,n,!0)})),null!=a&&a(n)}(t,n)}function D(t,e,n,r){var i,o=!1;return r<0&&(i=[],n.size)&&(n.forEach((function(e){var n,r,o=t.get(e.id);o&&void 0!==(r=null==(n=O(e.layerType))||null==(r=n.getScaleMinRatio)?void 0:r.call(n,e,o))&&i.push(r)})),i.length)&&(n=e.width,o=(e=Math.max.apply(Math,i)*n-n)===(r=Math.max(e,r))),{offset:r,isMin:o}}function B(t,e,n,r){var i=t.rotate,o=t.width,a=t.height,s=(s=e.width)-o;a=(e=e.height)-a,t=Object(l.l)(t),n=n?1:-1,t=Object(l.b)(t,{x:a/2*n*Math.cos((90-i)/180*Math.PI)*r,y:a/2*-n*Math.sin((90-i)/180*Math.PI)*r}),a=Object(l.l)({left:t.x-o/2,top:t.y-e/2,width:o,height:e});return Object(l.b)(a,{x:s/2*Math.cos(i/180*Math.PI)*r,y:s/2*Math.sin(i/180*Math.PI)*r})}function U(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=5<arguments.length?arguments[5]:void 0,a=n.width-e.width,s=0;r&&i&&(a=e.width*((n.height-e.height)/e.height)),t.forEach((function(t){var c,u,f,h,p;t&&!t.parentId&&(u=null==(p=O(c=t.layerType))||null==(u=p.isBackgroundLayer)?void 0:u.call(p),f=null==(p=O(c))||null==(f=p.isMainLayer)?void 0:f.call(p),u||f?(p=t.width/t.height,t.width=n.width,s=Math.ceil(n.width/p),t.height=i?n.height:s,null!=(u=O(c))&&null!=(f=u.adjustResize)&&f.call(u,t,t.width,t.height)):(p=F(h=Object(l.n)({width:e.width,height:e.height,children:[t]})),function(t,e,n,r,i,o){r=3<arguments.length&&void 0!==r?r:d.d.POSITIVE,i=4<arguments.length?i:void 0,o=!(5<arguments.length&&void 0!==o)||o;var a,s,c=e.get(t.id);c&&(e.delete(t.id),a=new Map,function t(e){a.set(e.id,e),(e.children||[]).forEach(t)}(t),s={offset:n,isMin:!1},N(t,s=o?D(a,c,e,n):s,c,e,r,!1,i))}(h,p,a,void 0,(function(t){var a;h.id!==t.id&&(i&&(r?(a=n.width-e.width/(e.height/n.height),t.left+=~~(a/2)):(a=n.height-s,t.top+=~~(a/2))),null!=o)&&o(t)}),!1)))}))}p=n(228);var z=n.n(p);function K(t){t.materialIds&&!z()(t.materialIds)&&(t.materialIds=G(t.materialIds)),W(t)}(p=H=H||{}).draw="r_draw_event",p.drawEnd="r_draw_end_event",p.convert="r_convert_event",p.convertEnd="r_convert_end_event";var G=function(t){for(var e=new Map,n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];t[i]&&e.set(i,t[i])}return e},W=function(t){t.left=y()(t.left),t.top=y()(t.top),t.width=y()(t.width),t.height=y()(t.height)},H=n(205),V=n.n(H),Y=(p=n(206),n.n(p));function X(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function q(t){return function(t){if(Array.isArray(t))return J(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?J(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e){var n;(e=t.flatLayersMap.get(e))&&(n=t.renderIds[A(e)],!0===e.data.isExtraGroup)&&((e.children||[]).forEach((function(e){(e=t.flatLayersMap.get(e.id))&&(e.parentId=void 0,t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e),-1===x()(n,e.id))&&n.push(e.id)})),g()(n,e.id),t.flatLayersMap.delete(e.id))}function $(t,e){e=e.map((function(e){return Object(l.r)(e,t.rotate)}));var n=V()(e,(function(t){return t.x})),r=Y()(e,(function(t){return t.x})),i=V()(e,(function(t){return t.y})),o=(e=Y()(e,(function(t){return t.y})),n.x),a=i.y;r=r.x-n.x,n=e.y-i.y,e=Object(l.k)({width:r,height:n,leftTop:{x:o,y:a},rotate:0}),i=Object(l.r)(e,-t.rotate);t.left=i.x-r/2,t.top=i.y-n/2,t.width=r,t.height=n}function tt(t,e){(function e(n){var r,i;(n=t.flatLayersMap.get(n))&&n.layerType===d.f.GROUP_LAYER&&(r=[],i=[],(n.children||[]).forEach((function(e){(e=t.flatLayersMap.get(e.id))&&(i.push(e),e=Object(l.p)(e),r.push.apply(r,q(e)))})),r.length)&&(n.children=i,$(n,r),t.flatLayersMap.delete(n.id),t.flatLayersMap.set(n.id,n),n.parentId)&&e(n.parentId)})(e),t.onGroupLayerChange=Object(u.a)()}function et(t){return function(t){if(Array.isArray(t))return nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?nt(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rt(t,e,n){v()(n)&&(r=C(e).currentIndex,n=w()(r)?t.currentIndex:r);var r=t.renderIds[n];return x()(r,e)}function it(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];t=t.flatLayersMap.get(e),e=Object(l.e)(t);return n?I()(e):e}function ot(t,e){function n(t){var i=[];(t.children||[]).forEach((function(t){var o=e.get(t.id);(o=r?Object(l.e)(o):o)&&i.push(o),n(t)})),t.children=i}var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=[];return null!=t&&t.forEach((function(t){var a=e.get(t);if(null!=(s=a)&&s.parentId){var s=at(t,e);if(null!=s&&s.hidden)return}!(a=r?Object(l.e)(a):a)||!i&&a.parentId||(n(a),o.push(a))})),o}function at(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.get(t);return function t(i,o){if(i=e.get(i)){if(n&&i.layerType===d.f.GROUP_LAYER&&i.data.isExtraGroup)return void(r=o);i.parentId?t(i.parentId,r):r=i}else r=o}(t,r),r}function st(t){var e,n;t.hiddenIds.length&&(e=t.currentIndex,n=C(t.hiddenIds[0]).currentIndex,w()(n)||(e=n),t.renderIds[e]=I()(t.hiddenIds),t.hiddenIds.length=0)}function ct(t,e){return e=C(e).currentIndex,w()(e)&&(e=0),-1===(t=t.renderIndexMirror.indexOf(e))?0:t}function ut(t,e,n,r,i,o){o=5<arguments.length&&void 0!==o&&o;var a=t.renderIds[n],s=[];a.forEach((function(e){(e=t.flatLayersMap.get(e))&&s.push(e)})),U(s,r,i,o,e===n,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))}function lt(t,e,n,r,i){var o=t.renderIds[n],a=[];o.forEach((function(e){(e=t.flatLayersMap.get(e))&&a.push(e)})),function(t,e,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=n.width-e.width,o=n.height-e.height;t.forEach((function(t){var e,a,s=t.layerType;null!=(a=O(s))&&null!=(e=a.isBackgroundLayer)&&e.call(a)||null!=(e=O(s))&&null!=(a=e.isMainLayer)&&a.call(e)?(a=(r?n:t).height,null!=(e=O(s))&&null!=(s=e.adjustResize)&&s.call(e,t,n.width,a)):(t.left+=~~(i/2),r&&(t.top+=~~(o/2)))}))}(a,r,i,e===n)}H={addPickId:Object(e.b)((function(t,e){t.pickIdsSet.has(e)||t.pickIdsSet.add(e)})),deletePickId:Object(e.b)((function(t,e){t.pickIdsSet.delete(e)})),clearPickIds:Object(e.b)((function(t){t.pickIdsSet.clear()})),setPickLayer:Object(e.b)((function(t,e){var n=Array.isArray(e);if(n&&!e.length)return t.pickIdsSet.clear();n?e.forEach((function(e){t.pickIdsSet.has(e)||t.pickIdsSet.add(e)})):t.pickIdsSet.has(e)||t.pickIdsSet.add(e);var r=Array.from(t.pickIdsSet);T()(r,n?e:[e]).forEach((function(e){t.pickIdsSet.delete(e)}))})),updateGroupLayer:Object(e.b)((function(t,e){tt(t,e)})),brokeGroup:Object(e.b)((function(t,e){Q(t,e)})),createGroup:Object(e.b)((function(t,e){var n=e.groupId,r=(e=e.callback,[]),i=[],o="",a=0;if(t.renderSortIdsArr.forEach((function(e){var s,c,u,f,h;t.pickIdsSet.has(e)&&(0===a&&(f=n,h=C(h=e).currentIndex,o=k(C(f).id,h||0)),a++,f=Object(l.e)(t.flatLayersMap.get(e)))&&(h=f.left,e=f.top,s=f.width,c=f.height,u=f.rotate,e=Object(l.p)({left:h,top:e,width:s,height:c,rotate:u}),r.push.apply(r,q(e)),f.parentId=o,i.push(f))})),!r.length||!o)return e(null);var s=V()(r,(function(t){return t.x})),c=Y()(r,(function(t){return t.x})),u=V()(r,(function(t){return t.y})),f=Y()(r,(function(t){return t.y})),h=Object(l.e)(t.flatLayersMap.get(o));c={left:s.x,top:u.y,width:c.x-s.x,height:f.y-u.y,rotate:0,children:i};e(s=h?Z(Z({},I()(h)),c):Object(l.n)(Z(Z({id:o},c),{},{data:{isExtraGroup:!0}})))}))};p={setStageUnit:Object(e.b)((function(t,e){t.stageUnit=e})),setStageType:Object(e.b)((function(t,e){t.stageType=e})),getStageSize:Object(e.b)((function(t,e){e({width:t.stageWidth,height:t.stageHeight})})),getSizeList:Object(e.b)((function(t,e){e(t.renderStages.map((function(t){return{width:(t=null==t?void 0:t[0]).width,height:t.height}})))})),getStageIndexById:Object(e.b)((function(t,e){var n=e.payload;(0,e.callback)(ct(t,n.id))})),countStages:Object(e.b)((function(t,e){e(t.renderIndexMirror.length)})),getStages:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.flatStages),i=n.isRender,o=[];t.renderIndexMirror.forEach((function(e){var n=t.renderIds[e];t.hiddenIds.length&&C(t.hiddenIds[0]).currentIndex===e&&(n=I()(t.hiddenIds)),e=ot(n,t.flatLayersMap,!0,i);r?o=o.concat(e):o.push(e)})),null!=e&&e(o)})),getStageByIndex:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n=n.index,t.renderIds[t.renderIndexMirror[n]]||[]);t.hiddenIds.length&&C(t.hiddenIds[0]).currentIndex===n&&(r=I()(t.hiddenIds)),n=ot(r,t.flatLayersMap,!0);null!=e&&e(n)})),updateExtraInfo:Object(e.b)((function(t,e){var n=e.index,r=(e=e.extraInfo,et(t.extraInfos));r[t.renderIndexMirror[n]]=e,t.extraInfos=r})),addExtraInfos:Object(e.b)((function(t,e){t.extraInfos=[].concat(et(t.extraInfos),et(e))})),getExtraInfoByIndex:Object(e.b)((function(t,e){var n=e.payload;e=e.callback,n=n.index,t=t.extraInfos[t.renderIndexMirror[n]];null!=e&&e(I()(t)||{})})),getRenderExtraInfos:Object(e.b)((function(t,e){var n=[];t.renderIndexMirror.forEach((function(e){n.push(I()(t.extraInfos[e]||{}))})),e(n)})),addStages:Object(e.b)((function(t,e){function n(e){0===e&&(h=[],d=t.renderIds.length,t.renderIds[d]=h,v=b()(a)?(a=E()(a,0,t.renderIndexMirror.length-1),t.renderIndexMirror=Object(l.s)(t.renderIndexMirror,a,d,!1),g=I()(t.renderIndexMirror),t.renderIndexMirror.indexOf(d)):(t.renderIndexMirror.push(d),g=I()(t.renderIndexMirror),t.renderIndexMirror.length-1))}function r(e){var n,i;null!=(n=O(e.layerType))&&null!=(i=n.onBeforeAddOrUpdate)&&i.call(n,e),j(e,d),(e.children||[]).forEach((function(t){r(t)})),-1===x()(h,e.id)&&h.push(e.id),K(e),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}var i,o=e.payload,a=(e=e.callback,o.index),s=o.data,c=o.activeNewStage,u=o.replaceStage,f=o.scaleWidth,h=(o=o.replaceAllStage,[]),d=0,p=I()(t.renderIndexMirror),m=t.activeStageIndex,g=p,v=m;s.forEach((function(t,e){_()(t)?t.forEach((function(t,e){n(e),r(t)})):(n(e),r(t))})),c&&(t.activeStageIndex=v),f&&(s=P(t.renderIds[t.renderIndexMirror[v]],t.flatLayersMap))&&(c=s.width,f=s.height,c!==(s=t.currentWidth))&&(i={width:c,height:f},s={width:s,height:y()(s/(c/f))},ut(t,t.currentIndex,t.renderIndexMirror[v],i,s)),u&&(v=m,(g=I()(p))[m]=d,t.renderIndexMirror=I()(g)),o&&(v=0,g=T()(g,p),t.renderIndexMirror=I()(g),t.activeStageIndex=v),null!=e&&e({result:!0,oldIds:p,oldIndex:m,newIds:g,newIndex:v})})),delStage:Object(e.b)((function(t,e){var n=e.payload;e=e.callback,n=n.index;if(1===(r=t.renderIndexMirror.length))return null==e?void 0:e({result:!1});n=E()(n,0,r-1);var r,i=(r=I()(t.renderIndexMirror))[n],o=(i=(g()(t.renderIndexMirror,i),I()(t.renderIndexMirror)),Math.max(t.activeStageIndex-1,0));t.activeStageIndex=o,null!=e&&e({result:!0,oldIds:r,oldIndex:n,newIds:i,newIndex:o})})),swapStage:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.originIndex);if(r===(n=n.destIndex))return null==e?void 0:e({result:!1});var i=I()(t.renderIndexMirror),o=t.renderIndexMirror[r],a=t.renderIndexMirror[n];g()(t.renderIndexMirror,o),a=t.renderIndexMirror.indexOf(a),t.renderIndexMirror=Object(l.s)(t.renderIndexMirror,a,[o],n<r),a=I()(t.renderIndexMirror),n=t.renderIndexMirror.indexOf(o);t.activeStageIndex=n,null!=e&&e({result:!0,oldIds:i,oldIndex:r,newIds:a,newIndex:n})})),restoreStages:Object(e.b)((function(t,e){var n=e.ids;e=e.index;t.renderIndexMirror=I()(n),t.activeStageIndex=e})),cloneStage:Object(e.b)((function(t,e){var n=e.payload;e=e.callback,n=n.index;null!=e&&e(I()(ot(t.renderIds[t.renderIndexMirror[n]],t.flatLayersMap,!0,!1)))})),adjustStageHeight:Object(e.b)((function(t,e){var n,r=e.index;e=e.height;(r=P(t.renderIds[t.renderIndexMirror[r]||0],t.flatLayersMap))&&null!=(t=O(r.layerType))&&null!=(n=t.adjustHeight)&&n.call(t,r,e)})),quickAdjustSize:Object(e.b)((function(t,e){for(var n=e.index,r=e.newSize,i=e.oldSize,o=e.adjustType,a=e.positionMap,s=r.width,c=r.height,u=i.width,l=i.height,f=t.renderIds[t.renderIndexMirror[n]||0],h=0;h<f.length;h++){var p,y,m,g,v=t.flatLayersMap.get(f[h]);v&&(null!=(m=O(v.layerType))&&null!=(p=m.isBackgroundLayer)&&p.call(m)||null!=(p=O(v.layerType))&&null!=(m=p.isMainLayer)&&m.call(p)?null!=(m=O(v.layerType))&&null!=(y=m.adjustResize)&&y.call(m,v,s,c):(y=c-l,m=s-u,a?(g=a.get(v.id))&&(o===d.i.TC?v.top=~~(g.y+y):o===d.i.LC&&(v.left=~~(g.x+m))):o===d.i.TC?v.top+=~~y:o===d.i.LC&&(v.left+=~~m)))}})),adjustStageResize:Object(e.b)((function(t,e){var n=e.index,r=e.oldSize,i=e.newSize,o=(e=e.onlyCurrentStage,ft.clear(),t.renderIndexMirror[n]);e?lt(t,o,o,r,i):t.renderIndexMirror.forEach((function(e){lt(t,o,e,r,i)}))})),adjustStageScale:Object(e.b)((function(t,e){var n=e.index,r=e.oldSize,i=e.newSize,o=e.useHeightScale,a=(e=e.onlyCurrentStage,ft.clear(),t.renderIndexMirror[n]);e?ut(t,a,a,r,i,o):t.renderIndexMirror.forEach((function(e){ut(t,a,e,r,i,o)}))})),batchUpdateLayer:Object(e.b)((function(t,e){for(var n=e.layers,r=e.skipChild,i=new Set,o=0;o<n.length;o++){var a=A(n[o]);i.add(a)}Array.from(i).forEach((function(t){ft.delete(t)}));for(var s=function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)},c=0;c<n.length;c++){var u=n[c];r||(u.children||[]).forEach((function(t){s(t)})),s(u),r||u.layerType===d.f.GROUP_LAYER&&tt(t,u.id)}})),addOrUpdateLayer:Object(e.b)((function(t,e){function n(e){!r&&e&&(e=C(e).currentIndex,c=w()(e)?t.currentIndex:e,t.renderIds[c]?r=t.renderIds[c]:(r=[],t.renderIds.push(r),c=t.renderIds.length-1))}var r,i=e.layer,o=e.deleteIds,a=e.insertIds,s=e.callback,c=0,f=(o||a?(o&&(Array.isArray(o)?(n(o[0]),m):(n(o),g))()(r,o),a&&(Array.isArray(a)?(n(a[0]),t.renderIds[c]=r.concat(a)):"string"==typeof a?(n(a),t.renderIds[c].push(a)):(n(Array.from(a.values())[0]),Object(l.t)(r,a)))):n((i=s?i:e).id),function(t){return-1!==x()(r,t)}),h=[];(function e(n){var i,o,a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];null!=(i=O(n.layerType))&&null!=(o=i.onBeforeAddOrUpdate)&&o.call(i,n),j(n,c),(n.children||[]).forEach((function(t){e(t)})),o=n.id,f(o)||r.push(o),a||h.push(n.id),K(n),t.flatLayersMap.delete(n.id),t.flatLayersMap.set(n.id,n)})(i,!0),h.length&&i.layerType===d.f.GROUP_LAYER&&!i.data.isExtraGroup&&(m()(r,h),o=x()(r,i.id),t.renderIds[c]=Object(l.s)(r,o,h)),-1===t.renderIndexMirror.indexOf(c)&&(t.renderIndexMirror.push(c),t.renderIndexMirror.length),t.onLayerChange=Object(u.a)(),s&&s(I()(i))})),delLayer:Object(e.b)((function(t,e){var n,r=C(e.id).currentIndex;b()(r)&&(n=t.renderIds[r],function e(r){(r.children||[]).forEach((function(t){e(t)})),t.flatLayersMap.delete(r.id),g()(n,r.id)}(e))})),hideMaterial:Object(e.b)((function(t){st(t);for(var e=t.renderIds[t.currentIndex],n=(t.hiddenIds=I()(e),[]),r=0;r<e.length;r++){var i,o=e[r],a=t.flatLayersMap.get(o);a&&(null==(a=O(a.layerType))||null==(i=a.checkDisableHide)?void 0:i.call(a))&&n.push(o)}t.renderIds[t.currentIndex]=n})),showMaterial:Object(e.b)((function(t){st(t)})),convertToCurrentIndex:Object(e.b)((function(t,e){var n=e.payload;e=e.callback,n=n.index;null!=e&&e(t.renderIndexMirror[n]||0)})),checkLayerInRender:Object(e.b)((function(t,e){var n=e.payload;(0,e.callback)(-1!==rt(t,n))})),getLayers:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.isRenderLayers),i=n.isResult,o=(n=n.index,t.currentIndex);b()(n)&&-1!==n&&(o=t.renderIndexMirror[n]||0),n=t.renderIds[o];i&&t.hiddenIds.length&&C(t.hiddenIds[0]).currentIndex===o&&(n=I()(t.hiddenIds)),e(ot(n,t.flatLayersMap,!0,r))})),getLayerById:Object(e.b)((function(t,e){var n=e.payload;(e=e.callback)(it(t,n.id,n=n.withClone))})),getMainLayer:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n=n.index,t.currentIndex);-1!==n&&(r=t.renderIndexMirror[n]||0),e((n=R(t.renderIds[r],t.flatLayersMap))?Object(l.e)(n):null)})),getBackgroundLayer:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n=n.index,t.currentIndex);-1!==n&&(r=t.renderIndexMirror[n]||0),e((n=P(t.renderIds[r],t.flatLayersMap))?Object(l.e)(n):null)})),getLayerIndex:Object(e.b)((function(t,e){var n=e.payload;(0,e.callback)(rt(t,n))})),getLayerIndexMap:Object(e.b)((function(t,e){function n(e){var n=rt(t,e,o);-1!==n&&s.set(n,e)}var r=e.payload,i=(e=e.callback,r.id),o=(r=r.withSelf,t.currentIndex),a=C(i).currentIndex,s=(w()(a)||(o=a),new Map);a=t.flatLayersMap.get(i);r&&n(i),(null==a?void 0:a.layerType)===d.f.GROUP_LAYER&&(a.children||[]).forEach((function(t){n(t.id)})),e({id:i,layerIndexMap:s})})),getLayerIndexSortList:Object(e.b)((function(t,e){for(var n=e.payload,r=(e=e.callback,n.id),i=n.isExtraGroup,o=n.ignore,a=t.currentIndex,s=(n=C(r).currentIndex,n=(w()(n)||(a=n),t.flatLayersMap.get(r)),[]),c=Object(l.f)(n),u="",f=new Map,h=(r=(function e(n){var r,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];(n.children||[]).forEach((function(t){i&&!u&&(u=t.id),e(t)})),i||-1!==(r=rt(t,n.id,a))&&f.set(r,n.id)}(n,i),u=u||n.id,t.renderIds[a]),ot(r,t.flatLayersMap,!1,!0)),p=0,y=h.length;p<y;p++){var m=h[p],g=m.id,v=m.layerType,b=m.parentId,_=m.data,T=m.hidden;o&&-1!==x()(o,v)||(m=Object(l.f)(m),g!==u&&(b||!c.polygon.collidesWith(m.polygon)))||v===d.f.GROUP_LAYER&&_.isExtraGroup||T||s.push(g)}e({sortList:s,sortIndex:x()(s,u),sortId:u,originLayerSortMap:f})})),getCollisionLayers:Object(e.b)((function(t,e){for(var n=e.callback,r=e.payload.ignoreLockLayer,i=t.layers,o=[],a=0,s=i.length;a<s;a++){var c,u,f=Object(l.e)(i[a]);(r&&!f.lock||!r)&&!f.hidden&&(f.layerType===d.f.GROUP_LAYER?f.data.isExtraGroup?null!=(c=f.children)&&c.forEach((function(t){o.push(t)})):o.push(f):(null==(c=O(f.layerType))||null==(u=c.checkDisableHide)?void 0:u.call(c))||o.push(f))}n(o)})),cloneLayer:Object(e.b)((function(t,e){var n,r=e.payload,i=(e=e.callback,r.layer),o="string"==typeof i;r.withParentLayer?(n=o?it(t,i):I()(i),function e(r){null!=r&&r.parentId?e(it(t,r.parentId)):n=r}(i),e(n||void 0)):e(o?it(t,i)||void 0:I()(i))})),getLayerParentId:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.id);n=n.extraGroupIsWrap;e(null==(r=at(r,t.flatLayersMap,n))?void 0:r.id)})),getActiveInfo:Object(e.b)((function(t,e){e(Object(l.e)(t.activeInfo))})),getActivePickInfo:Object(e.b)((function(t,e){t=Object(l.h)(t,null==(t=t.activeInfo)?void 0:t.pickId).activeInfo,e(Object(l.e)(t))})),updateOpacity:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.id),i=(n=n.opacity,t.flatLayersMap.get(r));i&&(i.opacity=n,t.flatLayersMap.delete(r),t.flatLayersMap.set(r,i)),e()})),updateRotate:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.id),i=(n=n.rotate,t.flatLayersMap.get(r));i&&(i.rotate=n,t.flatLayersMap.delete(r),t.flatLayersMap.set(r,i)),null!=i&&i.parentId&&tt(t,i.parentId),e()})),updateShine:Object(e.b)((function(t,e){var n=e.payload,r=(e=e.callback,n.id),i=(n=n.shine,t.flatLayersMap.get(r));i&&(i.shine=n,t.flatLayersMap.delete(r),t.flatLayersMap.set(r,i)),e()}))};var ft=new Map,ht={stageUnit:l.a.px,stageType:d.k.SINGLE,flatLayersMap:new Map,extraInfos:[],renderIds:[],pptDemoMode:null,hiddenIds:[],renderIndexMirror:[],activeStageIndex:0,activeInfo:null,activeChildInfoMap:new Map,hoverId:null,hoverLayerType:null,pickIdsSet:new Set,originScale:1,onLayerChange:"",onGroupLayerChange:"",onActiveChange:"",isPickStage:!1,destroy:Object(e.b)((function(t){ft.clear(),t.flatLayersMap.clear(),t.extraInfos.length=0,t.renderIds.length=0,t.hiddenIds.length=0,t.activeStageIndex=0,t.renderIndexMirror.length=0,t.activeInfo=null,t.activeChildInfoMap.clear(),t.hoverId=null,t.hoverLayerType=null,t.pickIdsSet.clear(),t.originScale=1,t.isPickStage=!1,t.stageType=d.k.SINGLE,t.stageUnit=l.a.px})),stageWidth:Object(e.c)([function(t){return t.currentWidth}],(function(t){return t})),stageHeight:Object(e.c)([function(t){return t.currentHeight},function(t){return t.stageType},function(t){return t.renderStages}],(function(t,e,n){var r;return e===d.k.SINGLE?t:(r=0,n.forEach((function(t){r+=t[0].height})),r)})),currentIndex:Object(e.c)([function(t){return t.activeStageIndex},function(t){return t.renderIndexMirror}],(function(t,e){return e[t]})),renderStages:Object(e.c)([function(t){return t.currentIndex},function(t){return t.renderIds},function(t){return t.renderIndexMirror},function(t){return t.flatLayersMap}],(function(t,e,n,r){var i=[];return n.forEach((function(n,o){ft.get(n)&&n!==t||(a=ot(e[n],r,!1,!0),ft.set(n,a));var a=ft.get(n);a&&i.push(a)})),i})),currentWidth:Object(e.c)([function(t){return t.backGroundLayer}],(function(t){return t.width})),currentHeight:Object(e.c)([function(t){return t.backGroundLayer}],(function(t){return t.height})),renderSortIdsArr:Object(e.c)([function(t){return t.renderIds},function(t){return t.currentIndex}],(function(t,e){return t[e]||[]})),mainLayer:Object(e.c)([function(t){return t.renderIds},function(t){return t.flatLayersMap},function(t){return t.currentIndex}],(function(t,e,n){return t[n]&&(t=R(t[n],e))?t:{width:0,height:0}})),backGroundLayer:Object(e.c)([function(t){return t.renderIds},function(t){return t.flatLayersMap},function(t){return t.currentIndex}],(function(t,e,n){return t[n]&&(t=P(t[n],e))?t:{width:0,height:0}})),layers:Object(e.c)([function(t){return t.renderIds},function(t){return t.flatLayersMap},function(t){return t.currentIndex}],(function(t,e,n){return t[n]?ot(t[n],e):[]})),renderLayers:Object(e.c)([function(t){return t.renderIds},function(t){return t.flatLayersMap},function(t){return t.currentIndex}],(function(t,e,n){return t[n]?ot(t[n],e,!1,!0):[]}))};function dt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e){t.activeStageIndex=ct(t,e)}var mt={getIsPickStage:Object(e.b)((function(t,e){e(t.isPickStage)})),setIsPickStage:Object(e.b)((function(t,e){t.isPickStage=e})),getActiveSize:Object(e.b)((function(t,e){e({width:t.currentWidth,height:t.currentHeight})})),setActiveStageIndex:Object(e.b)((function(t,e){var n=t.renderIndexMirror.length-1;t.activeStageIndex=Math.min(e,n)})),setActiveStageByLayerId:Object(e.b)((function(t,e){yt(t,e)})),getActiveStageIndex:Object(e.b)((function(t,e){e(t.activeStageIndex)})),setActiveInfo:Object(e.b)((function(t,e){var n;w()(e)&&(null!=(n=t.activeInfo)&&n.id&&Q(t,n.id),t.activeChildInfoMap.clear()),null!=e&&e.id&&yt(t,e.id),t.activeInfo=I()(e),t.onActiveChange=Object(u.a)()})),setActiveInfoById:Object(e.b)((function(t,e){var n,r,i=e.id,o=e.pickId,a=e.isLink,s=(e.from,t.activeChildInfoMap.clear(),t.onActiveChange=Object(u.a)(),null!=(e=t.activeInfo)&&e.id&&i!==(null==(e=t.activeInfo)?void 0:e.id)&&(null==(e=t.flatLayersMap.get(t.activeInfo.id))?void 0:e.layerType)===d.f.GROUP_LAYER&&(n=t.renderIds[A(e)],!0===e.data.isExtraGroup)&&((e.children||[]).forEach((function(e){(e=t.flatLayersMap.get(e.id))&&(e.parentId=void 0,t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e),-1===x()(n,e.id))&&n.push(e.id)})),g()(n,e.id),t.flatLayersMap.delete(e.id),t.activeInfo=null),function(e){var n,r,i;if(e=t.flatLayersMap.get(e.id))return r={id:e.id,left:e.left,top:e.top,rotate:e.rotate,width:e.width,height:e.height,layerType:e.layerType},i=null==(n=O(e.layerType))||null==(i=n.getActiveBaseInfo)?void 0:i.call(n,e),Object.assign(r,{pickId:"",cutWidth:d.g,cutHeight:d.g},i)}),c=function(e){(e||[]).forEach((function(e){c(e.children),(e=s(e))&&(t.activeChildInfoMap.delete(e.id),t.activeChildInfoMap.set(e.id,e))}))},l=(e=function(e){var n;if(a){var r=t.flatLayersMap.get(e);if(null!=r&&r.parentId&&(r=t.flatLayersMap.get(r.parentId))){var i=null==(i=O(r.layerType))?void 0:i.getActiveIdWithLink;if(i)return i(r)}return e}return function e(r,i){var o=t.flatLayersMap.get(r);o?o.parentId?e(o.parentId,r):n=o.id:n=i}(n=e,e),n}(i),t.flatLayersMap.get(e));l&&(o||e===i||(o=i),a?(e=null==(e=O(l.layerType))?void 0:e.correctActivePickId)&&(o=e()):o&&(e=t.flatLayersMap.get(o))&&(e=null==(e=O(e.layerType))?void 0:e.correctActivePickId)&&(o=e()),c(l.children),r=(e=t.activeInfo||{id:"",pickId:""}).id,e=e.pickId,l=s(l),t.activeInfo=l?pt(pt({},l),{},{pickId:o||(r===i?e:"")}):null,null!=(l=t.activeInfo))&&l.id&&yt(t,null==(o=t.activeInfo)?void 0:o.id)})),updateActiveLayerPosition:Object(e.b)((function(t,e){var n,r,i=e.id,o=e.x,a=e.y,s=(e=e.callback,Object(l.i)(t,i));s&&(n=(i=Object(l.h)(t,i)).activeInfo,r=i.activeChildInfoMap,function e(n,i){(n.children||[]).forEach((function(t){var n=r.get(t.id);n&&e(t,n)}));var s=i.left;i=i.top;n.left=s+o,n.top=i+a,t.flatLayersMap.delete(n.id),t.flatLayersMap.set(n.id,n)}(s,n),null!=e)&&e(s.left,s.top)})),updateActiveLayerRotate:Object(e.b)((function(t,e){var n,r,i,o,a,s,c=e.id,u=e.angle,f=(e=e.callback,Object(l.i)(t,c));f&&(r=(c=Object(l.h)(t,c)).activeInfo,c=c.activeChildInfoMap,n=f,i=c,o=u,a=function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)},s=Object(l.l)(r),function t(e,n,r){(e.children||[]).forEach((function(e){var n,r=i.get(e.id);r&&(n=Object(l.l)(r),n=Object(l.z)(n,s,o),t(e,r,n))}));var c=n.rotate,u=n.width;n=n.height;e.rotate=Object(l.j)(c+o),r&&(e.left=r.x-u/2,e.top=r.y-n/2),null!=a&&a(e)}(n,r),null!=e)&&e(f.rotate)})),updateActiveLayerScale:Object(e.b)((function(t,e){var n,r=e.id,i=e.offset,o=e.direction,a=e.reverse,s=(e=e.callback,Object(l.i)(t,r));s&&(n=(r=Object(l.h)(t,r)).activeInfo,r=r.activeChildInfoMap,N(s,i=D(t.flatLayersMap,n,r,i),n,r,o,a,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)})),null!=e)&&e(s.width,s.height,i.isMin)})),updateActiveLayerResize:Object(e.b)((function(t,e){var n,r,i,o,a,s,c=e.id,u=e.offset,f=e.direction,h=e.reverse,d=e.isChangeHeight,p=(e=e.callback,Object(l.i)(t,c));p&&(n=!1,s=(c=Object(l.h)(t,c).activeInfo).width,o=c.height,r=c.cutWidth,i=c.cutHeight,u<0&&(u=d?Math.max(u,-(o-i)):Math.max(u,-(s-r))),d?p.height=u+o:p.width=u+s,o=null==(i=O(p.layerType))||null==(r=i.onBeforeResizeUpdate)?void 0:r.call(i,p,d),u=p.width,s=p.height,o?(a=B(c,o,h,d?1:f),u=o.width,s=o.height):a=B(c,p,!1,f),p.left=a.x-u/2,p.top=a.y-s/2,t.flatLayersMap.delete(p.id),t.flatLayersMap.set(p.id,p),n=!(!o||!o.isMin)||(d?p.height<=c.cutHeight:p.width<=c.cutWidth),null!=e)&&e(p.width,p.height,n)})),tryGetPosition:Object(e.b)((function(t,e){var n=e.id,r=(e=e.outPosition,ct(t,n));t.activeStageIndex===r&&(r=t.flatLayersMap.get(n))&&(v()(null==e?void 0:e.left)||(e.left=r.left),v()(null==e?void 0:e.top)||(e.top=r.top))}))},gt={setHoverId:Object(e.b)((function(t,e){var n=e.id;e=e.type;t.hoverId=n,t.hoverLayerType=e})),getHoverId:Object(e.b)((function(t,e){e(t.hoverId,t.hoverLayerType)}))},vt=n(183),bt=n.n(vt),wt=(vt={restoreRenderSortIds:Object(e.b)((function(t,e){var n=Array.from(e.values()),r=C(n[0]).currentIndex;b()(r)&&(t=t.renderIds[r],m()(t,n),Object(l.t)(t,e))})),changeRenderSortIds:Object(e.b)((function(t,e){var n,r,i=e.type,o=e.toId,a=e.originMap,s=(e=e.callback,Array.from(a.values())),c=C(s[0]).currentIndex,u=new Map;b()(c)&&(n=t.renderIds[c],m()(n,s),"origin"===i?Object(l.t)(n,a):(a=x()(n,o),"up"===i?a+=1:(i=t.flatLayersMap.get(o),r=-1,function t(e){((null==e?void 0:e.children)||[]).forEach((function(e){t(e)})),e&&r++}(i),a-=r),o=bt()(n,0,a),i=bt()(n,a),t.renderIds[c]=o.concat(s).concat(i)),s.forEach((function(e){u.set(x()(t.renderIds[c],e),e)}))),null!=e&&e(u)})),setRenderSortIdsArr:Object(e.b)((function(t,e){t.renderIds[t.currentIndex]=e}))},n(184)),_t=n.n(wt),xt=function(t){var e=Math.sqrt(Math.pow(t/.2,2)/2),n=(e=Math.sqrt(Math.pow(e,2)/2),Math.sqrt(2*Math.pow(t/2,2)));return{offset:n,borderOffset:t=Math.sqrt(Math.pow(t/2,2)/2),arrowShadow:e,minWidth:e+t+2*n,height:~~(2*e+n)}};function Tt(t,e){var n,r,i,o,a,s,c,u,l,f,h;t.layerType===d.f.SVG_LAYER&&(n=t.width,r=t.height,i=(f=t.data).path,(o=f.name)!==d.n.line&&b()(e)&&((u=t.data).strokeWidth=Math.max(Math.min(u.strokeWidth*e,100),1)),o===d.n.line?(f.strokeWidth=Math.min(t.height,100),h=(f=(u=t).data).strokeWidth,f.path=function(t,e){return"M 0 ".concat(e/2," L ").concat(t," ").concat(e/2)}(u.width,h),b()(l)&&(f=h-l,u.height=h,u.top-=f/2)):o===d.n.arrow?(b()(e)||n!==(h=(l=t).pathRenderSize.width)&&((f=t.data).strokeWidth=Math.max(Math.min(f.strokeWidth*(n/h),100),1),l.pathRenderSize={width:n,height:r}),f=(e=(o=t).data).strokeWidth,c=(l=xt(f)).minWidth,l=l.height,b()(a)&&(a=xt(a).height,o.width<c&&(s=c-o.width,o.width=c,o.left-=~~(s/2)),c=(o.height=l)-a,o.top-=~~(c/2)),e.path=function(t,e){var n=t.height,r=(t=t.width,(e=xt(e)).offset),i=e.arrowShadow,o=(e=e.borderOffset,r=(t-=r)-i,(n/=2)-i);return i=n+i,"M ".concat(0," ").concat(n," L ").concat(t," ").concat(n," M ").concat(r," ").concat(o," L ").concat(t+e," ").concat(n+e,"M ").concat(r," ").concat(i,"L ").concat(t," ").concat(n,"Z")}(o,f)):(a=(l=(s=t).pathRenderSize).width,c=l.height,n===a&&r===c||(e=n/a,o=r/c,f=_t()(i).scale(e,o).toString(),t.data.path=f,s.pathRenderSize={width:n,height:r})))}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Et(t,e){t.forEach((function(t){t.layerType===d.f.GROUP_LAYER&&Object(l.E)(t,(function(t){var n;t.layerType===d.f.GROUP_LAYER&&(n=[],(t.children||[]).forEach((function(t){t=Object(l.p)(t),n.push.apply(n,function(t){return function(t){if(Array.isArray(t))return It(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?It(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))})),n.length)&&($(t,n),e(t))}))}))}function Mt(t,e,n){var r,i=t.data;i.stretchOption===d.l.cover&&(r=i.naturalHeight,i=i.naturalWidth,r=(i=Object(l.d)({imgWidth:i,imgHeight:r,stageHeight:n,stageWidth:e})).widthRatio,i=i.heightRatio,t.data.imageTransform.widthRatio=r,t.data.imageTransform.heightRatio=i),t.width=e,t.height=n}function Ot(t,e){var n;t.layerType===d.f.TEXT_LAYER&&(n=(t=t.data).fontSize,t.fontSize=n*e)}wt={updatePPTDemoMode:Object(e.b)((function(t,e){t.pptDemoMode=e})),updateStageSize:Object(e.b)((function(t,e){var n=e.width,r=e.height,i=(e=t.layers,t.mainLayer),o=i.top,a=i.left,s=i.rotate,c=(y=i.data).naturalWidth,u=y.naturalHeight,f=y.imageTransform,h=f.scale,p=r/u,y=p<(y=n/c)?y:p;f.scale=y,i.left=(n-c*y)/2,i.top=(r-u*y)/2,i.width=n,i.height=r,i.rotate=0,f.flipH=!1,f.flipV=!1,f.rotate=0,t.flatLayersMap.delete(i.id),t.flatLayersMap.set(i.id,i),t.originScale=f.scale,Object(l.F)(e,(function(e){var l,p,y,m,g,v,b;e.layerType===d.f.BACKGROUND_LAYER?(Mt(e,n,r),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)):e.layerType===d.f.MAIN_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(l=f.scale,p=i.left,y=i.top,g=e.left,v=e.top,b=e.width,m=e.height,g=l/h*(g+b/2-(a+c*h/2)),v=l/h*-(v+m/2-(o+u*h/2)),e.width=b*(l/h),e.height=m*(l/h),e.rotate=e.rotate-s,b={x:g+(p+c*l/2)-e.width/2,y:-v+(y+u*l/2)-e.height/2},e.left=b.x,e.top=b.y,Ot(e,l/h),Tt(e,l/h),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))})),Et(e,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))})),rotateFullStage:Object(e.b)((function(t,e){var n=e.rotate,r=(e=e.setStageSize,t.layers),i=t.mainLayer,o=i.top,a=i.left,s=i.width,c=i.height,u=i.rotate,f=(y=i.data).naturalWidth,h=y.naturalHeight,p=y.imageTransform.scale,y=((y=Object(l.q)(i).originRelativeStagePoint).y=-y.y,Object(l.y)(y,-n));i.width=c,i.height=s,i.rotate=(u+n)%360,u={x:y.x+c/2-f*p/2,y:-y.y+s/2-h*p/2};i.left=u.x,i.top=u.y,e&&e({width:i.width,height:i.height}),t.flatLayersMap.delete(i.id),t.flatLayersMap.set(i.id,i),Object(l.F)(r,(function(e){var r,s,c,u,y,m;e.layerType===d.f.BACKGROUND_LAYER?(Mt(e,i.width,i.height),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)):e.layerType===d.f.MAIN_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(e.rotate=(e.rotate+n)%360,r=i.left,s=i.top,m=e.left,y=e.top,c=e.width,u=e.height,m={x:m+c/2-(a+f*p/2),y:-(y+u/2-(o+h*p/2))},m={x:(y=Object(l.y)(m,-n)).x+(r+f*p/2)-c/2,y:-y.y+(s+h*p/2)-u/2},e.left=m.x,e.top=m.y,t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))}))})),rotateStage:Object(e.b)((function(t,e){var n=e.rotate,r=(e=(e.originScale,t.layers),t.mainLayer),i=r.width,o=r.height,a=(f=n)?f/Math.abs(f):1,s=(a=(90===Math.abs(r.rotate)?f=0<r.rotate*f?0:f:90<Math.abs(f+r.rotate%90)&&(f=(90-Math.abs(r.rotate%90))*a),n=f,r.data)).naturalWidth,c=a.naturalHeight,u=a.imageTransform,f=u.scale,h=(a=Object(l.q)(r)).originRelativeStagePoint,p=a.originMainLayerCenterPoint,y=(a={x:(a=(h.y=-h.y,Object(l.y)({x:h.x,y:h.y},-n))).x+i/2-s*f/2,y:-a.y+o/2-c*f/2},(a=(r.left=a.x,r.top=a.y,r.rotate=r.rotate+n,Object(l.c)({mainLayerSize:{width:i,height:o},adjustLayerSize:{width:s*f,height:c*f},adjustLayerRotate:r.rotate,adjustLayerRelativePosition:Object(l.y)({x:-h.x,y:-h.y},r.rotate)}))).scale);a=a.movePoint;1===y?(r.left=h.x+a.x+i/2-s*f/2,r.top=-h.y-a.y+o/2-c*f/2):(u.scale=f*y,r.left=r.left+(s*f-s*f*y)/2,r.top=r.top+(c*f-c*f*y)/2),t.flatLayersMap.delete(r.id),t.flatLayersMap.set(r.id,r),Object(l.F)(e,(function(e){var i,o,a,f,h;e.layerType===d.f.BACKGROUND_LAYER?(Mt(e,r.width,r.height),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)):e.layerType===d.f.MAIN_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(h=e.left,i=e.top,f={x:h+(h=e.width)/2,y:i+(i=e.height)/2},(f=Object(l.w)(p,f)).y=-f.y,f={x:(f=Object(l.y)(f,-n)).x,y:-f.y},o=r.left+s*u.scale/2,a=r.top+c*u.scale/2,f=Object(l.x)(f,y),e.width=h*y,e.height=i*y,h={x:f.x+o-e.width/2,y:f.y+a-e.height/2},e.left=h.x,e.top=h.y,e.rotate=e.rotate+n,Ot(e,y),Tt(e,y),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))})),Et(e,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))})),moveStage:Object(e.b)((function(t,e){var n,r=e.movePoint,i=(e=e.isEnd,t.layers),o=t.mainLayer,a=o.left,s=o.top,c=o.width,u=o.height,f=o.rotate,h=(n=o.data).naturalWidth,p=n.naturalHeight,y=n.imageTransform,m=y.scale;o.left=o.left+r.x,o.top=o.top+r.y,(n=Object(l.q)(o).originRelativeStagePoint).y=-n.y,e&&(r=Object(l.y)({x:-n.x,y:-n.y},f),n=(e=Object(l.c)({mainLayerSize:{width:c,height:u},adjustLayerSize:{width:h*m,height:p*m},adjustLayerRotate:o.rotate,adjustLayerRelativePosition:r})).scale,f=e.movePoint,1===n)&&(o.left=o.left+f.x,o.top=o.top-f.y),Object(l.F)(i,(function(e){var n,r,i,c,u,l,f;e.layerType===d.f.MAIN_LAYER||e.layerType===d.f.BACKGROUND_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(n=y.scale,r=o.left,i=o.top,u=e.left,l=e.top,f=e.width,c=e.height,u=n/m*(u+f/2-(a+h*m/2)),l=n/m*-(l+c/2-(s+p*m/2)),e.width=f*(n/m),e.height=c*(n/m),f={x:u+(r+h*n/2)-e.width/2,y:-l+(i+p*n/2)-e.height/2},e.left=f.x,e.top=f.y,Ot(e,n/m),Tt(e,n/m),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))})),t.flatLayersMap.delete(o.id),t.flatLayersMap.set(o.id,o),Et(i,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))})),flipXStage:Object(e.b)((function(t){var e=t.layers,n=t.mainLayer,r=n.width,i=n.height;Object(l.F)(e,(function(e){var n,o,a,s=e.left,c=e.top,u=e.width,l=e.height;e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||e.layerType!==d.f.BACKGROUND_LAYER&&(e.layerType===d.f.MAIN_LAYER&&(a=(o=e.data).naturalHeight,n=o.naturalWidth,u=(o=o.imageTransform.scale)*n,l=o*a),o={x:-(n={x:s+u/2-r/2,y:c+l/2-i/2}).x+r/2-u/2,y:n.y+i/2-l/2},e.rotate=e.rotate+(360-2*e.rotate),e.left=o.x,e.top=o.y,e.layerType===d.f.TEXT_LAYER?(a=e.data).flipH=!a.flipH:e.layerType!==d.f.IMAGE_LAYER&&e.layerType!==d.f.MAIN_LAYER||((s=e.data.imageTransform).flipH=!s.flipH),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))}))})),flipYStage:Object(e.b)((function(t){var e=t.layers,n=t.mainLayer,r=n.width,i=n.height;Object(l.F)(e,(function(e){var n,o,a,s=e.left,c=e.top,u=e.width,l=e.height;e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||e.layerType!==d.f.BACKGROUND_LAYER&&(e.layerType===d.f.MAIN_LAYER&&(a=(o=e.data).naturalHeight,n=o.naturalWidth,u=(o=o.imageTransform.scale)*n,l=o*a),o={x:(n={x:s+u/2-r/2,y:c+l/2-i/2}).x+r/2-u/2,y:-n.y+i/2-l/2},e.rotate=-e.rotate,e.left=o.x,e.top=o.y,e.layerType===d.f.TEXT_LAYER?(a=e.data).flipV=!a.flipV:e.layerType!==d.f.IMAGE_LAYER&&e.layerType!==d.f.MAIN_LAYER||((s=e.data.imageTransform).flipV=!s.flipV),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))}))})),moveChangeStageSize:Object(e.b)((function(t,e){var n=e.params,r=e.setStageSize,i=(e=e.isEnd,t.layers),o=t.mainLayer,a=o.left,s=o.top,c=o.rotate,u=(y=o.data).naturalWidth,f=y.naturalHeight,h=y.imageTransform,p=h.scale,y=n.left,m=n.top,g=n.width;n=n.height;o.left=y,o.top=m,o.height=n,o.width=g,r&&r({width:g,height:n}),e&&((o.width>u*p||o.height>f*p)&&(o.left=(o.width-u*p)/2,o.top=(o.height-f*p)/2),(y=Object(l.q)(o).originRelativeStagePoint).y=-y.y,m=Object(l.y)({x:-y.x,y:-y.y},c),g=(r=Object(l.c)({mainLayerSize:{width:o.width,height:o.height},adjustLayerSize:{width:u*p,height:f*p},adjustLayerRotate:o.rotate,adjustLayerRelativePosition:m})).scale,n=r.movePoint,1===g?(o.left=o.left+n.x,o.top=o.top-n.y):(h.scale=p*g,o.left=o.left+(u*p-u*p*g)/2,o.top=o.top+(f*p-f*p*g)/2)),t.flatLayersMap.delete(o.id),t.flatLayersMap.set(o.id,o),Object(l.F)(i,(function(e){var n,r,i,c,l,y,m;e.layerType===d.f.BACKGROUND_LAYER?(Mt(e,o.width,o.height),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)):e.layerType===d.f.MAIN_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(n=h.scale,r=o.left,i=o.top,l=e.left,y=e.top,m=e.width,c=e.height,l=n/p*(l+m/2-(a+u*p/2)),y=n/p*-(y+c/2-(s+f*p/2)),e.width=m*(n/p),e.height=c*(n/p),m={x:l+(r+u*n/2)-e.width/2,y:-y+(i+f*n/2)-e.height/2},e.left=m.x,e.top=m.y,Ot(e,n/p),Tt(e,n/p),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))})),Et(i,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))})),moveScaleStageSize:Object(e.b)((function(t,e){var n=e.params,r=e.isEnd,i=(e=e.setStageSize,t.layers),o=t.mainLayer,a=o.left,s=o.top,c=o.rotate,u=(y=o.data).naturalWidth,f=y.naturalHeight,h=y.imageTransform,p=h.scale,y=n.left,m=n.top,g=n.width;n=n.height;o.left=y,o.top=m,o.height=n,o.width=g,r&&((o.width>u*p||o.height>f*p)&&(o.left=(o.width-u*p)/2,o.top=(o.height-f*p)/2),(y=Object(l.q)(o).originRelativeStagePoint).y=-y.y,m=Object(l.y)({x:-y.x,y:-y.y},c),g=(n=Object(l.c)({mainLayerSize:{width:o.width,height:o.height},adjustLayerSize:{width:u*p,height:f*p},adjustLayerRotate:o.rotate,adjustLayerRelativePosition:m})).scale,r=n.movePoint,1===g?(o.left=o.left+r.x,o.top=o.top-r.y):(h.scale=p*g,o.left=o.left+(u*p-u*p*g)/2,o.top=o.top+(f*p-f*p*g)/2)),e&&e({width:o.width,height:o.height}),t.flatLayersMap.delete(o.id),t.flatLayersMap.set(o.id,o),Object(l.F)(i,(function(e){var n,r,i,c,l,y,m;e.layerType===d.f.BACKGROUND_LAYER?(Mt(e,o.width,o.height),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)):e.layerType===d.f.MAIN_LAYER||e.children&&0<e.children.length&&e.layerType!==d.f.TEXT_MATERIAL_LAYER||(n=h.scale,r=o.left,i=o.top,l=e.left,y=e.top,m=e.width,c=e.height,l=n/p*(l+m/2-(a+u*p/2)),y=n/p*-(y+c/2-(s+f*p/2)),e.width=m*(n/p),e.height=c*(n/p),m={x:l+(r+u*n/2)-e.width/2,y:-y+(i+f*n/2)-e.height/2},e.left=m.x,e.top=m.y,Ot(e,n/p),Tt(e,n/p),t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e))})),Et(i,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))})),resetStageSizeChange:Object(e.b)((function(t,e){Object(l.F)(e,(function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)}))}))};var St={delSvgLayers:Object(e.b)((function(t,e){var n,r,i=e.ids,o=(e=e.callback,new Map),a=[];return!i.length||(n=C(i[0]).currentIndex,w()(n))?null==e?void 0:e(o,a):(r=t.renderIds[n],i.forEach((function(e){var n=x()(r,e);-1!==n&&(o.set(n,e),n=t.flatLayersMap.get(e))&&a.push(I()(n)),t.flatLayersMap.delete(e)})),i.length&&m()(r,i),void(null!=e&&e(o,a)))})),addSvgLayers:Object(e.b)((function(t,e){var n,r=e.map;(e=e.layers).length&&(n=C(e[0].id).currentIndex,b()(n))&&(n=t.renderIds[n],Object(l.t)(n,r),e.forEach((function(e){t.flatLayersMap.delete(e.id),t.flatLayersMap.set(e.id,e)})))}))};function kt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}ht=Lt(Lt(Lt(Lt(Lt(Lt(Lt(Lt({},ht),mt),p),H),vt),wt),St),gt),(mt=jt=jt||{}).linkLayerId="linkLayerId",mt.isEditingText="isEditingText",mt.isCropImage="isCropImage",mt.isBasicOperation="isBasicOperation",mt.isEliminatePen="isEliminatePen",mt.isShapePen="isShapePen",mt.isCropStageOperating="isCropStageOperating",mt.isStageAutoCrop="isStageAutoCrop",mt.isContextMenu="isContextMenu",mt.isIntelligent="isIntelligent",p={destroy:Object(e.b)((function(t){t.isBaseMove=!1,t.isEditingText=!1,t.isCropImage=!1,t.isBasicOperation=!1,t.linkLayerId=null,t.isCropStageOperating=!1,t.isStageAutoCrop=!0,t.isEliminatePen=!1,t.isShapePen=!1,t.isContextMenu=!1,t.isIntelligent=!1,t.isProtectPen=!1})),getQuickAddState:Object(e.b)((function(t,e){e(!(t.isEliminatePen||t.isIntelligent))})),layerDoubleClick:0,setLayerDoubleClick:Object(e.b)((function(t){t.layerDoubleClick+=1})),getStateByName:Object(e.b)((function(t,e){var n=e.payload,r=e.callback;switch(n){case jt.isContextMenu:r(t.isContextMenu);break;case jt.linkLayerId:r(t.linkLayerId);break;case jt.isEditingText:r(t.isEditingText);break;case jt.isCropImage:r(t.isCropImage);break;case jt.isBasicOperation:r(t.isBasicOperation);break;case jt.isCropStageOperating:r(t.isCropStageOperating);break;case jt.isStageAutoCrop:r(t.isStageAutoCrop);break;case jt.isEliminatePen:r(t.isEliminatePen);break;case jt.isShapePen:r(t.isShapePen);break;case jt.isIntelligent:r(t.isIntelligent);break;default:r(null)}})),isBaseMove:!1,setIsBaseMove:Object(e.b)((function(t,e){t.isBaseMove=e,t.isBasicOperation=e})),isEditingText:!1,setIsEditingText:Object(e.b)((function(t,e){t.isEditingText=e,t.isBasicOperation=e})),isCropImage:!1,setIsCropImage:Object(e.b)((function(t,e){t.isCropImage=e,t.isBasicOperation=e})),isBasicOperation:!1,setIsBasicOperation:Object(e.b)((function(t,e){t.isBasicOperation=e})),linkLayerId:null,setLinkLayerId:Object(e.b)((function(t,e){t.linkLayerId=e})),isCropStageOperating:!1,setIsCropStageOperating:Object(e.b)((function(t,e){t.isCropStageOperating=e})),isStageAutoCrop:!0,setIsStageAutoCrop:Object(e.b)((function(t,e){t.isStageAutoCrop=e})),isEliminatePen:!1,setIsEliminatePen:Object(e.b)((function(t,e){t.isEliminatePen=e})),isShapePen:!1,setIsShapePen:Object(e.b)((function(t,e){t.isShapePen=e})),isContextMenu:!1,setIsContextMenu:Object(e.b)((function(t,e){t.isContextMenu=e})),isIntelligent:!1,setIsIntelligent:Object(e.b)((function(t,e){t.isIntelligent=e})),isProtectPen:!1,setIsProtectPen:Object(e.b)((function(t,e){t.isProtectPen=e}))};var jt,At=(H=n(47)).j.AppTheme,Ct=H.j.Helper,Pt={themeManagerModel:{destroy:Object(e.b)((function(t){})),theme:Ct.getTheme(),setWhiteTheme:Object(e.b)((function(t){t.theme=At.white,Ct.setTheme(At.white)})),setDarkTheme:Object(e.b)((function(t){t.theme=At.dark,Ct.setTheme(At.dark)}))},operateManagerModel:p,layersManagerModel:ht,historyManagerModel:h,editorManagerModel:a,fontManagerModel:s}},258:function(t,e,n){"use strict";var r=n(55),i=n(4),o=n.n(i),a=n(0),s=n.n(a);n(754),e.a=function(t){function e(t){var e=document.querySelector(".xdesign-modal__body"),n=document.querySelector(".xdesign-modal__mask");null!=e&&e.contains(t.target)||null==n||!n.contains(t.target)||null!=f&&f()}var n=t.width,i=t.title,c=t.center,u=t.children,l=t.className,f=t.onCancel;return Object(a.useEffect)((function(){return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}})),s.a.createElement("div",{className:o()("xdesign-modal",l,c?"xdesign-modal--center":"")},s.a.createElement("div",{className:"xdesign-modal__mask"}),s.a.createElement("div",{className:"xdesign-modal__content",style:{width:n}},s.a.createElement("div",{className:"xdesign-modal__title"},i),s.a.createElement("div",{className:"xdesign-modal__body"},s.a.createElement("div",{className:"xdesign-modal__close",onClick:function(){null!=f&&f()}},s.a.createElement(r.a,{name:"CrossBold"})),u)))}},282:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){return t.LOCAL="local",t.PRE="pre",t.BETA="beta",t.RELEASE="release",t}({}),i=function(t){return t.SUCCESS="success",t.FAIL="fail",t.LOGININVALID="login-invalid",t.CLOSE="close",t}({});function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function s(t,e,n){(e=c(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function c(t){return t=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==o(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===o(t)?t:String(t)}n=function(){function t(e){var n=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");s(this,"env",void 0),s(this,"theme",void 0),s(this,"commonParams",void 0),s(this,"eventHandlers",{}),s(this,"ele",null),s(this,"eleIframe",null),s(this,"eleClose",null),s(this,"messageHandler",(function(t){var e;(t="string"==typeof(t=t.data||t.originalEvent&&t.originalEvent.data)&&/^[\[\{]/.test(t)?JSON.parse(t):t)&&"closeVipSubscribeDialog"===t.action?(t.data&&t.data.needLogin&&((e=n.eventHandlers[i.LOGININVALID])&&e(),n.close()),t.data&&t.data.success&&((e=n.eventHandlers[i.SUCCESS])&&e(),n.close())):t&&"changeCloseVipSubscribeDialogCloseIcon"===t.action&&t.data&&n.eleClose&&(n.eleClose.style.visibility=null!=(e=t.data)&&e.status?"visible":"hidden")})),s(this,"getLatestUrl",(function(t){var e=Object.assign({},n.commonParams,t),i=(t=Object.keys(e).reduce((function(t,n){return t+"".concat(n,"=").concat(e[n]||"","&")}),""),"");if(/\.meitu\.com/.test(window.location.host))switch(n.env){case r.PRE:i="https://prepc.meitu.com";break;case r.BETA:i="https://beta-pc.meitu.com";break;case r.RELEASE:i="https://pc.meitu.com"}else i="".concat(window.location.protocol,"//").concat(window.location.host);return n.env===r.LOCAL&&(i="https://prepc.meitu.com"),"".concat(i,"/vip?theme=").concat(n.theme,"&").concat(t)})),s(this,"createDialog",(function(){var t,e=document.createElement("div"),r=((t=(e.className="saas-subscription-popup ".concat(n.theme),document.createElement("div"))).className="saas-subscription-popup__inner",document.createElement("img")),i=(r.className="saas-subscription-popup__close",r.src="https://public.static.meitudata.com/xiuxiu-pc/saas-subscription/close-icon.png",r.onclick=function(){n.close()},document.createElement("iframe"));(t=(i.style.width="100%",i.style.height="100%",i.style.border="none",i.src=n.getLatestUrl({}),t.appendChild(i),t.appendChild(r),e.appendChild(t),document.createElement("style"))).innerHTML="\n  .saas-subscription-popup {\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    z-index: 9999;\n  }\n\n  .saas-subscription-popup__inner {\n    width: 931px;\n    height: 588px;\n    border-radius: 12px;\n    background-color: #fff;\n    position: relative;\n  }\n\n  .saas-subscription-popup.dark .saas-subscription-popup__inner {\n    background-color: rgba(51, 51, 51, 1);\n  }\n\n  .saas-subscription-popup__inner iframe {\n    border-radius: 12px;\n  }\n\n  .saas-subscription-popup__close {\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n    position: absolute;\n    right: 8px;\n    top: 8px;\n  }\n\n  @media screen and (max-height: 620px) {\n    .saas-subscription-popup {\n      display: block;\n      overflow: auto;\n      /* \u706b\u72d0\u7279\u5b9a\u6eda\u52a8\u6761\u6837\u5f0f */\n      scrollbar-width: none;\n    }\n\n    .saas-subscription-popup::-webkit-scrollbar {\n      display: none;\n    }\n\n    .saas-subscription-popup__inner {\n      margin: 30px auto 0;\n    }\n  }\n",document.head.appendChild(t),n.ele=e,n.eleClose=r,n.eleIframe=i})),this.env=e.env||"release",this.theme=e.theme||"light",this.commonParams=e.commonParams||{}}var e,n;return e=t,(n=[{key:"on",value:function(t,e){return this.eventHandlers[t]=e,this}},{key:"open",value:function(t){return this.ele||this.createDialog(),this.eleIframe&&(this.eleIframe.src=this.getLatestUrl(t)),this.ele&&document.body.appendChild(this.ele),window.addEventListener("message",this.messageHandler,!1),this}},{key:"close",value:function(){var t=this.eventHandlers[i.CLOSE];return t&&t(),this.ele&&document.body.removeChild(this.ele),void 0!==window.removeEventListener&&window.removeEventListener("message",this.messageHandler,!1),this}},{key:"setCommonParams",value:function(t){t&&(this.commonParams=Object.assign({},this.commonParams,t))}},{key:"setTheme",value:function(t){t&&(this.theme=t,this.ele)&&(this.ele.className="saas-subscription-popup ".concat(this.theme))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),e.b=n},321:function(t,e,n){var r;window,r=function(){return e={"./node_modules/base64-js/index.js":function(t,e,n){"use strict";e.byteLength=function(t){return 3*((t=u(t))[0]+(t=t[1]))/4-t},e.toByteArray=function(t){var e,n,r=(a=u(t))[0],a=a[1],s=new o(function(t,e){return 3*(t+e)/4-e}(r,a)),c=0,l=0<a?r-4:r;for(n=0;n<l;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[c++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(t,e,n){for(var i,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(function(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}(i));return o.join("")}(t,a,s<a+16383?s:a+16383));return 1==i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return e=(t=-1===(t=t.indexOf("="))?e:t)===e?0:4-t%4,[t,e]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(t,e,n){"use strict";(function(t){var r=n("./node_modules/base64-js/index.js"),i=n("./node_modules/ieee754/index.js"),o=n("./node_modules/isarray/index.js");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(t=null===t?new c(e):t).length=e,t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"!=typeof t)return u(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var i=t,a=e,u=n;if(a.byteLength,u<0||a.byteLength<u)throw new RangeError("'offset' is out of bounds");if(a.byteLength<u+(r||0))throw new RangeError("'length' is out of bounds");return a=void 0===u&&void 0===r?new Uint8Array(a):void 0===r?new Uint8Array(a,u):new Uint8Array(a,u,r),c.TYPED_ARRAY_SUPPORT?(i=a).__proto__=c.prototype:i=h(i,a),i}if("string"!=typeof e){if(u=t,r=e,c.isBuffer(r))return 0!==(u=s(u,a=0|d(r.length))).length&&r.copy(u,0,0,a),u;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(t){return t!=t}(r.length)?s(u,0):h(u,r);if("Buffer"===r.type&&o(r.data))return h(u,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(i=t,r=e,t=n,c.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return(r=(i=s(i,e=0|p(r,t))).write(r,t))!==e?i.slice(0,r):i;throw new TypeError('"encoding" must be a valid string encoding')}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var i,o=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var a=e,s=n,c=this.length;(!s||s<0||c<s)&&(s=c);for(var u="",l=a=!a||a<0?0:a;l<s;++l)u+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(this[l]);return u;case"utf8":case"utf-8":return _(this,e,n);case"ascii":c=e;var f=n,h="";f=Math.min(this.length,f);for(var d=c;d<f;++d)h+=String.fromCharCode(127&this[d]);return h;case"latin1":case"binary":a=e;var p=n,y="";p=Math.min(this.length,p);for(var m=a;m<p;++m)y+=String.fromCharCode(this[m]);return y;case"base64":return g=this,i=n,0===(v=e)&&i===g.length?r.fromByteArray(g):r.fromByteArray(g.slice(v,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=e,v=n,b=this.slice(g,v),w="",x=0;x<b.length;x+=2)w+=String.fromCharCode(b[x]+256*b[x+1]);return w;default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?i?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i)for(var u=-1,l=n;l<a;l++)if(c(t,l)===c(e,-1===u?0:l-u)){if(l-(u=-1===u?l:u)+1===s)return u*o}else-1!==u&&(l-=l-u),u=-1;else for(l=n=a<n+s?a-s:n;0<=l;l--){for(var f=!0,h=0;h<s;h++)if(c(t,l+h)!==c(e,h)){f=!1;break}if(f)return l}return-1}function b(t,e,n,r){return C(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return C(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function _(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,u=t[i],l=null,f=239<u?4:223<u?3:191<u?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&127<(c=(31&u)<<6|63&o)&&(l=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&2047<(c=(15&u)<<12|(63&o)<<6|63&a)&&(c<55296||57343<c)&&(l=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&c<1114112&&(l=c)}null===l?(l=65533,f=1):65535<l&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}var h=r,d=h.length;if(d<=x)return String.fromCharCode.apply(String,h);for(var p="",y=0;y<d;)p+=String.fromCharCode.apply(String,h.slice(y,y+=x));return p}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}),c.alloc=function(t,e,n){return r=null,l(t),t<=0||void 0===e?s(r,t):"string"==typeof n?s(r,t).fill(e,n):s(r,t).fill(e);var r},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===e)for(i=e=0;i<t.length;++i)e+=t[i].length;for(var n=c.allocUnsafe(e),r=0,i=0;i<t.length;++i){var a=t[i];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?_(this,0,t):y.apply(this,arguments)},c.prototype.equals=function(t){if(c.isBuffer(t))return this===t||0===c.compare(this,t);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n)&&(t+=" ... "),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),(e=void 0===e?0:e)<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=e)return 0;if(i<=r)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||i<n)&&(n=i),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o,a,s,c=!1;;)switch(r){case"hex":var u=t,l=e,f=n,h=(l=Number(l)||0,this.length-l);if((!f||h<(f=Number(f)))&&(f=h),(h=u.length)%2!=0)throw new TypeError("Invalid hex string");h/2<f&&(f=h/2);for(var d=0;d<f;++d){var p=parseInt(u.substr(2*d,2),16);if(isNaN(p))return d;this[l+d]=p}return d;case"utf8":case"utf-8":return h=e,s=n,C(j(t,(a=this).length-h),a,h,s);case"ascii":case"latin1":case"binary":return b(this,t,e,n);case"base64":return a=this,s=e,o=n,C(A(t),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(c)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),c=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function E(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function O(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function S(t,e,n,r,o){return o||O(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function k(t,e,n,r,o){return o||O(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=c.prototype;else for(var r=e-t,i=new c(r,void 0),o=0;o<r;++o)i[o]=this[o+t];return i},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=e,i=1,o=this[t+--r];0<r&&(i*=256);)o+=this[t+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){return e||T(t,2,this.length),32768&(e=this[t]|this[t+1]<<8)?4294901760|e:e},c.prototype.readInt16BE=function(t,e){return e||T(t,2,this.length),32768&(e=this[t+1]|this[t]<<8)?4294901760|e:e},c.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;0<=--i&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):E(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):E(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){t=+t,e|=0,r||I(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=0,o=1,a=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){t=+t,e|=0,r||I(this,t,e,n,(r=Math.pow(2,8*n-1))-1,-r);var i=n-1,o=1,a=0;for(this[e+i]=255&t;0<=--i&&(o*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/o>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):E(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):E(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n=n||0,r||0===r||(r=this.length),e>=t.length&&(e=t.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var i,o=(r=t.length-e<r-n?t.length-e+n:r)-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){var i;if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length&&(i=t.charCodeAt(0))<256&&(t=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(!(n<=e))if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var o=c.isBuffer(t)?t:j(new c(t,r).toString()),a=o.length,s=0;s<n-e;++s)this[s+e]=o[s%a];return this};var L=/[^+\/0-9A-Za-z-_]/g;function j(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function A(t){return r.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function C(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/hex-to-rgba/build/index.js":function(t,e,n){"use strict";var r=function(t){return parseInt(t,16)};t.exports=function(t,e){var n,i,o,a={r:(a=3===(t="#"===t.charAt(0)?t.slice(1):t).length||4===t.length)?"".concat(t.slice(0,1)).concat(t.slice(0,1)):t.slice(0,2),g:a?"".concat(t.slice(1,2)).concat(t.slice(1,2)):t.slice(2,4),b:a?"".concat(t.slice(2,3)).concat(t.slice(2,3)):t.slice(4,6),a:(a?"".concat(t.slice(3,4)).concat(t.slice(3,4)):t.slice(6,8))||"ff"};n=(t=a).g,i=a.b,t=a.a,a={r:r(a.r),g:r(n),b:r(i),a:+(r(t)/255).toFixed(2)};return i=(n=a).r,t=a.g,o=a.b,n=a.a,a=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(a=e)?a:n,"rgba(".concat(i,", ").concat(t,", ").concat(o,", ").concat(a,")")}},"./node_modules/ieee754/index.js":function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1;i=t[e+f];for(f+=h,o=i&(1<<-l)-1,i>>=-l,l+=s;0<l;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=u}return(i?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c=8*o-i-1,u=(1<<c)-1,l=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1;o=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(e+=1<=a+l?f/r:f*Math.pow(2,1-l))*r&&(a++,r/=2),u<=a+l?(s=0,a=u):1<=a+l?(s=(e*r-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));8<=i;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;0<c;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*o}},"./node_modules/isarray/index.js":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"./node_modules/jszip-utils/lib/index.js":function(t,e,n){"use strict";var r={};function i(){try{return new window.XMLHttpRequest}catch(t){}}r._getBinaryFromXHR=function(t){return t.response||t.responseText};var o="undefined"!=typeof window&&window.ActiveXObject?function(){return i()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:i;r.getBinaryContent=function(t,e){var n,i,a,s;"function"==typeof(e=e||{})?(s=e,e={}):"function"==typeof e.callback&&(s=e.callback),s||"undefined"==typeof Promise?(i=function(t){s(null,t)},a=function(t){s(t,null)}):n=new Promise((function(t,e){i=t,a=e}));try{var c=o();c.open("GET",t,!0),"responseType"in c&&(c.responseType="arraybuffer"),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(e){if(4===c.readyState)if(200===c.status||0===c.status)try{i(r._getBinaryFromXHR(c))}catch(e){a(new Error(e))}else a(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText))},e.progress&&(c.onprogress=function(n){e.progress({path:t,originalEvent:n,percent:n.loaded/n.total*100,loaded:n.loaded,total:n.total})}),c.send()}catch(n){a(new Error(n),null)}return n},t.exports=r},"./node_modules/jszip/dist/jszip.min.js":function(t,e,n){(function(e,n,r){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}c=n[a]={exports:{}},e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,a,s,c,u=[],l=0,f=t.length,h="string"!==r.getTypeOf(t);l<t.length;)c=f-l,i=h?(e=t[l++],n=l<f?t[l++]:0,l<f?t[l++]:0):(e=t.charCodeAt(l++),n=l<f?t.charCodeAt(l++):0,l<f?t.charCodeAt(l++):0),a=(3&e)<<4|n>>4,s=1<c?(15&n)<<2|i>>6:64,c=2<c?63&i:64,u.push(o.charAt(e>>2)+o.charAt(a)+o.charAt(s)+o.charAt(c));return u.join("")},n.decode=function(t){var e,n,r,a,s,c=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var l,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=new(i.uint8array?Uint8Array:Array)(0|f);c<t.length;)e=o.indexOf(t.charAt(c++))<<2|(a=o.indexOf(t.charAt(c++)))>>4,n=(15&a)<<4|(a=o.indexOf(t.charAt(c++)))>>2,r=(3&a)<<6|(s=o.indexOf(t.charAt(c++))),l[u++]=e,64!==a&&(l[u++]=n),64!==s&&(l[u++]=r);return l}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){for(var t=[],e=0;e<256;e++){for(var n=e,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e){return void 0!==t&&t.length?("string"!==r.getTypeOf(t)?function(t,e,n){var r=i,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}:function(t,e,n){var r=i,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t})(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";t="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:t}},{lie:37}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=r?"uint8array":"array";function c(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new c("Deflate",t)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(t,e){for(var n="",r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n}function i(t,e,n,i,a,l){var f=t.file,h=t.compression,d=l!==s.utf8encode,p=o.transformTo("string",l(f.name)),y=o.transformTo("string",s.utf8encode(f.name)),m=f.comment,g=(l=o.transformTo("string",l(m)),o.transformTo("string",s.utf8encode(m))),v=y.length!==f.name.length,b=(m=g.length!==m.length,""),w=f.dir,_=f.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize),n=0,e&&(n|=8),d||!v&&!m||(n|=2048),t=0,e=0,w&&(t|=16),"UNIX"===a?(e=798,t|=(65535&((d=f.unixPermissions)?d:w?16893:33204))<<16):(e=20,t|=63&(f.dosPermissions||0)),a=_.getUTCHours(),a=(a=((a<<=6)|_.getUTCMinutes())<<5)|_.getUTCSeconds()/2,d=_.getUTCFullYear()-1980,d=(d=((d<<=4)|_.getUTCMonth()+1)<<5)|_.getUTCDate(),v&&(w=r(1,1)+r(c(p),4)+y,b+="up"+r(w.length,2)+w),m&&(f=r(1,1)+r(c(l),4)+g,b+="uc"+r(f.length,2)+f),_="",_=(_=(_=(_=(_=(_=(_=(_=(_=(_+="\n\0")+r(n,2))+h.magic)+r(a,2))+r(d,2))+r(x.crc32,4))+r(x.compressedSize,4))+r(x.uncompressedSize,4))+r(p.length,2))+r(b.length,2);return{fileRecord:u.LOCAL_FILE_HEADER+_+p+b,dirRecord:u.CENTRAL_FILE_HEADER+r(e,2)+_+r(l.length,2)+"\0\0\0\0"+r(t,4)+r(i,4)+p+b+l}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),c=t("../crc32"),u=t("../signature");function l(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;e?(t=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:t.fileRecord,meta:{percent:0}})):this.accumulate=!0},l.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:(e=t,u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t;n=function(t,e,n,i,a){return a=o.transformTo("string",a(i)),u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){if(e=r[t=t||e])return e;throw new Error(t+" is not a valid compression method !")}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var t,e=new r;for(t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.7.1",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),c=t("./nodejsUtils");e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(function(t){return new i.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new s);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}(r[o]));return i.Promise.all(n)})).then((function(t){for(var r=(t=t.shift()).files,i=0;i<r.length;i++){var o=r[i];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return t.zipComment.length&&(n.comment=t.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(o,i),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){"use strict";n.exports={isNode:void 0!==e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):((t=new e(t)).fill(0),t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r=a.getTypeOf(e),o=a.extend(n||{},u),c=(o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=y(t)),o.createFolders&&(c=function(t){var e=(t="/"===t.slice(-1)?t.substring(0,t.length-1):t).lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&i.call(this,c,!0),"string"===r&&!1===o.binary&&!1===o.base64);n&&void 0!==n.binary||(o.binary=!c),(e instanceof l&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE"),r=e instanceof l||e instanceof s?e:d.isNode&&d.isStream(e)?new p(t,e):a.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64),n=new f(t,r,o);this.files[t]=n}function i(t,e){return e=void 0!==e?e:u.createFolders,t=y(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]}var o=t("./utf8"),a=t("./utils"),s=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),l=t("./compressedObject"),f=t("./zipObject"),h=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),y=function(t){return"/"!==t.slice(-1)&&(t+="/"),t};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}e.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r)},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){var i;return 1!==arguments.length?(t=this.root+t,r.call(this,t,e,n),this):m(t)?(i=t,this.filter((function(t,e){return!e.dir&&i.test(t)}))):(e=this.files[this.root+t])&&!e.dir?e:null},folder:function(t){var e,n;return t?m(t)?this.filter((function(e,n){return n.dir&&t.test(e)})):(e=this.root+t,e=i.call(this,e),(n=this.clone()).root=e.name,n):this},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e={};try{if((e=a.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=e.type.toLowerCase(),e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw new Error("No output type specified.");a.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var n=e.comment||this.comment||"",r=h.generateWorker(this,e,n)}catch(t){(r=new s("error")).error(t)}return new c(r,e.type||"string",e.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=(t=t.charCodeAt(3),this.readData(4));return e===i[0]&&n===i[1]&&r===i[2]&&t===i[3]},i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?[]:(e=this.data.slice(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?new Uint8Array(0):(e=this.data.subarray(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new c(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function o(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,r),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(o,i),o.prototype.processChunk=function(t){var e;t&&(e=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=e+t.data.length),i.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var t;return!(!this.isPaused||this.isFinished||(t=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),t))},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,n,r){"use strict";var i=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),c=t("../support"),u=t("../external"),l=null;if(c.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function f(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,i.checkSupport(r),this._worker=t.pipe(new o(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}f.prototype={accumulate:function(t){return n=this,r=t,new u.Promise((function(t,o){var a=[],c=n._internalType,u=n._outputType,l=n._mimeType;n.on("data",(function(t,e){a.push(t),r&&r(e)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var n=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(u,function(t,n){for(var r=0,i=null,o=0,a=0;a<n.length;a++)o+=n[a].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(i=new Uint8Array(o),a=0;a<n.length;a++)i.set(n[a],r),r+=n[a].length;return i;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(c,a),l);t(n)}catch(n){o(n)}a=[]})).resume()}));var n,r},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==e,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),r.blob=0===o.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){if(i.nodebuffer)return o.newBufferFrom(t,"utf-8");for(var e,n,r,a,s=t,c=s.length,u=0,l=0;l<c;l++)55296==(64512&(n=s.charCodeAt(l)))&&l+1<c&&56320==(64512&(r=s.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new(i.uint8array?Uint8Array:Array)(u),l=a=0;a<u;l++)55296==(64512&(n=s.charCodeAt(l)))&&l+1<c&&56320==(64512&(r=s.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.utf8decode=function(t){if(i.nodebuffer)return r.transformTo("nodebuffer",t).toString("utf-8");for(var e,n,o,a=t=r.transformTo(i.uint8array?"uint8array":"array",t),c=a.length,u=new Array(2*c),l=e=0;l<c;)if((n=a[l++])<128)u[e++]=n;else if(4<(o=s[n]))u[e++]=65533,l+=o-1;else{for(n&=2===o?31:3===o?15:7;1<o&&l<c;)n=n<<6|63&a[l++],o--;1<o?u[e++]=65533:n<65536?u[e++]=n:(n-=65536,u[e++]=55296|n>>10&1023,u[e++]=56320|1023&n)}return u.length!==e&&(u.subarray?u=u.subarray(0,e):u.length=e),r.applyFromCharCode(u)},r.inherits(u,a),u.prototype.processChunk=function(t){var e=r.transformTo(i.uint8array?"uint8array":"array",t.data),o=(this.leftOver&&this.leftOver.length&&(i.uint8array?(o=e,(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)):e=this.leftOver.concat(e),this.leftOver=null),function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+s[t[n]]>e?n:e}(e)),a=e;o!==e.length&&(i.uint8array?(a=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(a=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:n.utf8decode(a),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(l,a),l.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function c(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(e,r){n.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)r.push("array"===e||"nodebuffer"===e?String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o))):String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=n.getTypeOf(t),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return l.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return l.stringifyByChar(t)}function h(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=f;var d={};d.string={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.allocBuffer(t.length))}},d.array={string:f,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},d.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return h(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:f,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return o.newBufferFrom(t)}},d.nodebuffer={string:f,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:c},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return d[r][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&o.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){for(var e,n="",r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},n.delay=function(t,e,n){a((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){for(var t,e={},n=0;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&void 0===e[t]&&(e[t]=arguments[n][t]);return e},n.prepareContent=function(t,e,o,a,c){return s.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var l=n.getTypeOf(e);return l?("arraybuffer"===l?e=n.transformTo("uint8array",e):"string"===l&&(c?e=i.decode(e):o&&!0!==a&&(e=u(l=e,new(r.uint8array?Uint8Array:Array)(l.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){var e;if(!this.reader.readAndCheckSignature(t))throw this.reader.index-=4,e=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t),t=this.reader.readString(4)===e;return this.reader.setIndex(n),t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array";e=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var t,e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(t=this.centralDirOffset+this.centralDirSize,0<(t=e-(t=this.zip64?t+20+(12+this.zip64EndOfCentralSize):t)))this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=t);else if(t<0)throw new Error("Corrupted zip: missing "+Math.abs(t)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),c=t("./compressions"),u=t("./support");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e;if(t.skip(22),this.fileNameLength=t.readInt(2),e=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(e),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){var e;this.extraFields[1]&&(e=r(this.extraFields[1].value),this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t,e=u.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment)):(null!==(t=this.findExtraFieldUnicodePath())?this.fileNameStr=t:(t=i.transformTo(e,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(t)),null!==(t=this.findExtraFieldUnicodeComment())?this.fileCommentStr=t:(t=i.transformTo(e,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(t)))},findExtraFieldUnicodePath:function(){var t,e=this.extraFields[28789];return e&&1===(t=r(e.value)).readInt(1)&&a(this.fileName)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null},findExtraFieldUnicodeComment:function(){var t,e=this.extraFields[25461];return e&&1===(t=r(e.value)).readInt(1)&&a(this.fileComment)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null}},e.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),c=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n,o=("binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker(),!this._dataBinary);o&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new c("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){var n;return this._data instanceof s&&this._data.compression.magic===t.magic?this._data.getCompressedWorker():(n=this._decompressWorker(),this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)r.prototype[u[f]]=l;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,r){(function(t){"use strict";var n,r,i,o,a=t.MutationObserver||t.WebKitMutationObserver,s=a?(r=0,a=new a(u),i=t.document.createTextNode(""),a.observe(i,{characterData:!0}),function(){i.data=r=++r%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)}:((o=new t.MessageChannel).port1.onmessage=u,function(){o.port2.postMessage(0)}),c=[];function u(){var t,e;n=!0;for(var r=c.length;r;){for(e=c,c=[],t=-1;++t<r;)e[t]();r=c.length}n=!1}e.exports=function(t){1!==c.push(t)||n||s()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return o.reject(t,r)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=p((function(){e(i,r)}));"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=u).prototype.finally=function(t){var e;return"function"!=typeof t?this:(e=this.constructor,this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))})))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n;return"function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a?this:(n=new this.constructor(i),this.state!==c?f(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e)),n)},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(h,e);if("error"===n.status)return o.reject(t,n.value);if(n=n.value)d(t,n);else{t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(i);++c<n;)!function(t,i){e.resolve(t).then((function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(t){r||(r=!0,o.reject(u,t))}))}(t[c],c);return u},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<e;)r=t[a],this.resolve(r).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=((t=this.options).raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0,r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy));if(0!==e)throw new Error(a[e]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){if(t="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(e=r.deflateSetDictionary(this.strm,t)))throw new Error(a[e]);this._dict_set=!0}}function l(t,e){if((e=new u(e)).push(t,!0),e.err)throw e.msg||a[e.err];return e.result}u.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out))),(0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=u,n.deflate=l,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),c=t("./zlib/zstream"),u=t("./zlib/gzheader"),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;if((t=(e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits)&&(e.windowBits=-15),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0,r.inflateInit2(this.strm,e.windowBits)))!==a.Z_OK)throw new Error(s[t]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function h(t,e){if((e=new f(e)).push(t,!0),e.err)throw e.msg||s[e.err];return e.result}f.prototype.push=function(t,e){var n,s,c,u,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,y=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(f="string"==typeof p?o.string2buf(p):"[object ArrayBuffer]"===l.call(p)?new Uint8Array(p):p,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===y&&(n=a.Z_OK,y=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!h.next_out||0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(f=o.utf8border(h.output,h.next_out),c=h.next_out-f,u=o.buf2string(h.output,f),h.next_out=c,h.avail_out=d-c,c&&i.arraySet(h.output,h.output,f,c,0),this.onData(u)):this.onData(i.shrinkBuf(h.output,h.next_out))),0===h.avail_in&&0===h.avail_out&&(y=!0),(0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return(s=n===a.Z_STREAM_END?a.Z_FINISH:s)===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=h,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,h(t,e)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,i=(n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)},{arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){for(var e,n,r,i,o=e=0,a=t.length;o<a;o++)e+=t[o].length;for(i=new Uint8Array(e),o=n=0,a=t.length;o<a;o++)r=t[o],i.set(r,n),n+=r.length;return i}}),o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){for(var e,n,i,o,a=t.length,s=0,c=0;c<a;c++)55296==(64512&(n=t.charCodeAt(c)))&&c+1<a&&56320==(64512&(i=t.charCodeAt(c+1)))&&(n=65536+(n-55296<<10)+(i-56320),c++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(s),c=o=0;o<s;c++)55296==(64512&(n=t.charCodeAt(c)))&&c+1<a&&56320==(64512&(i=t.charCodeAt(c+1)))&&(n=65536+(n-55296<<10)+(i-56320),c++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){for(var n,r,i,o=e||t.length,s=new Array(2*o),u=n=0;u<o;)if((r=t[u++])<128)s[n++]=r;else if(4<(i=a[r]))s[n++]=65533,u+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&u<o;)r=r<<6|63&t[u++],i--;1<i?s[n++]=65533:r<65536?s[n++]=r:(r-=65536,s[n++]=55296|r>>10&1023,s[n++]=56320|1023&r)}return c(s,n)},n.utf8border=function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var t=[],e=0;e<256;e++){for(var n=e,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),c=t("./messages"),u=-2,l=258,f=262,h=113;function d(t,e){return t.msg=c[e],e}function p(t){return(t<<1)-(4<t?9:0)}function y(t){for(var e=t.length;0<=--e;)t[e]=0}function m(t){var e=t.state,n=e.pending;0!==(n=n>t.avail_out?t.avail_out:n)&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending)&&(e.pending_out=0)}function g(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,m(t.strm)}function v(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function w(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,c=t.strstart>t.w_size-f?t.strstart-(t.w_size-f):0,u=t.window,h=t.w_mask,d=t.prev,p=t.strstart+l,y=u[o+a-1],m=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===m&&u[n+a-1]===y&&u[n]===u[o]&&u[++n]===u[o+1]){for(o+=2,n++;u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<p;);if(r=l-(p-o),o=p-l,a<r){if(t.match_start=e,s<=(a=r))break;y=u[o+a-1],m=u[o+a]}}}while((e=d[e&h])>c&&0!=--i);return a<=t.lookahead?a:t.lookahead}function _(t){var e,n,r,o,c,u,l,h,d,p=t.w_size;do{if(h=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-f)){for(i.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;r=t.head[--e],t.head[e]=p<=r?r-p:0,--n;);for(e=n=p;r=t.prev[--e],t.prev[e]=p<=r?r-p:0,--n;);h+=p}if(0===t.strm.avail_in)break;if(c=t.strm,u=t.window,l=t.strstart+t.lookahead,d=void 0,n=0===(d=h<(d=c.avail_in)?h:d)?0:(c.avail_in-=d,i.arraySet(u,c.input,c.next_in,d,l),1===c.state.wrap?c.adler=a(c.adler,u,d,l):2===c.state.wrap&&(c.adler=s(c.adler,u,d,l)),c.next_in+=d,c.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<f&&0!==t.strm.avail_in)}function x(t,e){for(var n,r;;){if(t.lookahead<f){if(_(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-f&&(t.match_length=w(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function T(t,e){for(var n,r,i;;){if(t.lookahead<f){if(_(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-f&&(t.match_length=w(t,n),t.match_length<=5)&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(g(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&g(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function I(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:h,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):d(t,u)}function O(t){var e=M(t);return 0===e&&((t=t.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),e}function S(t,e,n,r,o,a){if(!t)return u;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||8!==n||r<8||15<r||e<0||9<e||a<0||4<a)return d(t,u);8===r&&(r=9);var c=new E;return(t.state=c).strm=t,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=+c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=a,c.method=n,O(t)}r=[new I(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(_(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,g(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-f&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(g(t,!1),t.strm.avail_out),1)})),new I(4,4,8,4,x),new I(4,5,16,8,x),new I(4,6,32,32,x),new I(4,4,16,16,T),new I(8,16,32,32,T),new I(8,16,128,128,T),new I(8,32,128,256,T),new I(32,128,258,1024,T),new I(32,258,258,4096,T)],n.deflateInit=function(t,e){return S(t,e,8,15,8,0)},n.deflateInit2=S,n.deflateReset=O,n.deflateResetKeep=M,n.deflateSetHeader=function(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,0):u},n.deflate=function(t,e){var n,i,a,c;if(!t||!t.state||5<e||e<0)return t?d(t,u):u;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return d(t,0===t.avail_out?-5:u);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status&&(2===i.wrap?(t.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=h)):(f=8+(i.w_bits-8<<4)<<8,f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=h,b(i,f),0!==i.strstart&&(b(i,t.adler>>>16),b(i,65535&t.adler)),t.adler=1)),69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}}while(c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,c),0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),m(t),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}}while(c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,c),0!==c);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(t),i.pending+2<=i.pending_buf_size&&(v(i,255&t.adler),v(i,t.adler>>8&255),t.adler=0,i.status=h)):i.status=h),0!==i.pending){if(m(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(n)&&4!==e)return d(t,-5);if(666===i.status&&0!==t.avail_in)return d(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var f=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(_(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=l){if(_(t),t.lookahead<=l&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){for(a=t.strstart+l;r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a;);t.match_length=l-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==f&&4!==f||(i.status=666),1===f||3===f)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===f&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e)&&(y(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),m(t),0===t.avail_out))return i.last_flush=-1,0}return 4===e&&(i.wrap<=0||(2===i.wrap?(v(i,255&t.adler),v(i,t.adler>>8&255),v(i,t.adler>>16&255),v(i,t.adler>>24&255),v(i,255&t.total_in),v(i,t.total_in>>8&255),v(i,t.total_in>>16&255),v(i,t.total_in>>24&255)):(b(i,t.adler>>>16),b(i,65535&t.adler)),m(t),0<i.wrap&&(i.wrap=-i.wrap),0===i.pending))?1:0},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==h&&666!==e?d(t,u):(t.state=null,e===h?d(t,-3):0):u},n.deflateSetDictionary=function(t,e){var n,r,o,s,c,l,f,h=e.length;if(!t||!t.state)return u;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(t.adler=a(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(y(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,h-n.w_size,n.w_size,0),e=f,h=n.w_size),f=t.avail_in,c=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,_(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,_(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=f,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,s,c=t.state,u=t.next_in,l=t.input,f=u+(t.avail_in-5),h=t.next_out,d=t.output,p=h-(e-t.avail_out),y=h+(t.avail_out-257),m=c.dmax,g=c.wsize,v=c.whave,b=c.wnext,w=c.window,_=c.hold,x=c.bits,T=c.lencode,I=c.distcode,E=(1<<c.lenbits)-1,M=(1<<c.distbits)-1;t:do{for(x<15&&(_+=l[u++]<<x,x+=8,_+=l[u++]<<x,x+=8),n=T[_&E];;){if(_>>>=r=n>>>24,x-=r,0==(r=n>>>16&255))d[h++]=65535&n;else{if(!(16&r)){if(0==(64&r)){n=T[(65535&n)+(_&(1<<r)-1)];continue}if(32&r){c.mode=12;break t}t.msg="invalid literal/length code",c.mode=30;break t}for(i=65535&n,(r&=15)&&(x<r&&(_+=l[u++]<<x,x+=8),i+=_&(1<<r)-1,_>>>=r,x-=r),x<15&&(_+=l[u++]<<x,x+=8,_+=l[u++]<<x,x+=8),n=I[_&M];;){if(_>>>=r=n>>>24,x-=r,!(16&(r=n>>>16&255))){if(0==(64&r)){n=I[(65535&n)+(_&(1<<r)-1)];continue}t.msg="invalid distance code",c.mode=30;break t}if(o=65535&n,x<(r&=15)&&(_+=l[u++]<<x,(x+=8)<r)&&(_+=l[u++]<<x,x+=8),m<(o+=_&(1<<r)-1)){t.msg="invalid distance too far back",c.mode=30;break t}if(_>>>=r,x-=r,(r=h-p)<o){if(v<(r=o-r)&&c.sane){t.msg="invalid distance too far back",c.mode=30;break t}if(s=w,(a=0)===b){if(a+=g-r,r<i){for(i-=r;d[h++]=w[a++],--r;);a=h-o,s=d}}else if(b<r){if(a+=g+b-r,(r-=b)<i){for(i-=r;d[h++]=w[a++],--r;);if(a=0,b<i){for(i-=r=b;d[h++]=w[a++],--r;);a=h-o,s=d}}}else if(a+=b-r,r<i){for(i-=r;d[h++]=w[a++],--r;);a=h-o,s=d}for(;2<i;)d[h++]=s[a++],d[h++]=s[a++],d[h++]=s[a++],i-=3;i&&(d[h++]=s[a++],1<i)&&(d[h++]=s[a++])}else{for(a=h-o;d[h++]=d[a++],d[h++]=d[a++],d[h++]=d[a++],2<(i-=3););i&&(d[h++]=d[a++],1<i)&&(d[h++]=d[a++])}break}}break}}while(u<f&&h<y);u-=i=x>>3,_&=(1<<(x-=i<<3))-1,t.next_in=u,t.next_out=h,t.avail_in=u<f?f-u+5:5-(u-f),t.avail_out=h<y?y-h+257:257-(h-y),c.hold=_,c.bits=x}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),c=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):c}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):c}function d(t,e){var n,r;return!t||!t.state||(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e))?c:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))}function p(t,e){var n;return t?(n=new l,(t.state=n).window=null,0!==(n=d(t,e))&&(t.state=null),n):c}var y,m,g=!0;function v(t,e,n,i){var o;return null===(t=t.state).window&&(t.wsize=1<<t.wbits,t.wnext=0,t.whave=0,t.window=new r.Buf8(t.wsize)),i>=t.wsize?(r.arraySet(t.window,e,n-t.wsize,t.wsize,0),t.wnext=0,t.whave=t.wsize):(i<(o=t.wsize-t.wnext)&&(o=i),r.arraySet(t.window,e,n-i,o,t.wnext),(i-=o)?(r.arraySet(t.window,e,n-i,i,0),t.wnext=i,t.whave=t.wsize):(t.wnext+=o,t.wnext===t.wsize&&(t.wnext=0),t.whave<t.wsize&&(t.whave+=o))),0}n.inflateReset=h,n.inflateReset2=d,n.inflateResetKeep=f,n.inflateInit=function(t){return p(t,15)},n.inflateInit2=p,n.inflate=function(t,e){var n,l,f,h,d,p,b,w,_,x,T,I,E,M,O,S,k,L,j,A,C,P,R,F,N=0,D=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(n=t.state).mode&&(n.mode=13),d=t.next_out,f=t.output,b=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,w=n.hold,_=n.bits,x=p,T=b,P=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap)n.mode=13;else{for(;_<16;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(2&n.wrap&&35615===w)D[n.check=0]=255&w,D[1]=w>>>8&255,n.check=o(n.check,D,2,0),_=w=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31)t.msg="incorrect header check",n.mode=30;else if(8!=(15&w))t.msg="unknown compression method",n.mode=30;else{if(_-=4,C=8+(15&(w>>>=4)),0===n.wbits)n.wbits=C;else if(C>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<C,t.adler=n.check=1,n.mode=512&w?10:12,_=w=0}}break;case 2:for(;_<16;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(n.flags=w,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(D[0]=255&w,D[1]=w>>>8&255,n.check=o(n.check,D,2,0)),_=w=0,n.mode=3;case 3:for(;_<32;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.head&&(n.head.time=w),512&n.flags&&(D[0]=255&w,D[1]=w>>>8&255,D[2]=w>>>16&255,D[3]=w>>>24&255,n.check=o(n.check,D,4,0)),_=w=0,n.mode=4;case 4:for(;_<16;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(D[0]=255&w,D[1]=w>>>8&255,n.check=o(n.check,D,2,0)),_=w=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(D[0]=255&w,D[1]=w>>>8&255,n.check=o(n.check,D,2,0)),_=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((I=p<(I=n.length)?p:I)&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,h,I,C)),512&n.flags&&(n.check=o(n.check,l,I,h)),p-=I,h+=I,n.length-=I),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;for(I=0;C=l[h+I++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C)),C&&I<p;);if(512&n.flags&&(n.check=o(n.check,l,I,h)),p-=I,h+=I,C)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;for(I=0;C=l[h+I++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C)),C&&I<p;);if(512&n.flags&&(n.check=o(n.check,l,I,h)),p-=I,h+=I,C)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(w!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}_=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}t.adler=n.check=u(w),_=w=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=d,t.avail_out=b,t.next_in=h,t.avail_in=p,n.hold=w,n.bits=_,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last)w>>>=7&_,_-=7&_,n.mode=27;else{for(;_<3;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}switch(n.last=1&w,--_,3&(w>>>=1)){case 0:n.mode=14;break;case 1:U=z=void 0;var U,z=n;if(g){for(y=new r.Buf32(512),m=new r.Buf32(32),U=0;U<144;)z.lens[U++]=8;for(;U<256;)z.lens[U++]=9;for(;U<280;)z.lens[U++]=7;for(;U<288;)z.lens[U++]=8;for(s(1,z.lens,0,288,y,0,z.work,{bits:9}),U=0;U<32;)z.lens[U++]=5;s(2,z.lens,0,32,m,0,z.work,{bits:5}),g=!1}if(z.lencode=y,z.lenbits=9,z.distcode=m,z.distbits=5,n.mode=20,6!==e)break;w>>>=2,_-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}w>>>=2,_-=2}break;case 14:for(w>>>=7&_,_-=7&_;_<32;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,_=w=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(I=n.length){if(0===(I=b<(I=p<I?p:I)?b:I))break t;r.arraySet(f,l,h,I,d),p-=I,h+=I,b-=I,d+=I,n.length-=I}else n.mode=12;break;case 17:for(;_<14;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(n.nlen=257+(31&w),w>>>=5,_-=5,n.ndist=1+(31&w),w>>>=5,_-=5,n.ncode=4+(15&w),w>>>=4,_-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.lens[B[n.have++]]=7&w,w>>>=3,_-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,P){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(N=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=_);){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(k<16)w>>>=O,_-=O,n.lens[n.have++]=k;else{if(16===k){for(F=O+2;_<F;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(w>>>=O,_-=O,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}C=n.lens[n.have-1],I=3+(3&w),w>>>=2,_-=2}else if(17===k){for(F=O+3;_<F;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}C=0,I=3+(7&(w>>>=O)),w>>>=3,_=_-O-3}else{for(F=O+7;_<F;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}C=0,I=11+(127&(w>>>=O)),w>>>=7,_=_-O-7}if(n.have+I>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;I--;)n.lens[n.have++]=C}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,P){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,P){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=p&&258<=b){t.next_out=d,t.avail_out=b,t.next_in=h,t.avail_in=p,n.hold=w,n.bits=_,a(t,T),d=t.next_out,f=t.output,b=t.avail_out,h=t.next_in,l=t.input,p=t.avail_in,w=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(N=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=_);){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(S&&0==(240&S)){for(L=O,j=S,A=k;S=(N=n.lencode[A+((w&(1<<L+j)-1)>>L)])>>>16&255,k=65535&N,!(L+(O=N>>>24)<=_);){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}w>>>=L,_-=L,n.back+=L}if(w>>>=O,_-=O,n.back+=O,n.length=k,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(F=n.extra;_<F;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(N=n.distcode[w&(1<<n.distbits)-1])>>>16&255,k=65535&N,!((O=N>>>24)<=_);){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(0==(240&S)){for(L=O,j=S,A=k;S=(N=n.distcode[A+((w&(1<<L+j)-1)>>L)])>>>16&255,k=65535&N,!(L+(O=N>>>24)<=_);){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}w>>>=L,_-=L,n.back+=L}if(w>>>=O,_-=O,n.back+=O,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(F=n.extra;_<F;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break t;if(n.offset>(I=T-b)){if((I=n.offset-I)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}E=I>n.wnext?(I-=n.wnext,n.wsize-I):n.wnext-I,I>n.length&&(I=n.length),M=n.window}else M=f,E=d-n.offset,I=n.length;for(b-=I=b<I?b:I,n.length-=I;f[d++]=M[E++],--I;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break t;f[d++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===p)break t;p--,w|=l[h++]<<_,_+=8}if(T-=b,t.total_out+=T,n.total+=T,T&&(t.adler=n.check=(n.flags?o:i)(n.check,f,T,d-T)),T=b,(n.flags?w:u(w))!==n.check){t.msg="incorrect data check",n.mode=30;break}_=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===p)break t;p--,w+=l[h++]<<_,_+=8}if(w!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}_=w=0}n.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;default:return c}return t.next_out=d,t.avail_out=b,t.next_in=h,t.avail_in=p,n.hold=w,n.bits=_,(n.wsize||T!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&v(t,t.output,t.next_out,T-t.avail_out)?(n.mode=31,-4):(x-=t.avail_in,T-=t.avail_out,t.total_in+=x,t.total_out+=T,n.total+=T,n.wrap&&T&&(t.adler=n.check=(n.flags?o:i)(n.check,f,T,t.next_out-T)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),P=(0==x&&0===T||4===e)&&0===P?-5:P)},n.inflateEnd=function(t){var e;return t&&t.state?((e=t.state).window&&(e.window=null),t.state=null,0):c},n.inflateGetHeader=function(t,e){return t&&t.state&&0!=(2&(t=t.state).wrap)?((t.head=e).done=!1,0):c},n.inflateSetDictionary=function(t,e){var n,r=e.length;return!t||!t.state||0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,e,r,0)!==n.check?-3:v(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0)},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,u,l,f,h){var d,p,y,m,g,v,b,w,_,x=h.bits,T=0,I=0,E=0,M=0,O=0,S=0,k=0,L=0,j=0,A=0,C=null,P=0,R=new r.Buf16(16),F=new r.Buf16(16),N=null,D=0;for(T=0;T<=15;T++)R[T]=0;for(I=0;I<c;I++)R[e[n+I]]++;for(O=x,M=15;1<=M&&0===R[M];M--);if(M<O&&(O=M),0===M)u[l++]=20971520,u[l++]=20971520,h.bits=1;else{for(E=1;E<M&&0===R[E];E++);for(O<E&&(O=E),T=L=1;T<=15;T++)if((L=(L<<=1)-R[T])<0)return-1;if(0<L&&(0===t||1!==M))return-1;for(F[1]=0,T=1;T<15;T++)F[T+1]=F[T]+R[T];for(I=0;I<c;I++)0!==e[n+I]&&(f[F[e[n+I]]++]=I);if(v=0===t?(C=N=f,19):1===t?(C=i,P-=257,N=o,D-=257,256):(C=a,N=s,-1),T=E,g=l,k=I=A=0,y=-1,m=(j=1<<(S=O))-1,1===t&&852<j||2===t&&592<j)return 1;for(;;){for(_=f[I]<v?(w=0,f[I]):f[I]>v?(w=N[D+f[I]],C[P+f[I]]):(w=96,0),d=1<<(b=T-k),E=p=1<<S;u[g+(A>>k)+(p-=d)]=b<<24|w<<16|_|0,0!==p;);for(d=1<<T-1;A&d;)d>>=1;if(A=0!==d?(A&d-1)+d:0,I++,0==--R[T]){if(T===M)break;T=e[n+f[I]]}if(O<T&&(A&m)!==y){for(g+=E,L=1<<(S=T-(k=0===k?O:k));S+k<M&&!((L-=R[S+k])<=0);)S++,L<<=1;if(j+=1<<S,1===t&&852<j||2===t&&592<j)return 1;u[y=A&m]=O<<24|S<<16|g-l|0}}0!==A&&(u[g+A]=T-k<<24|64<<16|0),h.bits=O}return 0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576),l=(i(u),new Array(60)),f=(i(l),new Array(512)),h=(i(f),new Array(256)),d=(i(h),new Array(29));i(d);var p,y,m,g=new Array(30);function v(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?f[t]:f[256+(t>>>7)]}function _(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function T(t,e,n){x(t,n[2*e],n[2*e+1])}function I(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function E(t,e,n){for(var r,i=new Array(16),o=0,a=1;a<=15;a++)i[a]=o=o+n[a-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=I(i[s]++,s))}}function M(t){for(var e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){8<t.bi_valid?_(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function S(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function k(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&S(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!S(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function L(t,e,n){var r,i,s,c,u=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0==r?T(t,i,e):(T(t,(s=h[i])+256+1,e),0!==(c=o[s])&&x(t,i-=d[s],c),T(t,s=w(--r),n),0!==(c=a[s])&&x(t,r-=g[s],c)),u<t.last_lit;);T(t,256,e)}function j(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)k(t,o,n);for(i=c;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],k(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,k(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1];for(var l,f,h,d,p,y=t,m=e.dyn_tree,g=e.max_code,v=e.stat_desc.static_tree,b=e.stat_desc.has_stree,w=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,x=e.stat_desc.max_length,T=0,I=0;I<=15;I++)y.bl_count[I]=0;for(m[2*y.heap[y.heap_max]+1]=0,l=y.heap_max+1;l<573;l++)x<(I=m[2*m[2*(f=y.heap[l])+1]+1]+1)&&(I=x,T++),m[2*f+1]=I,g<f||(y.bl_count[I]++,d=0,_<=f&&(d=w[f-_]),p=m[2*f],y.opt_len+=p*(I+d),b&&(y.static_len+=p*(v[2*f+1]+d)));if(0!==T){do{for(I=x-1;0===y.bl_count[I];)I--}while(y.bl_count[I]--,y.bl_count[I+1]+=2,y.bl_count[x]--,0<(T-=2));for(I=x;0!==I;I--)for(f=y.bl_count[I];0!==f;)g<(h=y.heap[--l])||(m[2*h+1]!==I&&(y.opt_len+=(I-m[2*h+1])*m[2*h],m[2*h+1]=I),f--)}E(o,u,t.bl_count)}function A(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<c&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function C(t,e,n){var r,i,o=-1,a=e[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)for(;T(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==o&&(T(t,i,t.bl_tree),s--),T(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(T(t,17,t.bl_tree),x(t,s-3,3)):(T(t,18,t.bl_tree),x(t,s-11,7));o=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}i(g);var P=!1;function R(t,e,n,i){x(t,0+(i?1:0),3),i=e,e=n,O(n=t),_(n,e),_(n,~e),r.arraySet(n.pending_buf,n.window,i,e,n.pending),n.pending+=e}n._tr_init=function(t){if(!P){for(var e,n,r,i,c=new Array(16),w=r=0;w<28;w++)for(d[w]=r,e=0;e<1<<o[w];e++)h[r++]=w;for(h[r-1]=w,w=i=0;w<16;w++)for(g[w]=i,e=0;e<1<<a[w];e++)f[i++]=w;for(i>>=7;w<30;w++)for(g[w]=i<<7,e=0;e<1<<a[w]-7;e++)f[256+i++]=w;for(n=0;n<=15;n++)c[n]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,c[8]++;for(;e<=255;)u[2*e+1]=9,e++,c[9]++;for(;e<=279;)u[2*e+1]=7,e++,c[7]++;for(;e<=287;)u[2*e+1]=8,e++,c[8]++;for(E(u,287,c),e=0;e<30;e++)l[2*e+1]=5,l[2*e]=I(e,5);p=new v(u,o,257,286,15),y=new v(l,a,0,30,15),m=new v(new Array(0),s,0,19,7),P=!0}t.l_desc=new b(t.dyn_ltree,p),t.d_desc=new b(t.dyn_dtree,y),t.bl_desc=new b(t.bl_tree,m),t.bi_buf=0,t.bi_valid=0,M(t)},n._tr_stored_block=R,n._tr_flush_block=function(t,e,n,r){var i,o,a,s=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){for(var e=4093624447,n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==t.dyn_ltree[2*n])return 1;return 0}(t)),j(t,t.l_desc),j(t,t.d_desc),s=function(t){var e;for(A(t,t.dyn_ltree,t.l_desc.max_code),A(t,t.dyn_dtree,t.d_desc.max_code),j(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e)R(t,e,n,r);else if(4===t.strategy||o===i)x(t,2+(r?1:0),3),L(t,u,l);else{x(t,4+(r?1:0),3);var f=t,h=(e=t.l_desc.max_code+1,n=t.d_desc.max_code+1,s+1);for(x(f,e-257,5),x(f,n-1,5),x(f,h-4,4),a=0;a<h;a++)x(f,f.bl_tree[2*c[a]+1],3);C(f,f.dyn_ltree,e-1),C(f,f.dyn_dtree,n-1),L(t,t.dyn_ltree,t.dyn_dtree)}M(t),r&&O(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(h[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){x(t,2,3),T(t,256,u),16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof r?r:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}).call(this,n("./node_modules/buffer/index.js").Buffer,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/process/browser.js":function(t,e){var n,r;t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,c=[],u=!1,l=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length)&&h()}function h(){if(!u){for(var t=a(f),e=(u=!0,c.length);e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(t,e,n){(function(t,e){!function(t,n){"use strict";var r,i,o,a,s,c,u,l;function f(t){delete i[t]}function h(t){if(o)setTimeout(h,0,t);else{var e=i[t];if(e){o=!0;try{var n=e,r=n.callback,a=n.args;switch(a.length){case 0:r();break;case 1:r(a[0]);break;case 2:r(a[0],a[1]);break;case 3:r(a[0],a[1],a[2]);break;default:r.apply(undefined,a)}}finally{f(t),o=!1}}}}t.setImmediate||(r=1,o=!(i={}),a=t.document,l=(l=Object.getPrototypeOf&&Object.getPrototypeOf(t))&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?s=function(t){e.nextTick((function(){h(t)}))}:function(){var e,n;if(t.postMessage&&!t.importScripts)return e=!0,n=t.onmessage,t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}()?function(){function e(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(n)&&h(+e.data.slice(n.length))}var n="setImmediate$"+Math.random()+"$";t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent("onmessage",e),s=function(e){t.postMessage(n+e,"*")}}():s=t.MessageChannel?((u=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){u.port2.postMessage(t)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,function(t){var e=a.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,c.removeChild(e),e=null},c.appendChild(e)}):function(t){setTimeout(h,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return i[r]={callback:t,args:e},s(r),r++},l.clearImmediate=f)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("./node_modules/setimmediate/setImmediate.js"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/index.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"imageKit",(function(){return A})),n.d(e,"filterBridge",(function(){return yt})),n.d(e,"enhanceBridge",(function(){return kt})),n.d(e,"enhanceGLBridge",(function(){return Ct})),n.d(e,"penBridge",(function(){return Bt})),n.d(e,"textBridge",(function(){return $t})),n.d(e,"complexBridge",(function(){return ue})),n.d(e,"magicpenBridge",(function(){return ye})),n.d(e,"maskSmearBridge",(function(){return Te})),n.d(e,"waterMarkBridge",(function(){return Oe})),n.d(e,"imageKitConfig",(function(){return c})),n.d(e,"setConfig",(function(){return u})),n.d(e,"createCanvas",(function(){return x})),n.d(e,"createCanvasWithExpand",(function(){return T})),n.d(e,"canvasPenHelper",(function(){return Pe})),n.d(e,"blurFilterRun",(function(){return Ve})),n.d(e,"newBlurFilterRun",(function(){return Xe})),n.d(e,"expandImageWithGL",(function(){return Ze})),n.d(e,"foreExtractRunWithExpand",(function(){return qe})),n.d(e,"PosterizeColorLevel",(function(){return Wt})),n.d(e,"TextAlignType",(function(){return Ht})),n.d(e,"TextWritingType",(function(){return Vt})),n.d(e,"StrokeDirectionType",(function(){return Yt})),n.d(e,"ResizeActionType",(function(){return Xt}));var r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=e.call(t,o)}catch(s){c=[6,s],r=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}Object.create,Object.create;var c={debug:!0,libmtImageKit:{wasmJsUrl:"/wasm/libmtImageKit.111.js",wasmGlobalName:"wasmMTImageKit",asmJsUrl:"/asmjs/libmtImageKit.js",asmGlobalName:"asmMTImageKit",wasmUrl:"/wasm/libmtImageKit.111.wasm.zip"},libmtImageKitDebug:{wasmJsUrl:"/wasm_debug/libmtImageKit.111.js",wasmGlobalName:"wasmMTImageKit",asmJsUrl:"/asmjs_debug/libmtImageKit.js",asmGlobalName:"asmMTImageKit",wasmUrl:"/wasm_debug/libmtImageKit.wasm.zip"}};function u(t){var e=[];t&&(t.libmtImageKit&&e.push({key:"libmtImageKit",value:t.libmtImageKit}),t.libmtImageKitDebug)&&e.push({key:"libmtImageKitDebug",value:t.libmtImageKitDebug}),e.forEach((function(t){var e,n=t.key,r=t.value;for(e in r)r[e]&&Object.prototype.hasOwnProperty.call(r,e)&&(c[n][e]=r[e])})),c.debug=null==t?void 0:t.debug}var l=n("./node_modules/jszip/dist/jszip.min.js"),f=(e=n("./node_modules/jszip-utils/lib/index.js"),n.n(e));function h(t,e,n,r){var i=this,o=(void 0===n&&(n=""),[]),c=1;return new Promise((function(u,h){f.a.getBinaryContent(e,(function(e,f){return a(i,void 0,void 0,(function(){var i,d,p,y,m,g,v=this;return s(this,(function(b){switch(b.label){case 0:if(e)return[2,h(e)];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,l.loadAsync(f)];case 2:return i=b.sent(),y=p=d=0,m=!n,i.forEach((function(e){return a(v,void 0,void 0,(function(){var a,l,f,g,v,b,w;return s(this,(function(s){switch(s.label){case 0:if(n&&0===y&&(m=0===e.indexOf(n),y++),(a=e.lastIndexOf("/"))===e.length-1)return[3,4];p++,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,null==(w=null==i?void 0:i.file(e))?void 0:w.async("arraybuffer")];case 2:if(w=s.sent(),l=new Uint8Array(w||[]),f=e.substring(0,a),t.FS_createPath("/",m?f:"".concat(n,"/").concat(f),!0,!0),t.FS_createDataFile(m?e:"".concat(n,"/").concat(e),null,l,!0,!0,!0),f=m?e:"".concat(n,"/").concat(e),r&&-1!==f.indexOf(r)){for(g="",v=0;v<l.length;v++)g+=String.fromCharCode(l[v]);(b=g.match(/<key>DefaultAlpha<\/key>\s*<string>(.*)<\/string>/))&&!isNaN(parseFloat(b[1]))&&(c=parseFloat(b[1]))}return o.push(f),++d===p&&u({temp:o,defaultAlpha:c}),[3,4];case 3:return b=s.sent(),h(b),[3,4];case 4:return[2]}}))}))})),[3,4];case 3:return g=b.sent(),h(g),[3,4];case 4:return[2]}}))}))}))}))}function d(t,e){for(var n=[],r=0,i=e.length;r<i;++r)n.push(e.charCodeAt(r));n.push(0);var o=new Uint8Array(n),a=t._malloc(o.length);return t.HEAPU8.set(o,a),a}function p(t,e){e=(new TextEncoder).encode(e);var n=((n=Array.from(e)).push(0),e=new Uint8Array(n),t._malloc(e.length*e.BYTES_PER_ELEMENT));return t.HEAPU8.set(e,n),n}function y(t,e){t._free(e)}function m(t,e,n){return new Float32Array(t.HEAPF32.buffer,e,n)}function g(t){var e=new Int32Array([110,90]),n=t._malloc(e.length*e.BYTES_PER_ELEMENT);return t.HEAP32.set(e,n/e.BYTES_PER_ELEMENT),n}function v(t,e,n){return new Int32Array(t.HEAP32.buffer,e,n)}var b=window;function w(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),new Promise((function(n,r){t&&e||r(),(r=document.createElement("script")).onload=function(){n(b[e])},r.src=t,document.body.appendChild(r)}))}function _(t,e,n){return void 0===n&&(n=""),a(this,void 0,void 0,(function(){function r(t,e){var r=c.debug,i=c.libmtImageKit,o=(r&&(i=c.libmtImageKitDebug),"".concat(n).concat(i.wasmUrl));return new Promise((function(n,r){n(function(t){var e;return void 0===t&&(t=""),a(this,void 0,void 0,(function(){var n,r,i,o,a,c;return s(this,(function(s){switch(s.label){case 0:n=[],s.label=1;case 1:return s.trys.push([1,8,,9]),[4,f.a.getBinaryContent(t)];case 2:return c=s.sent(),[4,l.loadAsync(c)];case 3:for(o in r=s.sent(),i=[],r.files)i.push(o);a=0,s.label=4;case 4:return a<i.length?0<=(c=i[a]).indexOf(".wasm")?[4,null==(e=null==r?void 0:r.file(c))?void 0:e.async("arraybuffer")]:[3,6]:[3,7];case 5:n=s.sent(),s.label=6;case 6:return a++,[3,4];case 7:return[3,9];case 8:return s.sent(),[3,9];case 9:return[2,n]}}))}))}(o).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(t){return t.instance})).then(e,(function(t){r(t)})))}))}return s(this,(function(n){switch(n.label){case 0:return[4,e({canvas:t,instantiateWasm:r})];case 1:return[2,n.sent()]}}))}))}function x(t,e,n){var r,i=document.createElement("canvas");return i.width=t,i.height=e,n&&null!=(r=i.getContext("2d"))&&r.drawImage(n,0,0,t,e),i}function T(t,e,n,r){void 0===r&&(r=1);var i,o=document.createElement("canvas"),a=(o.width=t,o.height=e,document.createElement("canvas")),s=(a.width=t*r,a.height=e*r,Math.round((r-1)*t/2));r=Math.round((r-1)*e/2);return n&&(null!=(i=o.getContext("2d"))&&i.drawImage(n,0,0,t,e),null!=(i=a.getContext("2d")))&&i.drawImage(o,s,r,t,e),a}O.prototype.getInstanceId=function(){return this._instanceId},O.prototype.destroy=function(){};var I,E,M;e=O;function O(t){this._instanceId=0,this._wasmModule=null,this._instanceId=0,this._wasmModule=t}(V=I=I||{})[V.FE_TouchType_Down=0]="FE_TouchType_Down",V[V.FE_TouchType_Up=1]="FE_TouchType_Up",V[V.FE_TouchType_Move=2]="FE_TouchType_Move",V[V.FE_TouchType_Cancel=3]="FE_TouchType_Cancel",V[V.FE_TouchType_OutSide=4]="FE_TouchType_OutSide",V[V.FE_TouchType_Point_Down=5]="FE_TouchType_Point_Down",V[V.FE_TouchType_Point_Up=6]="FE_TouchType_Point_Up",V[V.FE_TouchType_Point_Move=7]="FE_TouchType_Point_Move",(V=E=E||{})[V.MTIK_MODE_MAIN=0]="MTIK_MODE_MAIN",V[V.MTIK_MODE_STICKER=1]="MTIK_MODE_STICKER",V[V.MTIK_MODE_STICKER_SMEARING=2]="MTIK_MODE_STICKER_SMEARING",V[V.MTIK_MODE_STICKER_CUT=3]="MTIK_MODE_STICKER_CUT",V[V.MTIK_MODE_TEXT=4]="MTIK_MODE_TEXT",V[V.MTIK_MODE_TEXT_EDIT=5]="MTIK_MODE_TEXT_EDIT",V[V.MTIK_MODE_TEXT_SMEARING=6]="MTIK_MODE_TEXT_SMEARING",V[V.MTIK_MODE_BEAUTY=7]="MTIK_MODE_BEAUTY",V[V.MTIK_MODE_CUTOUT=8]="MTIK_MODE_CUTOUT",V[V.MTIK_MODE_WATERMARK=9]="MTIK_MODE_WATERMARK",V[V.MTIK_MODE_PUZZLE=10]="MTIK_MODE_PUZZLE",V[V.MTIK_MODE_MAGICPEN=11]="MTIK_MODE_MAGICPEN",V[V.MTIK_MODE_ELIMINATE_PEN=12]="MTIK_MODE_ELIMINATE_PEN",V[V.MTIK_MODE_MARK=13]="MTIK_MODE_MARK",V[V.MTIK_MODE_ENHANCE=14]="MTIK_MODE_ENHANCE",V[V.MTIK_MODE_NUM=15]="MTIK_MODE_NUM",(V=M=M||{})[V.CMTIKExternalOperatorTypeRotate=0]="CMTIKExternalOperatorTypeRotate",V[V.CMTIKExternalOperatorTypeScale=1]="CMTIKExternalOperatorTypeScale",V[V.CMTIKExternalOperatorTypeRotateScale=2]="CMTIKExternalOperatorTypeRotateScale",V[V.CMTIKExternalOperatorTypeTransform=3]="CMTIKExternalOperatorTypeTransform",V[V.CMTIKExternalOperatorTypeExtend=4]="CMTIKExternalOperatorTypeExtend",V[V.CMTIKExternalOperatorTypeExtendLeft=5]="CMTIKExternalOperatorTypeExtendLeft",V[V.CMTIKExternalOperatorTypeExtendRight=6]="CMTIKExternalOperatorTypeExtendRight",V[V.CMTIKExternalOperatorTypeExtendTop=7]="CMTIKExternalOperatorTypeExtendTop",V[V.CMTIKExternalOperatorTypeExtendBottom=8]="CMTIKExternalOperatorTypeExtendBottom",V[V.CMTIKExternalOperatorTypeDoubleRotate=9]="CMTIKExternalOperatorTypeDoubleRotate",V[V.CMTIKExternalOperatorTypeDoubleScale=10]="CMTIKExternalOperatorTypeDoubleScale",V[V.CMTIKExternalOperatorTypeDoubleTransform=11]="CMTIKExternalOperatorTypeDoubleTransform",V[V.CMTIKExternalOperatorTypeDoubleRST=12]="CMTIKExternalOperatorTypeDoubleRST",V[V.CMTIKExternalOperatorTypeNone=13]="CMTIKExternalOperatorTypeNone",V[V.CMTIKExternalOperatorTypeExtendNum=14]="CMTIKExternalOperatorTypeExtendNum",i(L,S=e),L.prototype.destroy=function(){return!!this._instanceId&&this._wasmModule._MTIKDisplayView_Destroy(this._instanceId)},L.prototype.getDisplayViewSize=function(){var t=this._wasmModule._MTIKDisplayView_GetViewSize(this._instanceId);return{width:(t=m(this._wasmModule,t,2))[0],height:t[1]}},L.prototype.mouseEventTrigger=function(t,e){this._wasmModule._MTIKDisplayView_TouchEvent(this._instanceId,t,e,e.length)},L.prototype.setViewLocateStatus=function(t,e,n){this._wasmModule._MTIKDisplayView_SetViewLocateStatus(this._instanceId,t,e,n)},L.prototype.getViewLocateStatus=function(){return this._wasmModule._MTIKDisplayView_GetViewLocateStatus(this._instanceId)},L.prototype.setRecoverViewLocate=function(t,e,n,r){this._wasmModule._MTIKDisplayView_SetRecoverViewLocate(this._instanceId,t,e,n,r)},L.prototype.setShowViewLocate=function(t,e,n,r,i,o,a){this._wasmModule._MTIKDisplayView_SetShowViewLocate(this._instanceId,t,e,n,r,i,o,a)},L.prototype.setMargin=function(t,e,n,r){this._wasmModule._MTIKDisplayView_SetMargin(this._instanceId,t,e,n,r)},L.prototype.setViewSelectFilter=function(t){this._wasmModule._MTIKDisplayView_SetViewSelectFilter(this._instanceId,t.getInstanceId())},L.prototype.viewDidLayout=function(t,e){this._wasmModule._MTIKDisplayView_ViewDidLayout(this._instanceId,t,e)},L.prototype.setBackgroundColor=function(t,e,n,r,i,o,a,s){this._wasmModule._MTIKDisplayView_SetBackgroundColor(this._instanceId,t,e,n,r,i,o,a,s)},L.prototype.setBackgroundColorNew=function(t,e,n,r,i,o,a,s){this._wasmModule._MTIKDisplayView_SetBackgroundColorNew(this._instanceId,t,e,n,r,i,o,a,s)},L.prototype.setMTIKManager=function(t){this._managerInstanceId=t,this._wasmModule._MTIKDisplayView_SetMTIKManager(this._instanceId,t)},L.prototype.refreshViewSelectFilter=function(){this._wasmModule._MTIKDisplayView_RefreshViewSelectFilter(this._instanceId)},L.prototype.setTouchSize=function(t){this._wasmModule._MTIKDisplayView_SetTouchSize(this._instanceId,t)},L.prototype.setShowMagnifier=function(t){this._wasmModule._MTIKDisplayView_SetShowMagnifier(this._instanceId,t)},L.prototype.setMagnifierShowPos=function(t,e,n){this._wasmModule._MTIKDisplayView_SetMagnifierShowPos(this._instanceId,t,e,n)},L.prototype.setMagnifierRadius=function(t){this._wasmModule._MTIKDisplayView_SetMagnifierRadius(this._instanceId,t)},L.prototype.setMagnifierBorderSize=function(t){this._wasmModule._MTIKDisplayView_SetMagnifierBorderSize(this._instanceId,t)},L.prototype.setMagnifierBorderColor=function(t,e,n,r){this._wasmModule._MTIKDisplayView_SetMagnifierBorderColor(this._instanceId,t,e,n,r)},L.prototype.setMagnifierAnimationTime=function(t){this._wasmModule._MTIKDisplayView_SetMagnifierAnimationTime(this._instanceId,t)},L.prototype.setViewMaxScale=function(t){this._wasmModule._MTIKDisplayView_SetViewMaxScale(this._instanceId,t)},L.prototype.setViewMinScale=function(t){this._wasmModule._MTIKDisplayView_SetViewMinScale(this._instanceId,t)},L.prototype.setPaintMask=function(t){this._wasmModule._MTIKDisplayView_SetPaintMask(this._instanceId,t)},L.prototype.setMaskColor=function(t,e,n,r){this._wasmModule._MTIKDisplayView_SetMaskColor(this._instanceId,t,e,n,r)},L.prototype.setMaskPenSize=function(t){this._wasmModule._MTIKDisplayView_SetMaskPenSize(this._instanceId,t)},L.prototype.setBgMoveLimitBorderWidth=function(t){this._wasmModule._MTIKDisplayView_SetBgMoveLimitBorderWidth(this._instanceId,t)},L.prototype.updateView=function(){this._wasmModule._MTIKManager_ProcessRender(this._managerInstanceId,!0)},L.prototype.canvasEvent=function(t){var e=this;function n(e){var n=(e=e||window.event).offsetX-t.offsetLeft;e=e.offsetY-t.offsetTop;return t.style.width&&t.style.height&&(n=t.width/parseFloat(t.style.width)*n,e=t.height/parseFloat(t.style.height)*e),{x:n,y:e}}return t.onmouseleave=function(t){t=n(t),e.mouseEventTrigger(I.FE_TouchType_Cancel,[t.x,t.y])},t.onmouseenter=function(){},t.onmousedown=function(r){r.offsetX,t.offsetLeft,r.offsetY,t.offsetTop,r=n(r),e.mouseEventTrigger(I.FE_TouchType_Down,[r.x,r.y])},t.onmousemove=function(t){t=n(t),e.mouseEventTrigger(I.FE_TouchType_Move,[t.x,t.y])},t.onmouseup=function(t){t=n(t),e.mouseEventTrigger(I.FE_TouchType_Up,[t.x,t.y])},this},L.prototype.Test=function(){this._wasmModule._MTIKDisplayView_Test([5,6],2)};var S,k=L;function L(t,e){var n=((t=S.call(this,t)||this)._managerInstanceId=0,(null==e?void 0:e.width)||0),r=(null==e?void 0:e.height)||0;return t._instanceId=t._wasmModule._MTIKDisplayView_Create(n,r),t.canvasEvent(e),t.Test(),t}function j(){this.pending=!1,this.filterWasm=null,this.zipRes=new Map,this.materiaZipRes=new Map,this.watermarkRes=new Map,this.initCallbackList=[],this.glCanvas=null,this.displayView=null}j.prototype.getDisplayView=function(){return this.displayView},j.prototype.init=function(t){var e=this;return void 0===t&&(t=""),new Promise((function(n,r){return a(e,void 0,void 0,(function(){var e,i,o,a,u,l,f,h;return s(this,(function(s){switch(s.label){case 0:if(this.filterWasm)return[2,n(this.filterWasm)];if(this.initCallbackList.push({resolve:n,reject:r}),this.pending)return[2];this.pending=!0,a=c.debug,i=c.libmtImageKit,e=c.libmtImageKitDebug,e=(a=a?e:i).wasmJsUrl,i=a.wasmGlobalName,s.label=1;case 1:return s.trys.push([1,4,,5]),this.glCanvas=x(10,10),[4,w("".concat(t).concat(e),i)];case 2:return a=s.sent(),u=this,[4,_(this.glCanvas,a,t)];case 3:return u.filterWasm=s.sent(),this.displayView=new k(this.filterWasm,this.glCanvas),[3,5];case 4:return l=s.sent(),o=l,[3,5];case 5:for(this.pending=!1,f=0;f<this.initCallbackList.length;f++)h=this.initCallbackList[f],o?h.reject(o):h.resolve(this.filterWasm);return this.initCallbackList=[],[2]}}))}))}))},j.prototype.initWithCanvas=function(t,e){var n=this;return void 0===e&&(e=""),new Promise((function(r,i){return a(n,void 0,void 0,(function(){var n,o,a,u,l,f,h,d;return s(this,(function(s){switch(s.label){case 0:if(this.filterWasm)return[2,r(this.filterWasm)];if(this.initCallbackList.push({resolve:r,reject:i}),this.pending)return[2];this.pending=!0,u=c.debug,o=c.libmtImageKit,n=c.libmtImageKitDebug,n=(u=u?n:o).wasmJsUrl,o=u.wasmGlobalName,s.label=1;case 1:return s.trys.push([1,4,,5]),this.glCanvas=null==t?x(10,10):t,[4,w("".concat(e).concat(n),o)];case 2:return u=s.sent(),l=this,[4,_(this.glCanvas,u,e)];case 3:return l.filterWasm=s.sent(),this.displayView=new k(this.filterWasm,this.glCanvas),[3,5];case 4:return f=s.sent(),a=f,[3,5];case 5:for(this.pending=!1,h=0;h<this.initCallbackList.length;h++)d=this.initCallbackList[h],a?d.reject(a):d.resolve(this.filterWasm);return this.initCallbackList=[],[2]}}))}))}))},j.prototype.setGLSize=function(t,e){this.glCanvas&&this.displayView&&(this.glCanvas.width=t,this.glCanvas.height=e,this.displayView.viewDidLayout(t,e))},j.prototype.getGLCanvas=function(){return this.glCanvas},j.prototype.isLoaded=function(t){return this.zipRes.has(t)},j.prototype.loadZip=function(t,e,n){return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return!e||this.isLoaded(t)?[3,2]:[4,h(this.filterWasm,e,t,n)];case 1:return i=o.sent(),r=i.defaultAlpha,i=i.temp,this.zipRes.set(t,r),[2,i];case 2:return[2,!0]}}))}))},j.prototype.setZipRes=function(t){this.zipRes.set(t,1)},j.prototype.loadMagicZip=function(t,e,n){return a(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:return r=t+"/"+n,!e||this.materiaZipRes.has(t)?[3,2]:[4,h(this.filterWasm,e,t)];case 1:i.sent(),this.materiaZipRes.set(t,r),i.label=2;case 2:return[2,r]}}))}))},j.prototype.getDefaultAlpha=function(t){return this.zipRes.get(t)||1},j.prototype.isReady=function(){return!!this.filterWasm},j.prototype.loadWaterMark=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return!t||this.isWaterMarkLoaded(t)?[3,2]:[4,function(t,e){return void 0===e&&(e=""),a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,f.a.getBinaryContent(e)];case 1:return r=i.sent(),n=e.lastIndexOf("/"),n=e.substring(0,n),r=new Uint8Array(r||[]),t.FS_createPath("/",n,!0,!0),t.FS_createDataFile(e,null,r,!0,!0,!0),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))}))}(this.filterWasm,t)];case 1:e.sent(),this.watermarkRes.set(t,1),e.label=2;case 2:return[2,!0]}}))}))},j.prototype.isWaterMarkLoaded=function(t){return this.watermarkRes.has(t)};var A=new j,C=A,P=(R.prototype.MTIKTextInteractionStruct=function(){this.mTextRect=new B,this.mTextString="",this.mInputFlag="",this.mTextFont="system",this.mTextSize=100,this.mTextORgba=new U,this.mTextORgbaIsWork=!0,this.mStrokeConfig=new K,this.mShadowConfig=new G,this.mBgConfig=new W,this.mGlowConfig=new H,this.mEditableConfig=new z,this.mJustify=F.ALIGN_VCENTER_HCENTER},R);function R(){this.mTextIndex=-1,this.mTextEnum=-1,this.mTextRect=new B,this.mTextString="",this.mInputFlag="",this.mTextFont="",this.mTextSize=0,this.mTextORgba=new U}var F,N,D,B=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=e,this.right=n,this.bottom=r},U=function(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),this.o=1,this.r=0,this.g=0,this.b=0,this.a=0,this.o=t,this.r=e,this.g=n,this.b=r,this.a=i},z=function(t,e,n,r,i,o){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===o&&(o=!0),this.editable=!0,this.horizontalEditable=!0,this.verticalEditable=!0,this.spacingEditable=!0,this.lineSpacingEditable=!0,this.pinyinEditable=!0,this.editable=t,this.horizontalEditable=e,this.verticalEditable=n,this.spacingEditable=r,this.lineSpacingEditable=i,this.pinyinEditable=o},K=function(t,e,n,r,i,o,a){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),this.enable=!1,this.editable=!1,this.r=0,this.g=0,this.b=0,this.a=0,this.size=0,this.enable=t,this.editable=e,this.r=n,this.g=r,this.b=i,this.a=o,this.size=a},G=function(t,e,n,r,i,o,a,s,c){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===c&&(c=0),this.enable=!1,this.editable=!1,this.r=0,this.g=0,this.b=0,this.a=0,this.offset_x=0,this.offset_y=0,this.blur=0,this.enable=t,this.editable=e,this.r=n,this.g=r,this.b=i,this.a=o,this.offset_x=a,this.offset_y=s,this.blur=c},W=function(t,e,n,r,i,o,a,s,c){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=[0,0,0,0]),void 0===c&&(c=0),this.enable=!1,this.editable=!1,this.r=0,this.g=0,this.b=0,this.a=0,this.margin=0,this.marginExtendLeft=0,this.marginExtendRight=0,this.marginExtendTop=0,this.marginExtendBottom=0,this.roundWeight=0,this.enable=t,this.editable=e,this.r=n,this.g=r,this.b=i,this.a=o,this.margin=a,this.roundWeight=c,this.marginExtendLeft=s[0],this.marginExtendRight=s[1],this.marginExtendTop=s[2],this.marginExtendBottom=s[3]},H=function(t,e,n,r,i,o,a,s){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),this.enable=!1,this.editable=!1,this.r=0,this.g=0,this.b=0,this.a=0,this.blur=0,this.strokeWidth=0,this.enable=t,this.editable=e,this.r=n,this.g=r,this.b=i,this.a=o,this.blur=a,this.strokeWidth=s},V=((V=F=F||{})[V.ALIGN_LEFT=1]="ALIGN_LEFT",V[V.ALIGN_HCENTER=2]="ALIGN_HCENTER",V[V.ALIGN_RIGHT=4]="ALIGN_RIGHT",V[V.ALIGN_TOP=16]="ALIGN_TOP",V[V.ALIGN_VCENTER=32]="ALIGN_VCENTER",V[V.ALIGN_BOTTOM=64]="ALIGN_BOTTOM",V[V.ALIGN_TOP_LEFT=17]="ALIGN_TOP_LEFT",V[V.ALIGN_VCENTER_LEFT=33]="ALIGN_VCENTER_LEFT",V[V.ALIGN_BOTTOM_LEFT=65]="ALIGN_BOTTOM_LEFT",V[V.ALIGN_TOP_HCENTER=18]="ALIGN_TOP_HCENTER",V[V.ALIGN_VCENTER_HCENTER=34]="ALIGN_VCENTER_HCENTER",V[V.ALIGN_BOTTOM_HCENTER=66]="ALIGN_BOTTOM_HCENTER",V[V.ALIGN_TOP_RIGHT=20]="ALIGN_TOP_RIGHT",V[V.ALIGN_VCENTER_RIGHT=36]="ALIGN_VCENTER_RIGHT",V[V.ALIGN_BOTTOM_RIGHT=68]="ALIGN_BOTTOM_RIGHT",V[V.ALIGN_NUM=69]="ALIGN_NUM",(V=N=N||{})[V.CURRENT=0]="CURRENT",V[V.INDEX=1]="INDEX",V[V.ALL=2]="ALL",i(Y,D=e),Y.prototype.destroy=function(){this._instanceId=0},Y.prototype.getUUId=function(){return this._wasmModule._MTIKFilter_GetUUID(this._instanceId)},Y.prototype.setManager=function(t){this.mManager=t},Y.prototype.getMTIKManager=function(){return this.mManager},Y.prototype.getLocateStatus=function(){var t={mCenterX:.5,mCenterY:.5,mWidthRatio:.5,mWHRatio:1,mFlip:!1,mVFlip:!1,mRotate:0,mAlpha:1},e=(t.mWHRatio=this._wasmModule._MTIKFilter_GetWHRatio(this._instanceId),t.mWidthRatio=this._wasmModule._MTIKFilter_GetWidthRatio(this._instanceId),this._wasmModule._MTIKFilter_GetCenter(this._instanceId)),n=m(this._wasmModule,e,2);return t.mCenterX=n[0],t.mCenterY=n[1],y(this._wasmModule,e),t.mAlpha=this._wasmModule._MTIKFilter_GetAlpha(this._instanceId),t.mRotate=this._wasmModule._MTIKFilter_GetRotate(this._instanceId),t.mFlip=this._wasmModule._MTIKFilter_GetFlip(this._instanceId),t.mVFlip=this._wasmModule._MTIKFilter_GetVFlip(this._instanceId),t},Y.prototype.setLocateStatus=function(t){t=JSON.stringify(t),t=d(this._wasmModule,t),this._wasmModule._MTIKFilter_SetLocateStatus(this._instanceId,t),this.calculatePosition(),y(this._wasmModule,t)},Y.prototype.setLocateStatusWithViewOperate=function(t,e){t=JSON.stringify(t),t=d(this._wasmModule,t),this._wasmModule._MTIKFilter_SetLocateStatusWithViewOperate(this._instanceId,t,e),y(this._wasmModule,t),this.calculatePosition()},Y.prototype.getResultImage=function(t,e,n){var r=g(this._wasmModule);e={width:(t=(this._wasmModule._MTIKFilter_GetResultBitmapLimit(this._instanceId,t,r,e,n),v(this._wasmModule,r,2)))[0],height:t[1]};return this._wasmModule._free(r),e},Y.prototype.calculatePosition=function(){this._wasmModule._MTIKFilter_SetNeedRefreshPosition(this._instanceId,!0),this._wasmModule._MTIKFilter_SetNeedRefreshTexPosition(this._instanceId,!0),this._wasmModule._MTIKFilter_CalculatePosition(this._instanceId)},Y.prototype.getLayerBorder=function(){var t=this._wasmModule._MTIKFilter_GetLayerBorder(this._instanceId),e=m(this._wasmModule,t,8);e=this.calculateRect(e);return y(this._wasmModule,t),e},Y.prototype.calculateRect=function(t){var e=new B(0,0,0,0),n=Math.max(Math.max(t[0],t[2]),Math.max(t[4],t[6])),r=Math.min(Math.min(t[0],t[2]),Math.min(t[4],t[6])),i=Math.max(Math.max(t[1],t[3]),Math.max(t[5],t[7]));t=Math.min(Math.min(t[1],t[3]),Math.min(t[5],t[7]));return e.left=r,e.top=t,e.right=n,e.bottom=i,e},Y.prototype.setShow=function(t){this._wasmModule._MTIKFilter_SetShow(this._instanceId,t)},Y);function Y(t){return D.call(this,t)||this}i(q,X=V),q.prototype.destroy=function(){this._instanceId&&X.prototype.destroy.call(this)},q.prototype.loadConfigPlist=function(t){t=p(this._wasmModule,t),this._wasmModule._MTIKRealtimeFilter_LoadConfigPlist(this._instanceId,t),y(this._wasmModule,t)},q.prototype.setAlpha=function(t){this._wasmModule._MTIKRealtimeFilter_SetAlpha(this._instanceId,t)};var X,Z=q;function q(t){return(t=X.call(this,t)||this)._instanceId=t._wasmModule._MTIKRealtimeFilter_Create(),t}Q.prototype.setNativeImage=function(t,e,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=0),o=(o=void 0!==o&&o)?t:null!==t&&t.byteLength?new Uint8Array(t):new Uint8Array(e*n*4),(null===t||e<0||n<0)&&(null!==this.nativeImagePtr&&(this._wasmModule._free(this.nativeImagePtr),this.nativeImagePtr=null),this.nativeImageWidth=0,this.nativeImageHeight=0),e===this.nativeImageWidth&&n===this.nativeImageHeight||(null!==this.nativeImagePtr&&(this._wasmModule._free(this.nativeImagePtr),this.nativeImagePtr=null),this.nativeImageWidth=0,this.nativeImageHeight=0),null===this.nativeImagePtr&&(this.nativeImageSize=e*n*4,this.nativeImageWidth=e,this.nativeImageHeight=n,this.nativeImagePtr=this._wasmModule._malloc(this.nativeImageSize)),this.nativeImagestride=r,this.nativeImageOrientation=i,this._wasmModule.HEAPU8.set(o,this.nativeImagePtr)},Q.prototype.setImagePtr=function(t,e,n){this.nativeImagePtr=t,this.nativeImageWidth=e,this.nativeImageHeight=n,this.nativeImageSize=e*n*4},Q.prototype.getNativeImage=function(){return this.nativeImagePtr},Q.prototype.getImageWidth=function(){return this.nativeImageWidth},Q.prototype.getImageHeight=function(){return this.nativeImageHeight},Q.prototype.getImageData=function(t){return void 0===t&&(t=this.nativeImageSize),this._wasmModule.HEAPU8.subarray(this.nativeImagePtr,this.nativeImagePtr+t)},Q.prototype.destroy=function(){null!==this.nativeImagePtr&&(this._wasmModule._free(this.nativeImagePtr),this.nativeImagePtr=null,this.nativeImageWidth=0,this.nativeImageHeight=0)};var J=Q;function Q(t){this.nativeImagePtr=null,this.nativeImageWidth=0,this.nativeImageHeight=0,this.nativeImageSize=0,this.nativeImageOrientation=0,this.nativeImagestride=0,this._wasmModule=null,this._wasmModule=t}i(et,$=e),et.prototype.destroy=function(){return!!this._instanceId&&this._wasmModule._MTIKManager_Uninitialized(this._instanceId)},et.prototype.setSrcImage=function(t,e,n){return this._wasmModule._MTIKManager_SetSrcBitmap(this._instanceId,t,e,n)},et.prototype.getImageSize=function(){var t=this._wasmModule._MTIKManager_GetImageSize(this._instanceId);return{width:(t=m(this._wasmModule,t,2))[0],height:t[1]}},et.prototype.setDisplayView=function(t,e){this._displayInstance=t.getInstanceId(),t.setMTIKManager(this._instanceId),this.mDisplayView=t,this._wasmModule._MTIKManager_SetDisplayView(this._instanceId,this._displayInstance),this._wasmModule._MTIKDisplayView_SetMTIKManager(this._displayInstance,this._instanceId),e&&this._wasmModule._MTIKManager_ProcessRender(this._instanceId,!0)},et.prototype.getDisplayView=function(){return this.mDisplayView},et.prototype.addFilter=function(t){return t.setManager(this),this._wasmModule._MTIKManager_AddFilter(this._instanceId,t.getInstanceId(),999999999,!0)},et.prototype.removeFilter=function(t,e){return this._wasmModule._MTIKManager_RemoveFilter(this._instanceId,t.getInstanceId(),e)},et.prototype.removeAllFilter=function(){return this._wasmModule._MTIKManager_RemoveAllFilter(this._instanceId,-1)},et.prototype.processRender=function(t){this._wasmModule._MTIKManager_ProcessRender(this._instanceId,t)},et.prototype.setResPath=function(t){t=p(this._wasmModule,t);var e=this._wasmModule._MTIKManager_SetResPath(t);return y(this._wasmModule,t),e},et.prototype.initMTAiEngine=function(t){return this._wasmModule._MTIKManager_InitMTAiEngine(this._instanceId)},et.prototype.setSelectFilter=function(t){this._wasmModule._MTIKManager_SetSelectFilter(this._instanceId,t.getInstanceId())},et.prototype.setFEMode=function(t){this._wasmModule._MTIKManager_SetFEMode(this._instanceId,t)},et.prototype.getFEMode=function(){return this._wasmModule._MTIKManager_GetFEMode(this._instanceId)},et.prototype.getImageData=function(t,e,n){this._wasmModule._MTIKManager_GetResultBitmap(this._instanceId,t,e,n)},et.prototype.setArPublicParamsPlist=function(t){t=p(this._wasmModule,t);var e=this._wasmModule._MTIKManager_SetArPublicParamsPlist(this._instanceId,t);return y(this._wasmModule,t),e},et.prototype.setARDirectory=function(t,e){var n=p(this._wasmModule,t);this._wasmModule._MTIKAR_SetDirectory(n,e),y(this._wasmModule,t)},et.prototype.registerARFont=function(t,e){t=p(this._wasmModule,t),e=p(this._wasmModule,e),this._wasmModule._MTIKAR_RegisterFont(t,e),y(this._wasmModule,t),y(this._wasmModule,e)},et.prototype.setViewCapability=function(t,e){this._wasmModule._MTIKManager_SetViewCapability(this._instanceId,t,e)},et.prototype.getViewCapability=function(t){return this._wasmModule._MTIKManager_GetCapability(this._instanceId,t)},et.prototype.resetViewCapability=function(){return this._wasmModule._MTIKManager_ResetViewCapability(this._instanceId)},et.prototype.setCapability=function(t,e){this._wasmModule._MTIKManager_SetCapability(this._instanceId,t,e)},et.prototype.getCapability=function(t,e){return this._wasmModule._MTIKManager_GetCapability(this._instanceId,t)},et.prototype.resetCapability=function(){return this._wasmModule._MTIKManager_ResetCapability(this._instanceId)},et.prototype.setABCreateStatus=function(t,e){this._wasmModule._MTIKManager_SetABCreateStatus(this._instanceId,t,e)},et.prototype.setMinSrcLength=function(t){this._wasmModule._MTIKManager_SetMinSrcLength(this._instanceId,t)},et.prototype.setGLPushType=function(t){this._wasmModule._MTIKManager_SetGLPushType(this._instanceId,t)},et.prototype.getIsInReadering=function(t){this._wasmModule._MTIKManager_GetIsInReadering(this._instanceId,t)},et.prototype.interruptRendering=function(t){this._wasmModule._MTIKManager_InterruptRendering(this._instanceId,t)},et.prototype.setPreBufferWithState=function(t,e){this._wasmModule._MTIKManager_SetPreBufferWithState(this._instanceId,t,e)},et.prototype.enableRenderToView=function(t,e){this._wasmModule._MTIKManager_EnableRenderToView(this._instanceId,t,e)},et.prototype.destroyAllFilter=function(){this._wasmModule._MTIKManager_DestroyAllFilter(this._instanceId)},et.prototype._initialize=function(){var t=!1;return this._instanceId=this._wasmModule._MTIKManager_Create(),!!this._wasmModule._MTIKManager_Initialize(this._instanceId)||t};var $,tt=et;function et(t){return(t=$.call(this,t)||this)._displayInstance=0,t.mDisplayView=null,t._initialize(),t}function nt(){}nt.prototype.canDo=function(){return!!this.fromCanvas},nt.prototype.getManager=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getWasm()];case 1:return t=e.sent(),this.manager||(this.isRelease=!0,this.manager=new tt(t),this.manager.setFEMode(E.MTIK_MODE_MAIN)),[2,this.manager]}}))}))},nt.prototype.setManager=function(t,e){var n;return this.isRelease&&(this.manager&&null!=(n=this.manager)&&n.destroy(),this.manager=null),this.isRelease=e,this.manager||(this.manager=t),this},nt.prototype.baseDestroy=function(){var t;null!=(t=this.srcImageData)&&t.destroy(),this.isRelease&&this.manager&&null!=(t=this.manager)&&t.destroy(),this.manager=null,this.fromCanvas=null},nt.prototype.getWasm=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return this.filterWasm?[3,2]:(t=this,[4,C.init()]);case 1:t.filterWasm=e.sent(),e.label=2;case 2:return[2,this.filterWasm]}}))}))},nt.prototype.from=function(t){return this.fromCanvas=t,this},nt.prototype.getGLResult=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return this.fromCanvas?(e=this.fromCanvas,t=e.width,e=e.height,[4,this.getWasm()]):[3,3];case 1:return n=s.sent(),[4,this.getManager()];case 2:return i=s.sent(),(r=new J(n)).setNativeImage(null,t,e),i.getImageData(r.getNativeImage(),t,e),i=x(t,e),o=i.getContext("2d"),(a=null==o?void 0:o.createImageData(t,e))&&(a.data.set(r.getImageData()),null!=o)&&o.putImageData(a,0,0),r.destroy(),[2,{canvas:i,width:t,height:e}];case 3:return[2,{canvas:null,width:0,height:0}]}}))}))},nt.prototype.initMTIKManagerForm=function(t){return this.setSrcImage(t),this},nt.prototype.setSrcImage=function(t,e,n){var r,i;return void 0===e&&(e=!0),void 0===n&&(n=!0),a(this,void 0,void 0,(function(){var o,a,c,u;return s(this,(function(s){switch(s.label){case 0:return[4,this.getManager()];case 1:return s.sent(),this.fromCanvas==t?[3,3]:(this.fromCanvas=t,[4,this.getWasm()]);case 2:o=s.sent(),c=this.fromCanvas,a=c.width,c=c.height,u=null==(u=this.fromCanvas.getContext("2d"))?void 0:u.getImageData(0,0,a,c),null!=(r=this.srcImageData)&&r.destroy(),this.srcImageData=new J(o),null!=(r=this.srcImageData)&&r.setNativeImage(null==u?void 0:u.data,a,c),null!=(r=this.manager)&&r.setSrcImage(null==(r=this.srcImageData)?void 0:r.getNativeImage(),a,c),s.label=3;case 3:return e&&null!=(r=this.manager)&&r.removeAllFilter(),null!=(i=this.manager)&&i.setResPath(""),n?[4,this.setMTIKDisplayView()]:[3,5];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))},nt.prototype.setSrcImageWithData=function(t,e,n,r,i){var o;return void 0===r&&(r=!0),void 0===i&&(i=!0),a(this,void 0,void 0,(function(){var a;return s(this,(function(s){switch(s.label){case 0:return[4,this.getManager()];case 1:return s.sent(),[4,this.getWasm()];case 2:return a=s.sent(),null!=(o=this.srcImageData)&&o.destroy(),this.srcImageData=new J(a),null!=(o=this.srcImageData)&&o.setNativeImage(t,e,n,0,0,!0),null!=(o=this.manager)&&o.setSrcImage(null==(o=this.srcImageData)?void 0:o.getNativeImage(),e,n),r&&null!=(o=this.manager)&&o.removeAllFilter(),null!=(o=this.manager)&&o.setResPath(""),i?[4,this.setMTIKDisplayView()]:[3,4];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))},nt.prototype.processRender=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getManager()];case 1:return t.sent().processRender(!0),[2]}}))}))},nt.prototype.setMTIKDisplayView=function(){return a(this,void 0,void 0,(function(){var t,e,n;return s(this,(function(r){switch(r.label){case 0:return e=this.fromCanvas,t=e.width,e=e.height,n=C.getDisplayView(),C.setGLSize(t,e),n?[4,this.getManager()]:[3,2];case 1:r.sent().setDisplayView(n,!0),r.label=2;case 2:return[2]}}))}))},i(st,rt=ot=nt);var rt,it,ot,at=st;function st(){return null!==rt&&rt.apply(this,arguments)||this}function ct(){return null!==it&&it.apply(this,arguments)||this}i(ct,it=ot);var ut,lt="filter/configuration_filter.plist";function ft(){return null!==ut&&ut.apply(this,arguments)||this}i(ft,ut=ot=ct),ft.prototype.destroy=function(){this.baseDestroy(),this._realtimeFilter&&this._realtimeFilter.destroy(),this._realtimeFilter=null},ft.prototype.getDefaultAlpha=function(t,e,n){return void 0===n&&(n=lt),a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.getWasm()];case 1:return r.sent(),[4,C.loadZip(t,e,n)];case 2:return r.sent(),[2,C.getDefaultAlpha(t)]}}))}))},ft.prototype.apply=function(t,e,n,r){return void 0===r&&(r=lt),a(this,void 0,void 0,(function(){var i,o,a,c,u,l,f;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return i=s.sent(),a=this.fromCanvas,o=a.width,a=a.height,c=null==(c=this.fromCanvas.getContext("2d"))?void 0:c.getImageData(0,0,o,a),[4,C.loadZip(t,e)];case 2:return s.sent(),(u=new J(i)).setNativeImage(null==c?void 0:c.data,o,a),(l=new Z(i)).loadConfigPlist("".concat(t,"/").concat(r)),l.setAlpha(n),[4,this.getManager()];case 3:return(f=s.sent()).removeAllFilter(),f.setSrcImage(u.getNativeImage(),o,a),f.setResPath(""),f.addFilter(l),f.processRender(!0),[4,this.getGLResult()];case 4:return f=s.sent(),u.destroy(),l.destroy(),this.destroy(),[2,f]}}))}))},ft.prototype.initRealtimeFilter=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!1),a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return null!=this._realtimeFilter?[3,3]:[4,this.getWasm()];case 1:return n=r.sent(),this._realtimeFilter=new Z(n),[4,this.getManager()];case 2:return n=r.sent(),e&&n.removeAllFilter(),t&&n.addFilter(this._realtimeFilter),[3,4];case 3:r.label=4;case 4:return[2]}}))}))},ft.prototype.loadConfigPath=function(t,e,n,r,i){var o;return void 0===r&&(r=!0),void 0===i&&(i=lt),a(this,void 0,void 0,(function(){return s(this,(function(a){switch(a.label){case 0:return[4,C.loadZip(t,e)];case 1:return a.sent(),null!=(o=this._realtimeFilter)&&o.loadConfigPlist("".concat(t,"/").concat(i)),null!=(o=this._realtimeFilter)&&o.setAlpha(n),r?[4,this.getManager()]:[3,4];case 2:return a.sent().processRender(!0),[4,this.getGLResult()];case 3:return[2,a.sent()];case 4:return[2,null]}}))}))},ft.prototype.setAlpha=function(t){var e;return a(this,void 0,void 0,(function(){return s(this,(function(n){return null!=(e=this._realtimeFilter)&&e.setAlpha(t),[2]}))}))},ft.prototype.setShow=function(t){var e;return a(this,void 0,void 0,(function(){return s(this,(function(n){return null!=(e=this._realtimeFilter)&&e.setShow(t),[2]}))}))};var ht,dt,pt,yt=new ft,mt=((_e=ht=ht||{})[_e.MTIKEnhanceColorRed=0]="MTIKEnhanceColorRed",_e[_e.MTIKEnhanceColorOrange=1]="MTIKEnhanceColorOrange",_e[_e.MTIKEnhanceColorYellow=2]="MTIKEnhanceColorYellow",_e[_e.MTIKEnhanceColorGreen=3]="MTIKEnhanceColorGreen",_e[_e.MTIKEnhanceColorBlue=4]="MTIKEnhanceColorBlue",_e[_e.MTIKEnhanceColorPurple=5]="MTIKEnhanceColorPurple",_e[_e.MTIKEnhanceColorMagenata=6]="MTIKEnhanceColorMagenata",_e[_e.MTIKEnhanceColorAll=7]="MTIKEnhanceColorAll",_e[_e.MTIKEnhanceColorMax=8]="MTIKEnhanceColorMax",i(gt,dt=V),gt.prototype.destroy=function(){this._instanceId&&dt.prototype.destroy.call(this)},gt.prototype.materialPathInit=function(t){return this._wasmModule._MTIKEnhanceFilter_MaterialPathInit(this._instanceId)},gt.prototype.setParams=function(t,e){void 0===e&&(e=!1);var n=new Array;if(t.light)n.push(3),n.push((t.light.brightness||0)/100),n.push((t.light.contrast||0)/100),n.push((t.light.highlight||0)/100),n.push((t.light.shadow||0)/100),n.push((t.light.fade||0)/100);else for(var r=0;r<6;++r)n.push(0);if(t.color)n.push((t.color.saturation||0)/100),n.push((t.color.temperature||0)/100),n.push((t.color.tinge||0)/100);else for(r=0;r<3;++r)n.push(0);if(t.particulars)n.push((t.particulars.sharpen||0)/100),n.push((t.particulars.particle||0)/100),n.push((t.particulars.dispersion||0)/2e3),n.push((t.particulars.vignette||0)/100*.7),n.push((t.particulars.structure||0)/100*.65);else for(r=0;r<5;++r)n.push(0);if(t.color)n.push(t.color.posterize_light_color||0),n.push(t.color.posterize_shadow_color||0),n.push((t.color.posterize_light||0)/100),n.push((t.color.posterize_shadow||0)/100);else for(r=0;r<4;++r)n.push(0);for(var i=0;i<ht.MTIKEnhanceColorMax;i++)t.color&&t.color.hsl_hue&&t.color.hsl_hue[i]?n.push(t.color.hsl_hue[i]):n.push(0),t.color&&t.color.hsl_saturation&&t.color.hsl_saturation[i]?n.push(t.color.hsl_saturation[i]):n.push(0),t.color&&t.color.hsl_light&&t.color.hsl_light[i]?n.push(t.color.hsl_light[i]):n.push(0);if(t.light?n.push((t.light.smartLightAlpha||0)/100):n.push(0),t.isHslSelectAll?n.push(t.isHslSelectAll||0):n.push(0),t.pickColors){var o=Math.floor(t.pickColors.length/4);for(r=0;r<o;r++){i=4*r;var a=3*r;n.push(t.pickColors[i]||0),n.push(t.pickColors[i+1]||0),n.push(t.pickColors[i+2]||0),n.push(t.pickColors[i+3]||0),n.push(t.hslPickColors[a]||0),n.push(t.hslPickColors[1+a]||0),n.push(t.hslPickColors[2+a]||0),n.push(t.pickFuzziness&&t.pickFuzziness[r]||0)}}this._wasmModule._MTIKEnhanceFilter_SetParams(this._instanceId,n,n.length,e)},gt.prototype.setHSLMode=function(t){this._wasmModule._MTIKEnhanceFilter_SetHSLMode(this._instanceId,t)},gt.prototype.startSmear=function(t){this._wasmModule._MTIKEnhanceFilter_StartSmear(this._instanceId,t)},gt.prototype.stopSmear=function(){this._wasmModule._MTIKEnhanceFilter_StopSmear(this._instanceId)},gt.prototype.hasDoEffect=function(){this._wasmModule.MTIKEnhanceFilter_HasDoEffect(this._instanceId)},gt.prototype.getHSLFromColors=function(t,e){return this._wasmModule._MTIKEnhanceFilter_GetHSLFromColors(this._instanceId,t,e)},gt.prototype.getColorFromHSL=function(t,e){return this._wasmModule._MTIKEnhanceFilter_GetColorFromHSL(this._instanceId,t,e)},gt);function gt(t){return(t=dt.call(this,t)||this)._instanceId=t._wasmModule._MTIKEnhanceFilter_Create(),t}(_e=pt=pt||{})[_e.MTIKViewCapabilityTypeNotifyLongPress=0]="MTIKViewCapabilityTypeNotifyLongPress",_e[_e.MTIKViewCapabilityTypeBgMove=1]="MTIKViewCapabilityTypeBgMove",_e[_e.MTIKViewCapabilityTypeBgSignedMove=2]="MTIKViewCapabilityTypeBgSignedMove",_e[_e.MTIKViewCapabilityTypeBgDoubleMove=3]="MTIKViewCapabilityTypeBgDoubleMove",_e[_e.MTIKViewCapabilityTypeBgBound=4]="MTIKViewCapabilityTypeBgBound",_e[_e.MTIKViewCapabilityTypeEdgeLimit=5]="MTIKViewCapabilityTypeEdgeLimit",_e[_e.MTIKViewCapabilityTypeScaleLimit=6]="MTIKViewCapabilityTypeScaleLimit",_e[_e.MTIKViewCapabilityTypeChangeSelect=7]="MTIKViewCapabilityTypeChangeSelect",_e[_e.MTIKViewCapabilityTypeHoverSelectFirst=8]="MTIKViewCapabilityTypeHoverSelectFirst",_e[_e.MTIKViewCapabilityTypeDoubleClickRestore=9]="MTIKViewCapabilityTypeDoubleClickRestore",_e[_e.MTIKViewCapabilityTypeAlign=10]="MTIKViewCapabilityTypeAlign",_e[_e.MTIKViewCapabilityTypeSelectFlash=11]="MTIKViewCapabilityTypeSelectFlash",_e[_e.MTIKViewCapabilityTypeMargin=12]="MTIKViewCapabilityTypeMargin",_e[_e.MTIKViewCapabilityTypeBgMoveLimitInSideView=13]="MTIKViewCapabilityTypeBgMoveLimitInSideView",_e[_e.MTIKViewCapabilityTypeUnselect=14]="MTIKViewCapabilityTypeUnselect",_e[_e.MTIKViewCapabilityTypeNum=15]="MTIKViewCapabilityTypeNum",i(wt,vt=e),wt.prototype.destroy=function(){this.releaseNativeImage(),this._instanceId&&vt.prototype.destroy.call(this)},wt.prototype.releaseNativeImage=function(){},wt.prototype.progress=function(t,e,n,r,i){return this._wasmModule._MTIKStaticExtractColorProcess_ExtractColor(t,e,n,r,i)};var vt,bt=wt;function wt(t){return vt.call(this,t)||this}i(Mt,_t=e),Mt.prototype.destroy=function(){this._instanceId&&_t.prototype.destroy.call(this)},Mt.prototype.onMTIKRenderEvent=function(t,e){this._wasmModule.onMTIKRenderEvent=t.bind(e)},Mt.prototype.clickUpOnView=function(t,e){this._wasmModule.clickUpOnView=t.bind(e)},Mt.prototype.onLiquifyFilterEvent=function(t,e){this._wasmModule.onLiquifyFilterEvent=t.bind(e)};var _t,xt,Tt,It,Et=Mt;function Mt(t){return _t.call(this,t)||this}function Ot(){return null!==It&&It.apply(this,arguments)||this}(_e=xt=xt||{})[_e.MTIKOutTouchTypeDown=0]="MTIKOutTouchTypeDown",_e[_e.MTIKOutTouchTypeMove=1]="MTIKOutTouchTypeMove",_e[_e.MTIKOutTouchTypeUp=2]="MTIKOutTouchTypeUp",_e[_e.MTIKOutTouchTypeNum=3]="MTIKOutTouchTypeNum",(_e=Tt=Tt||{})[_e.MTIKLiquifyEventRefreshView=0]="MTIKLiquifyEventRefreshView",_e[_e.MTIKLiquifyEventUndoSmear=1]="MTIKLiquifyEventUndoSmear",_e[_e.MTIKLiquifyEventRedoSmear=2]="MTIKLiquifyEventRedoSmear",_e[_e.MTIKLiquifyEventTouchDown=3]="MTIKLiquifyEventTouchDown",_e[_e.MTIKLiquifyEventTouchUp=4]="MTIKLiquifyEventTouchUp",_e[_e.MTIKLiquifyEventTypeNum=5]="MTIKLiquifyEventTypeNum",i(Ot,It=ot),Ot.prototype.destroy=function(){var t;this.baseDestroy(),null!=(t=this.localFilter)&&t.destroy(),this.localFilter=null},Ot.prototype.doEnhance=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,c;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return n=s.sent(),i=this.fromCanvas,r=i.width,i=i.height,o=null==(o=this.fromCanvas.getContext("2d"))?void 0:o.getImageData(0,0,r,i),[4,C.loadZip(t,e)];case 2:return s.sent(),(a=new J(n)).setNativeImage(null==o?void 0:o.data,r,i),this.localFilter=new mt(n),this.localFilter.materialPathInit(""),[4,this.getManager()];case 3:return(c=s.sent()).removeAllFilter(),c.setSrcImage(a.getNativeImage(),r,i),c.setResPath(""),c.addFilter(this.localFilter),c.processRender(!0),a.destroy(),[2]}}))}))},Ot.prototype.setHSLMode=function(t){if(this.localFilter)return this.localFilter.setHSLMode(t),this},Ot.prototype.startSmear=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.localFilter?[4,this.getManager()]:[2];case 1:return e.sent().setViewCapability(pt.MTIKViewCapabilityTypeNotifyLongPress,!0),this.localFilter.startSmear(t._instanceId),[2]}}))}))},Ot.prototype.stopSmear=function(t){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return this.localFilter?[4,this.getManager()]:[2];case 1:return t=e.sent(),this.localFilter.stopSmear(),t.processRender(!0),this.localFilter=null,[2]}}))}))},Ot.prototype.setParams=function(t){this.localFilter&&this.localFilter.setParams(t,!0)};var St,kt=new Ot;function Lt(){var t=St.call(this)||this;return t.localFilter=null,t._listener=null,t}i(Lt,St=at),Lt.prototype.destroy=function(){var t;this.baseDestroy(),null!=(t=this.localFilter)&&t.destroy(),this.localFilter=null},Lt.prototype.create=function(t,e,n){var r;return void 0===n&&(n={}),a(this,void 0,void 0,(function(){var i,o,a,c,u,l,f;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return i=s.sent(),a=this.fromCanvas,o=a.width,a=a.height,c=null==(c=this.fromCanvas.getContext("2d"))?void 0:c.getImageData(0,0,o,a),[4,C.loadZip(t,e)];case 2:return s.sent(),(u=new J(i)).setNativeImage(null==c?void 0:c.data,o,a),this.localFilter=new mt(i),this.localFilter.materialPathInit(""),this.localFilter.setParams(n),[4,this.getManager()];case 3:return l=s.sent(),f=C.getDisplayView(),C.setGLSize(o,a),l.removeAllFilter(),l.setSrcImage(u.getNativeImage(),o,a),l.setResPath(""),f&&(l.setDisplayView(f,!0),f.setPaintMask(!0)),l.addFilter(this.localFilter),l.processRender(!0),l.setViewCapability(pt.MTIKViewCapabilityTypeBgMove,!1),u.destroy(),this._listener||(this._listener=new Et(i),null!=(r=this._listener)&&r.onMTIKRenderEvent(this.onMTIKRenderEvent,this),null!=(r=this._listener)&&r.onLiquifyFilterEvent(this.onLiquifyFilterEvent,this)),[2,C.getGLCanvas()]}}))}))},Lt.prototype.onMTIKRenderEvent=function(t){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return null!=(t=e.sent())&&t.processRender(!0),[2]}}))}))},Lt.prototype.onLiquifyFilterEvent=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return Tt.MTIKLiquifyEventTouchUp,[2]}))}))},Lt.prototype.setParams=function(t){this.localFilter&&this.localFilter.setParams(t,!0)},Lt.prototype.setHSLMode=function(t){if(this.localFilter)return this.localFilter.setHSLMode(t),this},Lt.prototype.startSmear=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.localFilter?[4,this.getManager()]:[2];case 1:return(e=n.sent()).setViewCapability(pt.MTIKViewCapabilityTypeNotifyLongPress,!0),(e=e.getDisplayView())&&e.setViewSelectFilter(t),this.localFilter.startSmear(t._instanceId),[2]}}))}))},Lt.prototype.stopSmear=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return this.localFilter?[4,this.getManager()]:[2];case 1:return e=n.sent(),this.localFilter.stopSmear(),e.removeFilter(t,!1),e.processRender(!0),[2]}}))}))},Lt.prototype.setMaskPenSize=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,this.getManager()];case 1:return(e=(e=n.sent()).getDisplayView())&&e.setMaskPenSize(t),[2]}}))}))},Lt.prototype.setMaskColor=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return[4,this.getManager()];case 1:return(e=(e=a.sent()).getDisplayView())&&(n=t[0],r=t[1],i=t[2],o=t[3],e.setMaskColor(n,r,i,o)),[2]}}))}))},Lt.prototype.imageDetec=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return[4,this.getWasm()];case 1:return o=a.sent(),t=[],e=new bt(o),r=this.fromCanvas,n=r.width,r=r.height,i=null==(i=this.fromCanvas.getContext("2d"))?void 0:i.getImageData(0,0,n,r),(o=new J(o)).setNativeImage(null==i?void 0:i.data,n,r),[2,e.progress(o.getNativeImage(),n,r,t,t.length)]}}))}))},Lt.prototype.getHSLFromColors=function(t,e){if(this.localFilter)return this.localFilter.getHSLFromColors(t,e)},Lt.prototype.getColorFromHSL=function(t,e){if(this.localFilter)return this.localFilter.getColorFromHSL(t,e)};var jt,At,Ct=new Lt,Pt=(i(Rt,jt=e),Rt.prototype.destroy=function(){this.releaseNativeImage(),this._instanceId&&jt.prototype.destroy.call(this)},Rt.prototype.releaseNativeImage=function(){},Rt.prototype.progress=function(t,e,n,r,i,o){return this._wasmModule._MTIKEliminatePen_Process(t,e,n,r,i,o)},Rt.prototype.blurMask=function(t,e,n,r,i){return this._wasmModule._MTIKMaskBlur_Progress(t,e,n,r,i)},Rt);function Rt(t){return jt.call(this,t)||this}function Ft(){return null!==At&&At.apply(this,arguments)||this}i(Ft,At=ot),Ft.prototype.destroy=function(){this.baseDestroy()},Ft.prototype.eliminate=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,a,c,u,l,f;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return e=s.sent(),a=t.getContext("2d"),n=t.width,r=t.height,a=null==a?void 0:a.getImageData(0,0,n,r),null!=(i=new J(e))&&i.setNativeImage(null==a?void 0:a.data,n,r),a=this.fromCanvas,o=a.width,a=a.height,u=null==(u=this.fromCanvas.getContext("2d"))?void 0:u.getImageData(0,0,o,a),(c=new J(e)).setNativeImage(null==u?void 0:u.data,o,a),[4,this.getManager()];case 2:return u=s.sent(),(l=new Pt(e)).progress(c.getNativeImage(),o,a,i.getNativeImage(),n,r),u.setSrcImage(c.getNativeImage(),o,a),u.processRender(!0),[4,this.getGLResult()];case 3:return f=s.sent(),i.destroy(),c.destroy(),l.destroy(),this.destroy(),[2,f]}}))}))},Ft.prototype.maskBlur=function(t,e){return void 0===e&&(e=40),a(this,void 0,void 0,(function(){var n,r,i,o,a,c,u,l,f,h;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return n=s.sent(),a=t.getContext("2d"),i=t.width,o=t.height,a=null==a?void 0:a.getImageData(0,0,i,o),null!=(r=new J(n))&&r.setNativeImage(null==a?void 0:a.data,i,o),a=this.fromCanvas,i=a.width,o=a.height,a=Math.max(i,o),c=Math.min(i,o,400),e=e*a/c,a=this.fromCanvas.getContext("2d"),c=null==a?void 0:a.getImageData(0,0,i,o),(a=new J(n)).setNativeImage(null==c?void 0:c.data,i,o),[4,this.getManager()];case 2:return c=s.sent(),(u=new Pt(n)).blurMask(a.getNativeImage(),i,o,e,r.getNativeImage()),c.setSrcImage(a.getNativeImage(),i,o),c.processRender(!0),l=x(i,o),h=l.getContext("2d"),(f=null==h?void 0:h.createImageData(i,o))&&(f.data.set(r.getImageData()),null!=h)&&h.putImageData(f,0,0),[4,this.getGLResult()];case 3:return h=s.sent(),r.destroy(),a.destroy(),u.destroy(),this.destroy(),[2,{result:h,canvasMask:l}]}}))}))},Ft.prototype.newMaskBlur=function(t,e){return void 0===e&&(e=40),a(this,void 0,void 0,(function(){var n,r,i,o,a,c,u,l;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return a=s.sent(),i=t.getContext("2d"),l=t.width,r=t.height,i=null==i?void 0:i.getImageData(0,0,l,r),null!=(n=new J(a))&&n.setNativeImage(null==i?void 0:i.data,l,r),i=this.fromCanvas,l=i.width,r=i.height,i=Math.max(l,r),o=Math.min(l,r,400),e=e*i/o,i=this.fromCanvas.getContext("2d"),o=null==i?void 0:i.getImageData(0,0,l,r),(i=new J(a)).setNativeImage(null==o?void 0:o.data,l,r),(o=new Pt(a)).blurMask(i.getNativeImage(),l,r,e,n.getNativeImage()),a=x(l,r),c=a.getContext("2d"),(u=null==c?void 0:c.createImageData(l,r))&&(u.data.set(n.getImageData()),null!=c)&&c.putImageData(u,0,0),c=x(l,r),u=c.getContext("2d"),(l=null==u?void 0:u.createImageData(l,r))&&(l.data.set(i.getImageData()),null!=u)&&u.putImageData(l,0,0),n.destroy(),i.destroy(),o.destroy(),this.destroy(),[2,{resutlCanvas:c,canvasMask:a}]}}))}))};var Nt,Dt,Bt=new Ft,Ut=(i(zt,Nt=V),zt.prototype.destroy=function(){this._instanceId&&Nt.prototype.destroy.call(this)},zt.prototype.checkConfigPlist=function(t){t=p(this._wasmModule,t);var e=this._wasmModule._MTIKTextFilter_CheckConfigPlist(this._instanceId,t);return y(this._wasmModule,t),e},zt.prototype.loadConfigPlist=function(t){t=p(this._wasmModule,t),this._wasmModule._MTIKTextFilter_Only4ParsePlist(this._instanceId,t),y(this._wasmModule,t)},zt.prototype.setMaterialPath=function(t,e){t=p(this._wasmModule,t),e=p(this._wasmModule,e),this._wasmModule._MTIKTextFilter_SetMaterialPath(this._instanceId,t,e),y(this._wasmModule,t),y(this._wasmModule,e)},zt.prototype.getBinaryImage=function(t,e,n,r){return void 0===r&&(r=-1),null!=(t=null==t?new J(this._wasmModule):t)&&t.destroy(),null!=t&&t.setNativeImage(null,e,n),this.getResultImage(null==t?void 0:t.getNativeImage(),r,!1)},zt.prototype.getKnockoutBinaryImage=function(t,e,n,r){return void 0===r&&(r=-1),null!=(t=null==t?new J(this._wasmModule):t)&&t.destroy(),null!=t&&t.setNativeImage(null,e,n),this.getResultBitmapLimit4Knockout(null==t?void 0:t.getNativeImage(),r)},zt.prototype.testButton=function(){for(var t=this.getLayerTextsCount(),e=0;e<t;++e)this.getTextActualSize(N.INDEX,e)},zt.prototype.getSelectedTextIndex=function(){return this._wasmModule._MTIKTextFilter_GetCurSelectTextIndex(this._instanceId)},zt.prototype.getTextInteractionStruts=function(t,e){var n=new Array;switch(t){case N.CURRENT:e=this.getSelectedTextIndex(),t=N.INDEX;break;case N.INDEX:if(e<0||e>this.getLayerTextsCount())return n;break;case N.ALL:for(var r=this.getLayerTextsCount(),i=0;i<r;i++){var o=this.getTextInteractionStruts(N.INDEX,i);if(null==o||1!=o.length){n=[];break}n=n.concat(o)}return n}var a=new P;return a.mTextIndex=e,a.mTextEnum=this.getTextEnum(t,e),a.mTextRect=this.getTextRectOnLayer(t,e),a.mTextString=this.getTextString(t,e),a.mInputFlag=this.getInputFlag(e),a.mTextFont=this.getTextFont(t,e),a.mTextSize=this.getTextSize(t,e),a.mTextORgba=this.getTextORGBA(t,e),a.mTextORgbaIsWork=this.getTextORGBAIsWork(t,e),a.mStrokeConfig=this.getTextStroke(t,e),a.mShadowConfig=this.getTextShadow(t,e),a.mBgConfig=this.getTextBackground(t,e),a.mGlowConfig=this.getTextGlow(t,e),a.mBold=this.getTextBold(t,e),a.mItalic=this.getTextItalic(t,e),a.mUnderline=this.getTextUnderline(t,e),a.mStrikeThrough=this.getTextStrikeThrough(t,e),a.mJustify=this.getTextJustify(t,e),a.mHorizontal=this.getTextHorizontal(t,e),a.mLeftToRight=this.getTextLeftToRight(t,e),a.mWrap=this.getTextWrap(t,e),a.mShrink=this.getTextShrink(t,e),a.mSpacing=this.getTextSpacing(t,e),a.mLineSpacing=this.getTextLineSpacing(t,e),a.mEditableConfig=this.getTextEditableConfig(e),n.push(a),n},zt.prototype.getTextEnum=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextEnum(this._instanceId,t)},zt.prototype.getInputFlag=function(t){return(t=this._wasmModule._MTIKTextFilter_GetInputFlag(this._instanceId,t))||""},zt.prototype.getLayerTextsCount=function(){return this._wasmModule._MTIKTextFilter_GetLayerTextsCount(this._instanceId)},zt.prototype.getTextBorderOnTex=function(t){t=this._wasmModule._MTIKTextFilter_GetTextBorder(this._instanceId,t);var e=m(this._wasmModule,t,8);e=this.calculateRect(e);return y(this._wasmModule,t),e},zt.prototype.getTextRectOnLayer=function(t,e){return t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_GetTextRect(this._instanceId,t),t=m(this._wasmModule,e,4),t=new B(t[0],t[1],t[2],t[3]),y(this._wasmModule,e),t},zt.prototype.getDefaultSizeRect=function(){var t=this._wasmModule._MTIKTextFilter_DefaultSizeRect(this._instanceId),e=m(this._wasmModule,t,4);e=new B(e[0],e[1],e[2],e[3]);return y(this._wasmModule,t),e},zt.prototype.getFinalSizeRect=function(){var t=this._wasmModule._MTIKTextFilter_FinalRect(this._instanceId),e=m(this._wasmModule,t,4);e=new B(e[0],e[1],e[2],e[3]);return y(this._wasmModule,t),e},zt.prototype.getTextString=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextString(this._instanceId,t)},zt.prototype.setTextString=function(t,e,n,r){return void 0===r&&(r=!1),t=this.convertIndexDependType(t,e,!1),e=p(this._wasmModule,n),t=this._wasmModule._MTIKTextFilter_SetTextString(this._instanceId,t,e,n.length),y(this._wasmModule,e),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp),t},zt.prototype.getTextFont=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextFont(this._instanceId,t)},zt.prototype.setTextFont=function(t,e,n,r){return void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),e=p(this._wasmModule,n),n=this._wasmModule._MTIKTextFilter_SetTextFont(this._instanceId,t,e),y(this._wasmModule,e),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp),n},zt.prototype.getRenderMode=function(t){return this._wasmModule._MTIKTextFilter_GetRenderMode(this._instanceId,t)},zt.prototype.getTextSize=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextSize(this._instanceId,t)},zt.prototype.getTextActualSize=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextActualSize(this._instanceId,t)},zt.prototype.setTextSize=function(t,e,n,r,i){return void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_SetTextSize(this._instanceId,t,n),i&&this.renderAndCallback(r),e},zt.prototype.getTextORGBA=function(t,e){return t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_GetTextORGBA(this._instanceId,t),t=m(this._wasmModule,e,5),t=new U(t[0],t[1],t[2],t[3],t[4]),y(this._wasmModule,e),t},zt.prototype.setTextORGBA=function(t,e,n,r,i){return void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e,!1),e=this._wasmModule._MTIKTextFilter_SetTextORGBA(this._instanceId,t,n.o,n.r,n.g,n.b,n.a),i&&this.renderAndCallback(r),e},zt.prototype.getTextEditableConfig=function(t){t=this._wasmModule._MTIKTextFilter_GetTextEditableConfig(this._instanceId,t);var e=v(this._wasmModule,t,4);e=new z(Boolean(e[0]),Boolean(e[1]),Boolean(e[2]),Boolean(e[3]),Boolean(e[4]),Boolean(e[5]));return y(this._wasmModule,t),e},zt.prototype.getTextORGBAIsWork=function(t,e){return this.convertIndexDependType(t,e),!0},zt.prototype.setTextORGBAIsWork=function(t,e,n,r){return void 0===r&&(r=!1),this.convertIndexDependType(t,e),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp),!0},zt.prototype.getTextStroke=function(t,e){t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_IsTextStrokeEditable(this._instanceId,t);var n=this._wasmModule._MTIKTextFilter_IsEnableTextStroke(this._instanceId,t),r=this._wasmModule._MTIKTextFilter_GetTextStrokeRGBA(this._instanceId,t);r=m(this._wasmModule,r,4),t=this._wasmModule._MTIKTextFilter_GetTextStrokeSize(this._instanceId,t),n=new K(n,e,r[0],r[1],r[2],r[3],t);return y(this._wasmModule,r),n},zt.prototype.setTextStroke=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),r=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextStroke(this._instanceId,r,n.enable),this._wasmModule._MTIKTextFilter_SetTextStrokeRGBA(this._instanceId,r,n.r,n.g,n.b,n.a),this._wasmModule._MTIKTextFilter_SetTextStrokeSize(this._instanceId,r,n.size),i&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextBackground=function(t,e){t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_IsEnableTextBackgroundColor(this._instanceId,t);var n=this._wasmModule._MTIKTextFilter_IsTextBackgroundEditable(this._instanceId,t),r=this._wasmModule._MTIKTextFilter_GetTextBackgroundColorRGBA(this._instanceId,t),i=m(this._wasmModule,r,4),o=this._wasmModule._MTIKTextFilter_GetTextBackgroundColorMargin(this._instanceId,t),a=this._wasmModule._MTIKTextFilter_GetTextBackgroundColorMarginExtend(this._instanceId,t),s=m(this._wasmModule,a,4);t=this._wasmModule._MTIKTextFilter_GetTextBackgroundColorRoundWeight(this._instanceId,t),e=new W(e,n,i[0],i[1],i[2],i[3],o,[s[0],s[1],s[2],s[3]],t);return y(this._wasmModule,r),y(this._wasmModule,a),e},zt.prototype.setTextBackground=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1);var o,a;t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextBackgroundColor(this._instanceId,t,n.enable),this._wasmModule._MTIKTextFilter_SetTextBackgroundColorRGBA(this._instanceId,t,n.r,n.g,n.b,n.a),this._wasmModule._MTIKTextFilter_SetTextBackgroundColorMargin(this._instanceId,t,n.margin),e=this._wasmModule,o=[n.marginExtendLeft,n.marginExtendRight,n.marginExtendTop,n.marginExtendBottom],o=new Float32Array(o),a=e._malloc(o.length*o.BYTES_PER_ELEMENT),e.HEAPF32.set(o,a>>2),e=a;this._wasmModule._MTIKTextFilter_SetTextBackgroundColorMarginExtends(this._instanceId,t,e),this._wasmModule._free(e),this._wasmModule._MTIKTextFilter_SetTextBackgroundColorRoundWeight(this._instanceId,t,n.roundWeight),i&&this.renderAndCallback(r)},zt.prototype.getTextShadow=function(t,e){t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_IsEnableTextShadow(this._instanceId,t);var n=this._wasmModule._MTIKTextFilter_IsTextShadowEditable(this._instanceId,t),r=this._wasmModule._MTIKTextFilter_GetTextShadowRGBA(this._instanceId,t),i=this._wasmModule._MTIKTextFilter_GetTextShadowOffset(this._instanceId,t),o=m(this._wasmModule,r,4),a=m(this._wasmModule,i,2);t=this._wasmModule._MTIKTextFilter_GetTextShadowBlur(this._instanceId,t),e=new G(e,n,o[0],o[1],o[2],o[3],a[0],a[1],t);return y(this._wasmModule,r),y(this._wasmModule,i),e},zt.prototype.setTextShadow=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextShadow(this._instanceId,t,n.enable),this._wasmModule._MTIKTextFilter_SetTextShadowRGBA(this._instanceId,t,n.r,n.g,n.b,n.a),this._wasmModule._MTIKTextFilter_SetTextShadowOffset(this._instanceId,t,n.offset_x,n.offset_y),this._wasmModule._MTIKTextFilter_SetTextShadowBlur(this._instanceId,t,n.blur),i&&this.renderAndCallback(r)},zt.prototype.getTextGlow=function(t,e){t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_IsEnableTextGlow(this._instanceId,t);var n=this._wasmModule._MTIKTextFilter_IsTextGlowEditable(this._instanceId,t),r=this._wasmModule._MTIKTextFilter_GetTextGlowRGBA(this._instanceId,t),i=m(this._wasmModule,r,4),o=this._wasmModule._MTIKTextFilter_GetTextGlowBlur(this._instanceId,t);t=this._wasmModule._MTIKTextFilter_GetTextGlowStrokeWidth(this._instanceId,t),e=new H(e,n,i[0],i[1],i[2],i[3],o,t);return y(this._wasmModule,r),e},zt.prototype.setTextGlow=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextGlow(this._instanceId,t,n.enable),this._wasmModule._MTIKTextFilter_SetTextGlowRGBA(this._instanceId,t,n.r,n.g,n.b,n.a),this._wasmModule._MTIKTextFilter_SetTextGlowBlur(this._instanceId,t,n.blur),this._wasmModule._MTIKTextFilter_SetTextGlowStrokeWidth(this._instanceId,t,n.strokeWidth),i&&this.renderAndCallback(r)},zt.prototype.getTextBold=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_IsEnableTextBold(this._instanceId,t)},zt.prototype.setTextBold=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextBold(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextItalic=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_IsEnableTextItalic(this._instanceId,t)},zt.prototype.setTextItalic=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextItalic(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextUnderline=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_IsEnableTextUnderline(this._instanceId,t)},zt.prototype.setTextUnderline=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextUnderline(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextStrikeThrough=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_IsEnableTextStrikeThrough(this._instanceId,t)},zt.prototype.setTextStrikeThrough=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextStrikeThrough(this._instanceId,t,n),i&&this.renderAndCallback(r)},zt.prototype.getTextJustify=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextJustify(this._instanceId,t)},zt.prototype.setTextJustify=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextJustify(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextHorizontal=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextHorizontal(this._instanceId,t)},zt.prototype.setTextHorizontal=function(t,e,n,r){return void 0===r&&(r=!1),r=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextHorizontal(this._instanceId,r,n)},zt.prototype.getTextLeftToRight=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextLeftToRight(this._instanceId,t)},zt.prototype.setTextLeftToRight=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextLeftToRight(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextWrap=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextWrap(this._instanceId,t)},zt.prototype.setTextWrap=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextWrap(this._instanceId,t,n),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextShrink=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextShrink(this._instanceId,t)},zt.prototype.setTextShrink=function(t,e,n,r){void 0===r&&(r=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextShrink(this._instanceId,t,!1),r&&this.renderAndCallback(xt.MTIKOutTouchTypeUp)},zt.prototype.getTextSpacing=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextSpacing(this._instanceId,t)},zt.prototype.setTextSpacing=function(t,e,n,r,i){void 0===r&&(r=xt.MTIKOutTouchTypeUp),void 0===i&&(i=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextSpacing(this._instanceId,t,n),i&&this.renderAndCallback(r)},zt.prototype.getTextLineSpacing=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextLineSpacing(this._instanceId,t)},zt.prototype.setTextLineSpacing=function(t,e,n,r,i,o){void 0===i&&(i=xt.MTIKOutTouchTypeUp),void 0===o&&(o=!1),t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_SetTextLineSpacing(this._instanceId,t,n),o&&this.renderAndCallback(i)},zt.prototype.getTextPinyin=function(t,e){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetTextPinyin(this._instanceId,t)},zt.prototype.getClickPadding=function(){var t=this._wasmModule._MTIKTextFilter_GetClickPadding(this._instanceId);t=m(this._wasmModule,t,4);return{left:Math.abs(t[0]),top:Math.abs(t[1]),right:Math.abs(t[2]),bottom:Math.abs(t[3])}},zt.prototype.renderAndCallback=function(t){},zt.prototype.convertIndexDependType=function(t,e,n){switch(void 0===n&&(n=!1),t){case N.ALL:e=-1,n&&(e=0);break;case N.INDEX:(e<0||e>=this.getLayerTextsCount())&&(e=0);break;case N.CURRENT:e=this.getSelectedTextIndex()}return e},zt.prototype.findEnumWithValue=function(t){F.ALIGN_LEFT;for(var e=0;e<F.ALIGN_NUM.valueOf()&&t!==F.ALIGN_NUM.valueOf();e++);return t},zt.prototype.getFallbackFontLibraries=function(t,e){return t=this.convertIndexDependType(t,e),e=this._wasmModule._MTIKTextFilter_GetFallbackFontLibraries(this._instanceId,t),JSON.parse(e)},zt.prototype.setFallbackFontLibraries=function(t,e,n){return t=this.convertIndexDependType(t,e),e=p(this._wasmModule,JSON.stringify(n)),n=this._wasmModule._MTIKTextFilter_SetFallbackFontLibraries(this._instanceId,t,e),y(this._wasmModule,e),n},zt.prototype.getMissGlyphText=function(t,e,n){return t=this.convertIndexDependType(t,e),this._wasmModule._MTIKTextFilter_GetMissGlyphText(this._instanceId,t)},zt.prototype.setDefaultFallbackFontLibraries=function(t){t=p(this._wasmModule,JSON.stringify(t));var e=this._wasmModule._MTIKTextFilter_SetDefaultFallbackFontLibraries(this._instanceId,t);return y(this._wasmModule,t),e},zt.prototype.getResultBitmapLimit4Knockout=function(t,e){var n=g(this._wasmModule);e={width:(t=(this._wasmModule._MTIKTextFilter_GetResultBitmapLimit4Knockout(this._instanceId,t,n,e),v(this._wasmModule,n,2)))[0],height:t[1]};return this._wasmModule._free(n),e},zt.prototype.setKnockoutBg=function(t){t=p(this._wasmModule,t);var e=this._wasmModule._MTIKTextFilter_SetKnockoutBg(this._instanceId,t);return y(this._wasmModule,t),e},zt.prototype.clearKnockoutBg=function(t){this._wasmModule._MTIKTextFilter_ClearKnockoutBg(this._instanceId)},zt.prototype.getKnockoutBgPath=function(){return this._wasmModule._MTIKTextFilter_GetKnockoutBgPath(this._instanceId)},zt);function zt(t,e){return void 0===e&&(e=0),(t=Nt.call(this,t)||this)._instanceId=0==e?t._wasmModule._MTIKTextFilter_Create():e,t}function Kt(t){return{r:+(t=(t=(t=(t=null!=t&&t.includes("#")?qt()(t):t).replace(/rgba\(/g,"")).replace(/\)/g,"")).split(","))[0],g:+t[1],b:+t[2],a:100*+t[3]}}function Gt(t,e){var n=0;if(t===Vt.HORIZONTAL_TB)switch(e){case Ht.LEFT:n=1;break;case Ht.CENTER:n=2;break;case Ht.RIGHT:n=4;case Ht.JUSTIFY:}else if(t===Vt.VERTICAL_RL)switch(e){case Ht.LEFT:n=16;break;case Ht.CENTER:n=32;break;case Ht.RIGHT:n=64;case Ht.JUSTIFY:}return n}(_e=Dt=Dt||{})[_e.kDirectoryBuiltIn=0]="kDirectoryBuiltIn",_e[_e.kDirectoryFont=1]="kDirectoryFont",_e[_e.kDirectoryEffectCoreBundle=2]="kDirectoryEffectCoreBundle",_e[_e.kDirectoryCache=3]="kDirectoryCache";e=n("./node_modules/hex-to-rgba/build/index.js");var Wt,Ht,Vt,Yt,Xt,Zt,qt=n.n(e);function Jt(){var t=null!==Zt&&Zt.apply(this,arguments)||this;return t._arResID="",t._arResPath="/assets/text/ar_res.zip",t._arPublicParamsPath="https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/hbpArPublicParams.zip",t._alibabaFontPathZip="https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/fonts/Alibaba-PuHuiTi-Regular.zip",t._systemFontPath="AlibabaPuHuiTi-Regular/Alibaba-PuHuiTi-Regular.ttf",t._alibabaFont="AlibabaPuHuiTi-Regular",t._fontZipCache={},t._fontLibraries=["AlibabaPuHuiTi-Regular"],t}(_e=Wt=Wt||{})[_e.Level0=0]="Level0",_e[_e.Level1=1]="Level1",_e[_e.Level2=2]="Level2",_e[_e.Level3=3]="Level3",_e[_e.Level4=4]="Level4",_e[_e.Level5=5]="Level5",(n=Ht=Ht||{}).LEFT="left",n.CENTER="center",n.RIGHT="right",n.JUSTIFY="justify",(e=Vt=Vt||{}).HORIZONTAL_TB="horizontal-tb",e.VERTICAL_LR="vertical-lr",e.VERTICAL_RL="vertical-rl",(_e=Yt=Yt||{})[_e.WITHOUT=0]="WITHOUT",_e[_e.CENTER=1]="CENTER",(n=Xt=Xt||{}).RESIZE="resize",n.SCALE="scale",i(Jt,Zt=ot),Jt.prototype.apply=function(t,e,n,r,i,o,c){var u;return void 0===r&&(r=""),void 0===i&&(i="/assets/text/ar_res.zip"),void 0===c&&(c=!1),a(this,void 0,void 0,(function(){var a,l,f,h,d,p,y,m;return s(this,(function(s){switch(s.label){case 0:return this._arResID=r,this._arResPath=i,this._fontLibraries=null!=o&&o.length?o:this._fontLibraries,[4,this.getWasm()];case 1:return a=s.sent(),f=this.fromCanvas,l=f.width,f=f.height,h=null==(h=this.fromCanvas.getContext("2d"))?void 0:h.getImageData(0,0,l,f),[4,C.loadZip(t,e)];case 2:return s.sent(),(d=new J(a)).setNativeImage(null==h?void 0:h.data,l,f),p=new Ut(a),null!=(u=this._textFilter)&&u.destroy(),(this._textFilter=p).setMaterialPath(n,""),[4,C.loadZip(this._arResID,this._arResPath)];case 3:return s.sent(),[4,this.getManager()];case 4:return(y=s.sent()).removeAllFilter(),y.setARDirectory(this._arResID,Dt.kDirectoryBuiltIn),y.setSrcImage(d.getNativeImage(),l,f),c&&(m=C.getDisplayView(),C.setGLSize(l,f),m)&&y.setDisplayView(m,!0),y.setResPath(""),y.addFilter(p),y.setSelectFilter(p),[4,this.registerFont()];case 5:return s.sent(),p.setDefaultFallbackFontLibraries(this._fontLibraries),y.processRender(!0),d.destroy(),[2,!0]}}))}))},Jt.prototype.initTextFilter=function(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return this._textFilter=t,[2]}))}))},Jt.prototype.registerFont=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return[4,this.getManager()];case 1:return n=s.sent(),r=t||this._alibabaFont,i=e||this._alibabaFontPathZip,[4,C.loadZip(r,i)];case 2:return i=s.sent(),o=this._systemFontPath,"[object Array]"===Object.prototype.toString.call(i)&&i.length?(a=i.filter((function(t){return 2===t.split("/").length&&t.split("/")[0]===r||1===t.split("/").length})),this._fontZipCache[r]=a[0],o=a[0]):this._fontZipCache[r]&&(o=this._fontZipCache[r]),null!=n&&n.registerARFont(r,o),c.debug&&(null!=n&&n.registerARFont("AlibabaPuHuiTi-Regular",o),null!=n&&n.registerARFont("CooperBT-Black",o),null!=n&&n.registerARFont("AaLFT",o),null!=n&&n.registerARFont("NewYork",o),this._textFilter.setDefaultFallbackFontLibraries(["AlibabaPuHuiTi-Regular"])),[2]}}))}))},Jt.prototype.registerArPublic=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return t=e.sent(),[4,C.loadZip("hbpArPublicParams",this._arPublicParamsPath)];case 2:return e.sent(),t.setArPublicParamsPlist("hbpArPublicParams.plist"),[2]}}))}))},Jt.prototype.createFileFormCanvas=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a,c;return s(this,(function(s){switch(s.label){case 0:if(C.isLoaded(e))return[3,2];for(o=t.toDataURL("image/png",1),n=atob(o.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return[4,this.getWasm()];case 1:if(o=s.sent(),(a=e.lastIndexOf("/"))!==e.length-1)try{c=e.substring(0,a),o.FS_createPath("/",c,!0,!0),o.FS_createDataFile(e,null,r,!0,!0,!0)}catch(s){}C.setZipRes(e),s.label=2;case 2:return[2]}}))}))},Jt.prototype.setKnockoutBg=function(t,e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.fromCanvas?[4,this.getManager()]:[3,3];case 1:return t=n.sent(),[4,this.createFileFormCanvas(this.fromCanvas,e)];case 2:n.sent(),this._textFilter.setKnockoutBg(e),t.processRender(!0),n.label=3;case 3:return[2]}}))}))},Jt.prototype.getResultImage=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=-1),a(this,void 0,void 0,(function(){var n,r,i,o,a,c,u;return s(this,(function(s){switch(s.label){case 0:return t&&this.fromCanvas?(r=this.fromCanvas,n=r.width,r=r.height,[4,this.getWasm()]):[3,2];case 1:return i=s.sent(),i=new J(i),o=this._textFilter.getBinaryImage(i,n,r,e),a=x(o.width,o.height),(c=a.getContext("2d"))&&((u=c.createImageData(o.width,o.height)).data.set(i.getImageData(o.width*o.height*4)),c.putImageData(u,0,0)),i.destroy(),[2,{canvas:a,width:n,height:r}];case 2:return[2,{width:0,height:0}]}}))}))},Jt.prototype.getKnockoutResultImage=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=-1),a(this,void 0,void 0,(function(){var n,r,i,o,a,c,u;return s(this,(function(s){switch(s.label){case 0:return t&&this.fromCanvas?(r=this.fromCanvas,n=r.width,r=r.height,[4,this.getWasm()]):[3,2];case 1:return i=s.sent(),i=new J(i),o=this._textFilter.getKnockoutBinaryImage(i,n,r,e),a=x(o.width,o.height),(c=a.getContext("2d"))&&((u=c.createImageData(o.width,o.height)).data.set(i.getImageData(o.width*o.height*4)),c.putImageData(u,0,0)),i.destroy(),[2,{canvas:a,width:n,height:r}];case 2:return[2,{width:0,height:0}]}}))}))},Jt.prototype.testButton=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return t=e.sent(),this._textFilter.testButton(),t.processRender(!0),[2]}}))}))},Jt.prototype.destroy=function(){this._textFilter&&this._textFilter.destroy()},Jt.prototype.changeAttr=function(t,e,n){switch(t){case 1:this._textFilter.setTextBold(N.INDEX,n||0,e);break;case 2:this._textFilter.setTextUnderline(N.INDEX,n||0,e);break;case 3:this._textFilter.setTextItalic(N.INDEX,n||0,e);break;case 4:this._textFilter.setTextStrikeThrough(N.INDEX,n||0,e);break;case 5:this._textFilter.setTextWrap(N.INDEX,n||0,e);break;case 6:this._textFilter.setTextShrink(N.INDEX,n||0,e);break;case 7:this._textFilter.setTextHorizontal(N.INDEX,n||0,e)}},Jt.prototype.changeText=function(t,e){this._textFilter.setTextString(N.INDEX,e||0,t)},Jt.prototype.setTextColor=function(t,e,n,r,i){this._textFilter.setTextORGBA(N.INDEX,i||0,new U(1,t/255,e/255,n/255,r/100)),this._textFilter.setTextORGBAIsWork(N.INDEX,i||0,!0)},Jt.prototype.setTextStroke=function(t,e,n,r,i,o){this._textFilter.setTextStroke(N.INDEX,o||0,new K(!0,!0,t/255,e/255,n/255,r/100,i))},Jt.prototype.setTextBackground=function(t,e,n,r,i){return a(this,void 0,void 0,(function(){return s(this,(function(o){return this._textFilter.setTextBackground(N.INDEX,i||0,new W(!0,!0,t/255,e/255,n/255,r/100)),[2]}))}))},Jt.prototype.setTextShadow=function(t,e,n,r,i,o,a,s){this._textFilter.setTextShadow(N.INDEX,s||0,new G(!0,!0,t/255,e/255,n/255,r/100,o,a,i))},Jt.prototype.setTextGlow=function(t,e,n,r,i,o,a){this._textFilter.setTextGlow(N.INDEX,a||0,new H(!0,!0,t/255,e/255,n/255,r/100,i,o))},Jt.prototype.setTextJustify=function(t,e){this._textFilter.setTextJustify(N.INDEX,e||0,t)},Jt.prototype.setTextSize=function(t,e){this._textFilter.setTextSize(N.INDEX,e||0,t)},Jt.prototype.setWidthRation=function(t){this._textFilter.setLocateStatusWithViewOperate({mWidthRatio:t},M.CMTIKExternalOperatorTypeDoubleScale)},Jt.prototype.setTextLineSpacing=function(t,e){this._textFilter.setTextLineSpacing(N.INDEX,e||0,t,0)},Jt.prototype.setTextSpacing=function(t,e){this._textFilter.setTextSpacing(N.INDEX,e||0,t)},Jt.prototype.setTextFont=function(t,e){return e=this._textFilter.setTextFont(N.INDEX,e||0,t),this._textFilter.setDefaultFallbackFontLibraries(this._fontLibraries),e},Jt.prototype.getTextFont=function(t){return this._textFilter.getTextFont(N.INDEX,t||0)},Jt.prototype.setLocateStatus=function(t){this._textFilter.setLocateStatus(t)},Jt.prototype.updateTextLayerAttr=function(t,e,n,r,i){var o,a=void 0===(a=t.textIndex)?0:a,s=t.text,c=t.fontSize,u=t.fontFamily,l=t.color,f=t.bold,h=t.underline,d=t.italic,p=t.lineThrough,y=t.textAlign,m=t.writingMode,g=t.lineSpacing,v=t.letterSpacing,b=t.textShadow,w=t.textGlow,_=t.textStroke;t=t.textBackground,l=Kt(l),this.changeAttr(7,m===Vt.HORIZONTAL_TB,a),e=m===Vt.HORIZONTAL_TB?+(e/r).toFixed(4):+(n/r).toFixed(4);this.setWidthRation(e),i||this.setTextSize(c,a),this.changeText(s,a),this.setTextFont(u,a),this.setTextColor(l.r,l.g,l.b,l.a,a),this.changeAttr(1,f,a),this.changeAttr(2,h,a),this.changeAttr(3,d,a),this.changeAttr(4,p,a),Gt(m,y)&&this.setTextJustify(Gt(m,y),a),this.setTextLineSpacing(g,a),this.setTextSpacing(v,a),_&&(r=Kt((n=_[0]||{color:"#ffffff",width:0,hidden:!0}).color),this.setTextStroke(r.r,r.g,r.b,n.hidden?0:r.a,n.width,a)),w&&(o=Kt((e=w[0]||{color:"#ffffff",width:0,hidden:!0}).color),this.setTextGlow(o.r,o.g,o.b,e.hidden?0:o.a,e.blur,e.width,a)),b&&(c=Kt((i=b[0]||{color:"#ffffff",x:0,y:0,blur:0,hidden:!0}).color),this.setTextShadow(c.r,c.g,c.b,i.hidden?0:c.a,i.blur,i.x,i.y,a)),t&&(o=Kt((s=t[0]||{color:"#ffffff",hidden:!0}).color),this.setTextBackground(o.r,o.g,o.b,s.hidden?0:o.a,a))},Jt.prototype.getTextInteractionStruts=function(t){return this._textFilter.getTextInteractionStruts(N.INDEX,t)[0]},Jt.prototype.getTextActualSize=function(t){return this._textFilter.getTextActualSize(N.INDEX,t)||0},Jt.prototype.getTextsInfo=function(){return a(this,void 0,void 0,(function(){var t,e,n,r,i,a,c,u,l,f,h,d,p;return s(this,(function(s){for(i=this._textFilter.getLayerBorder(),t=this._textFilter.getLayerTextsCount(),e=+Math.floor(i.left+.5),n=+Math.floor(i.top+.5),r=+Math.floor(i.right+.5),i=+Math.floor(i.bottom+.5),r=Math.abs(r-e),i=Math.abs(i-n),a=[],c=0;c<t;c++)h=this._textFilter.getTextBorderOnTex(c),u=this._textFilter.getTextInteractionStruts(N.INDEX,c)[0],l=this.getTextActualSize(c),d=+Math.floor(h.left+.5),f=+Math.floor(h.right+.5),p=+Math.floor(h.top+.5),h=+Math.floor(h.bottom+.5),f=Math.abs(f-d),h=Math.abs(p-h),d=Math.abs(e-d),p=Math.abs(n-p),a.push({width:f,height:h,x:d,y:p,info:Object.assign({},u,{mTextRect:o(o({},u.mTextRect),{width:Math.abs(Math.floor(u.mTextRect.right+.5)-Math.floor(u.mTextRect.left+.5)),height:Math.abs(Math.floor(u.mTextRect.bottom+.5)-Math.floor(u.mTextRect.top+.5))}),mTextSize:l})});return[2,{layer:{width:r,height:i},textLayers:a}]}))}))},Jt.prototype.processRender=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.getManager()];case 1:return t.sent().processRender(!0),[2]}}))}))},Jt.prototype.getCurrentTextFilter=function(){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this._textFilter]}))}))},Jt.prototype.destroyAllFilter=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return(t=e.sent()).destroyAllFilter(),this._textFilter&&this._textFilter.destroy(),t.processRender(!0),[2]}}))}))};var Qt,$t=new Jt,te=(i(ee,Qt=V),ee.prototype.destroy=function(){this._instanceId&&Qt.prototype.destroy.call(this)},ee.prototype.loadConfigPath=function(t){t=p(this._wasmModule,t),this._wasmModule._MTIKComplexFilter_LoadConfigPath(this._instanceId,t),y(this._wasmModule,t)},ee.prototype.setTotalEffectAlpha=function(t){this._wasmModule._MTIKComplexFilter_SetTotalEffectAlpha(this._instanceId,t)},ee.prototype.getTotalEffectAlpha=function(){return this._wasmModule._MTIKComplexFilter_GetTotalEffectAlpha(this._instanceId)},ee.prototype.getComplexFilterConfigArray=function(){var t=this._wasmModule._MTIKTextFilter_GetComplexFilterConfigArray(this._instanceId);return JSON.parse(t)},ee.prototype.setComplexFilterConfigArray=function(t){t=p(this._wasmModule,JSON.stringify(t));var e=this._wasmModule._MTIKTextFilter_SetComplexFilterConfigArray(this._instanceId,t);return y(this._wasmModule,t),e},ee.prototype.setEnableTotalControl=function(t){this._wasmModule._MTIKComplexFilter_SetEnableTotalControl(this._instanceId,t)},ee.prototype.getEnableTotalControl=function(){return this._wasmModule._MTIKComplexFilter_GetEnableTotalControl(this._instanceId)},ee.prototype.updateComplexEffect=function(){return this._wasmModule._MTIKComplexFilter_UpdateComplexEffect(this._instanceId)},ee.polarCoordinates2EulerCoordinates=function(t,e){return{x:Math.cos(e*Math.PI/180)*t,y:-Math.sin(e*Math.PI/180)*t}},ee);function ee(t){return(t=Qt.call(this,t)||this)._instanceId=t._wasmModule._MTIKComplexFilter_Create(),t}var ne,re="configuration.plist",ie="/assets/SmearRes.zip";function oe(){return null!==ne&&ne.apply(this,arguments)||this}i(oe,ne=ot),oe.prototype.destroy=function(){this.baseDestroy(),this._complexFilter&&this._complexFilter.destroy(),this._complexFilter=null},oe.prototype.apply=function(t,e,n,r,i){return void 0===r&&(r=re),void 0===i&&(i=ie),a(this,void 0,void 0,(function(){var n,o,a,c,u,l,f;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return n=s.sent(),a=this.fromCanvas,o=a.width,a=a.height,c=null==(c=this.fromCanvas.getContext("2d"))?void 0:c.getImageData(0,0,o,a),[4,C.loadZip(t,e)];case 2:return s.sent(),[4,this.proLoadResource(i)];case 3:return s.sent(),(u=new J(n)).setNativeImage(null==c?void 0:c.data,o,a),[4,this.getManager()];case 4:return(l=s.sent()).removeAllFilter(),l.setSrcImage(u.getNativeImage(),o,a),f=C.getDisplayView(),C.setGLSize(o,a),f&&l.setDisplayView(f,!0),l.setResPath(""),this._complexFilter=new te(n),l.addFilter(this._complexFilter),this._complexFilter.setEnableTotalControl(!0),this._complexFilter.loadConfigPath("".concat(t,"/").concat(r)),l.processRender(!0),[4,this.getGLResult()];case 5:return f=s.sent(),u.destroy(),[2,f]}}))}))},oe.prototype.proLoadResource=function(t){return void 0===t&&(t=ie),a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,C.loadZip("",t)];case 1:return e.sent(),[2]}}))}))},oe.prototype.setTotalEffectAlpha=function(t){var e;null!=(e=this._complexFilter)&&e.setTotalEffectAlpha(t)},oe.prototype.setEnableTotalControl=function(t){var e;null!=(e=this._complexFilter)&&e.setEnableTotalControl(t)},oe.prototype.getComplexFilterConfigArray=function(){var t;return null==(t=this._complexFilter)?void 0:t.getComplexFilterConfigArray()},oe.prototype.setComplexFilterConfigArray=function(t){var e;return null==(e=this._complexFilter)?void 0:e.setComplexFilterConfigArray(t)},oe.prototype.polarCoordinates2EulerCoordinates=function(t,e){return te.polarCoordinates2EulerCoordinates(t,e)},oe.prototype.EulerCoordinates2OffsetCoordinates=function(t,e){return{offsetX:t/2+.5,offsetY:e/2+.5}},oe.prototype.initComplexFilter=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!1),a(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return null!=this._complexFilter?[3,3]:[4,this.getWasm()];case 1:return n=r.sent(),this._complexFilter=new te(n),[4,this.getManager()];case 2:return n=r.sent(),e&&n.removeAllFilter(),t&&n.addFilter(this._complexFilter),[3,4];case 3:r.label=4;case 4:return[2]}}))}))},oe.prototype.loadConfigPath=function(t,e,n,r,i,o){var c;return void 0===r&&(r=!0),void 0===i&&(i=re),void 0===o&&(o=ie),a(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,C.loadZip(t,e)];case 1:return n.sent(),[4,this.proLoadResource(o)];case 2:return n.sent(),null!=(c=this._complexFilter)&&c.loadConfigPath("".concat(t,"/").concat(i)),r?[4,this.getManager()]:[3,5];case 3:return n.sent().processRender(!0),[4,this.getGLResult()];case 4:return[2,n.sent()];case 5:return[2,null]}}))}))},oe.prototype.setShow=function(t){var e;return a(this,void 0,void 0,(function(){return s(this,(function(n){return null!=(e=this._complexFilter)&&e.setShow(t),[2]}))}))};var ae,se,ce,ue=new oe,le=(i(fe,ae=V),fe.prototype.initialize=function(t){var e;t=p(this._wasmModule,t);null!=(e=this._wasmModule)&&e._MTIKMagicPen_Initialize(this._instanceId,t),y(this._wasmModule,t)},fe.prototype.setOptions=function(t){this._centerMode=t},fe.prototype.renderFrame=function(t,e,n,r){var i;return null==(i=this._wasmModule)?void 0:i._MTIKMagicPen_RenderFrame(this._instanceId,t,e,n,r)},fe.prototype.onSurfaceChanged=function(t,e){var n;null!=(n=this._wasmModule)&&n._MTIKMagicPen_OnSurfaceChanged(this._instanceId,t,e)},fe.prototype.renderClear=function(t,e,n,r){var i;null!=(i=this._wasmModule)&&i._MTIKMagicPen_RenderClear(this._instanceId,t,e,n,r)},fe.prototype.getFrameLayout=function(t,e){var n;return null==(n=this._wasmModule)?void 0:n._MTIKMagicPen_GetFrameLayout(this._instanceId,this._centerMode,t,e)},fe.prototype.undo=function(){var t;null!=(t=this._wasmModule)&&t._MTIKMagicPen_Undo(this._instanceId)},fe.prototype.canUndo=function(){var t;return null==(t=this._wasmModule)?void 0:t._MTIKMagicPen_CanUndo(this._instanceId)},fe.prototype.redo=function(){var t;return null==(t=this._wasmModule)?void 0:t._MTIKMagicPen_Redo(this._instanceId)},fe.prototype.canRedo=function(){var t;return null==(t=this._wasmModule)?void 0:t._MTIKMagicPen_CanRedo(this._instanceId)},fe.prototype.setDensity=function(t){var e;null!=(e=this._wasmModule)&&e._MTIKMagicPen_SetDensity(this._instanceId,t)},fe.prototype.setPenColor=function(t,e,n,r){var i;null!=(i=this._wasmModule)&&i._MTIKMagicPen_SetPenColor(this._instanceId,t,e,n,r)},fe.prototype.setPenSize=function(t){var e=(null==(e=this._wasmModule)?void 0:e.canvas.width)/parseFloat(null==(e=this._wasmModule)?void 0:e.canvas.style.width);e&&0!=e&&(t*=e),null!=(e=this._wasmModule)&&e._MTIKMagicPen_SetPenSize(this._instanceId,t)},fe.prototype.setPenSizeMode=function(t){var e;null!=(e=this._wasmModule)&&e._MTIKMagicPen_SetPenSizeMode(this._instanceId,t)},fe.prototype.changeMagicPen=function(t,e){e=p(this._wasmModule,e);var n=null==(n=this._wasmModule)?void 0:n._MTIKMagicPen_ChangeMagicPen(this._instanceId,t,e);return y(this._wasmModule,e),n},fe);function fe(t){return(t=ae.call(this,t)||this)._centerMode=0,t._instanceId=t._wasmModule._MTIKMagicPen_CreateInstance(),t._wasmModule._MTIKMagicPen_Initialize(),t}function he(){var t=null!==ce&&ce.apply(this,arguments)||this;return t._penFilter=null,t}(e=se=se||{})[e.PenSizeFixedPixel=0]="PenSizeFixedPixel",e[e.PenSizeFixedScreen=1]="PenSizeFixedScreen",e[e.PenSizeModeNum=2]="PenSizeModeNum",i(he,ce=at),he.prototype.apply=function(t,e,n,r){var i;return void 0===n&&(n=""),void 0===r&&(r=0),a(this,void 0,void 0,(function(){var o,a,c,u,l,f,h;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return o=s.sent(),c=this.fromCanvas,a=c.width,c=c.height,h=null==(h=this.fromCanvas.getContext("2d"))?void 0:h.getImageData(0,0,a,c),(u=new J(o)).setNativeImage(null==h?void 0:h.data,a,c),[4,this.getManager()];case 2:return(l=s.sent()).removeAllFilter(),f=C.getDisplayView(),C.setGLSize(t,e),[4,this.getCurrentPen()];case 3:return(h=s.sent()).initialize(n),h.setOptions(r),h.setPenSizeMode(se.PenSizeFixedPixel),l.setSrcImage(u.getNativeImage(),a,c),l.addFilter(h),f&&l.setDisplayView(f,!0),l.setFEMode(E.MTIK_MODE_MAGICPEN),l.setViewCapability(pt.MTIKViewCapabilityTypeNotifyLongPress,!1),l.setViewCapability(pt.MTIKViewCapabilityTypeBgMoveLimitInSideView,!0),l.setViewCapability(pt.MTIKViewCapabilityTypeBgSignedMove,!1),l.setViewCapability(pt.MTIKViewCapabilityTypeEdgeLimit,!1),l.setViewCapability(pt.MTIKViewCapabilityTypeDoubleClickRestore,!1),null!=f&&f.setViewSelectFilter(h),null!=f&&f.viewDidLayout(t,e),null!=f&&f.setBackgroundColor(123,123,123,255,123,123,123,255),l.processRender(!0),this._listener||(this._listener=new Et(o),null!=(i=this._listener)&&i.onMTIKRenderEvent(this.onMTIKRenderEvent,this),null!=(i=this._listener)&&i.clickUpOnView(this.clickUpOnView,this)),u.destroy(),[2,C.getGLCanvas()]}}))}))},he.prototype.destroy=function(){this._penFilter&&(this._penFilter.destroy(),this._penFilter=null)},he.prototype.changePen=function(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,C.loadMagicZip(t.id,t.zip,t.config)];case 1:return e=r.sent(),[4,this.getCurrentPen()];case 2:return null!=(n=r.sent())&&n.changeMagicPen(t.type,e),null!=n&&n.setPenSize(50),[3,4];case 3:throw r.sent();case 4:return[2,this]}}))}))},he.prototype.getCurrentPen=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._penFilter?[3,2]:[4,this.getWasm()];case 1:t=e.sent(),this._penFilter=new le(t),e.label=2;case 2:return[2,this._penFilter];case 3:throw e.sent();case 4:return[2]}}))}))},he.prototype.changeBackgroundImage=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:if(this.canDo())return[4,this.getWasm()];throw"\u6765\u6e90\u753b\u5e03\u4e0d\u53ef\u4e3a\u7a7a\uff0c\u8bf7\u901a\u8fc7 from \u51fd\u6570\u8bbe\u7f6e";case 1:return e=s.sent(),r=this.fromCanvas,n=r.width,r=r.height,null!=(i=this.fromCanvas.getContext("2d"))&&(i.fillStyle="#FFFFFFFF"),null!=i&&i.fillRect(0,0,n,r),null!=i&&i.drawImage(t,0,0,n,r),i=null==i?void 0:i.getImageData(0,0,n,r),[4,this.getManager()];case 2:return o=s.sent(),(a=new J(e)).setNativeImage(null==i?void 0:i.data,n,r),o.setSrcImage(a.getNativeImage(),n,r),o.processRender(!0),a.destroy(),[2,this]}}))}))},he.prototype.onMTIKRenderEvent=function(t){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return null!=(t=e.sent())&&t.processRender(!0),[2]}}))}))},he.prototype.clickUpOnView=function(t,e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2]}))}))},he.prototype.onMouseScroll=function(t){return a(this,void 0,void 0,(function(){var e,n,r,i;return s(this,(function(o){switch(o.label){case 0:return[4,this.getWasm()];case 1:return e=o.sent(),[4,this.getManager()];case 2:return n=o.sent(),r=C.getDisplayView(),i=null==r?void 0:r.getViewLocateStatus(),i=(i=m(e,i,9))[8],0<t.wheelDelta?i+=.03:i-=.03,(i=2<i?2:i)<.2&&(i=.2),null!=r&&r.setViewLocateStatus(0,0,i),null!=n&&n.processRender(!0),[2]}}))}))};var de,pe,ye=new he,me=(i(ge,de=V),ge.prototype.destroy=function(){this._instanceId&&de.prototype.destroy.call(this)},ge.prototype.setCachePath=function(t){t=p(this._wasmModule,t);var e=this._wasmModule._MTIKMaskSmearFilter_SetCachePath(this._instanceId,t);return y(this._wasmModule,t),e},ge.prototype.canUndo=function(){return this._wasmModule._MTIKMaskSmearFilter_CanUndo(this._instanceId)},ge.prototype.undo=function(){this._wasmModule._MTIKMaskSmearFilter_Undo(this._instanceId)},ge.prototype.canRedo=function(){return this._wasmModule._MTIKMaskSmearFilter_CanRedo(this._instanceId)},ge.prototype.redo=function(){this._wasmModule._MTIKMaskSmearFilter_Redo(this._instanceId)},ge.prototype.hasDoEffect=function(){return this._wasmModule._MTIKMaskSmearFilter_HasDoEffect(this._instanceId)},ge.prototype.setMaskSmearMode=function(t){this._wasmModule._MTIKMaskSmearFilter_SetMaskSmearMode(this._instanceId,t)},ge.prototype.setMaskColor=function(t,e,n,r){this._wasmModule._MTIKMaskSmearFilter_SetMaskColor(this._instanceId,t,e,n,r)},ge.prototype.reset=function(){this._wasmModule._MTIKMaskSmearFilter_Reset(this._instanceId)},ge.prototype.getMaskData=function(t,e,n){this._wasmModule._MTIKMaskSmearFilter_GetMaskBitmap(this._instanceId,t,e,n)},ge.prototype.setMaskData=function(t,e,n){this._wasmModule._MTIKMaskSmearFilter_SetMaskBitmap(this._instanceId,t,e,n)},ge.prototype.getMaskDataSize=function(){var t=this._wasmModule._MTIKMaskSmearFilter_GetMaskSize(this._instanceId),e={width:(e=v(this._wasmModule,t,2))[0],height:e[1]};return y(this._wasmModule,t),e},ge.prototype.enableRenderToView=function(t){this._wasmModule._MTIKMaskSmearFilter_EnableRenderToView(this._instanceId,t)},ge.prototype.useUndoRedo=function(t){this._wasmModule._MTIKMaskSmearFilter_UseUndoRedo(this._instanceId,t)},ge);function ge(t){return(t=de.call(this,t)||this)._instanceId=t._wasmModule._MTIKMaskSmearFilter_Create(),t}function ve(){var t=pe.call(this)||this;return t.localFilter=null,t}i(ve,pe=at),ve.prototype.destroy=function(){return a(this,void 0,void 0,(function(){var t;return s(this,(function(e){switch(e.label){case 0:return[4,this.getManager()];case 1:return t=e.sent(),this.localFilter&&(null!=t&&t.removeFilter(this.localFilter,!0),this.baseDestroy(),this.localFilter=null),[2]}}))}))},ve.prototype.create=function(){return a(this,void 0,void 0,(function(){var t,e;return s(this,(function(n){switch(n.label){case 0:return[4,this.getWasm()];case 1:return t=n.sent(),[4,this.getManager()];case 2:return e=n.sent(),null==this.localFilter&&e&&(this.localFilter=new me(t),this.localFilter.useUndoRedo(!1),e.addFilter(this.localFilter)),[2]}}))}))},ve.prototype.setMaskSmearMode=function(t){var e;null!=(e=this.localFilter)&&e.setMaskSmearMode(t)},ve.prototype.enableRenderToView=function(t,e){var n;return a(this,void 0,void 0,(function(){var r;return s(this,(function(i){switch(i.label){case 0:return null!=(n=this.localFilter)&&n.enableRenderToView(t),[4,this.getManager()];case 1:return r=i.sent(),e&&r.processRender(e),[2]}}))}))},ve.prototype.setMaskColor=function(t,e,n,r){var i;null!=(i=this.localFilter)&&i.setMaskColor(t,e,n,r)},ve.prototype.getFilterInstanceId=function(){var t;return null==(t=this.localFilter)?void 0:t.getInstanceId()},ve.prototype.getFilterInstance=function(){return this.localFilter},ve.prototype.canUndo=function(){var t;return null==(t=this.localFilter)?void 0:t.canUndo()},ve.prototype.undo=function(){var t;null!=(t=this.localFilter)&&t.undo()},ve.prototype.canRedo=function(){var t;return null==(t=this.localFilter)?void 0:t.canRedo()},ve.prototype.redo=function(){var t;null!=(t=this.localFilter)&&t.redo()},ve.prototype.reset=function(){var t;null!=(t=this.localFilter)&&t.reset()},ve.prototype.getMaskData=function(){var t;return a(this,void 0,void 0,(function(){var e,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.getWasm()];case 1:return n=i.sent(),null==(null==(e=null==(t=this.localFilter)?void 0:t.getMaskDataSize())?void 0:e.height)||null==(null==e?void 0:e.width)?[2]:(null!=(n=new J(n))&&n.destroy(),null!=n&&n.setNativeImage(null,e.width,e.height),null!=(t=this.localFilter)&&t.getMaskData(n.getNativeImage(),e.width,e.height),r={imagedata:r=new Uint8Array(null==n?void 0:n.getImageData()),width:e.width,height:e.height},null!=n&&n.destroy(),[2,r])}}))}))},ve.prototype.setMaskData=function(t,e,n){var r;return a(this,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return[4,this.getWasm()];case 1:return i=o.sent(),(i=new J(i)).setNativeImage(t,e,n),null!=(r=this.localFilter)&&r.setMaskData(i.getNativeImage(),e,n),[2]}}))}))};var be,we,_e,xe,Te=new ve,Ie=(i(Ee,be=V),Ee.prototype.destroy=function(){this._instanceId&&be.prototype.destroy.call(this)},Ee.prototype.setCustomizePath=function(t,e){return t=p(this._wasmModule,t),e=this._wasmModule._MTIKWatermarkFilter_SetCustomizePath(this._instanceId,t,e),y(this._wasmModule,t),e},Ee.prototype.getCustomizePath=function(){this._wasmModule._MTIKWatermarkFilter_GetCustomizePath(this._instanceId)},Ee.prototype.startEdit=function(){return this._wasmModule._MTIKWatermarkFilter_StartEdit(this._instanceId)},Ee.prototype.stopEdit=function(t){return this._wasmModule._MTIKWatermarkFilter_StopEdit(this._instanceId,t)},Ee.prototype.setMaterialPath=function(t,e){return t=p(this._wasmModule,t),e=this._wasmModule._MTIKWatermarkFilter_SetMaterialPath(this._instanceId,t,e),y(this._wasmModule,t),e},Ee.prototype.getMaterialPath=function(){this._wasmModule._MTIKWatermarkFilter_GetMaterialPath(this._instanceId)},Ee.prototype.getLocateStatus=function(){return this._wasmModule._MTIKWatermarkFilter_GetLocateStatus(this._instanceId)},Ee.prototype.setLocateStatus=function(t){return this._wasmModule._MTIKWatermarkFilter_SetLocateStatus(this._instanceId,t)},Ee.prototype.setFullscreen=function(t,e){this._wasmModule._MTIKWatermarkFilter_SetFullscreen(this._instanceId,t,e)},Ee.prototype.getFullscreen=function(){return this._wasmModule._MTIKWatermarkFilter_GetFullscreen(this._instanceId)},Ee.prototype.setWidthRatio=function(t,e){this._wasmModule._MTIKWatermarkFilter_SetWidthRatio(this._instanceId,t,e)},Ee.prototype.getWidthRatio=function(){return this._wasmModule._MTIKWatermarkFilter_GetWidthRatio(this._instanceId)},Ee.prototype.setSpacing=function(t,e){this._wasmModule._MTIKWatermarkFilter_SetSpacing(this._instanceId,t,e)},Ee.prototype.getSpacing=function(){return this._wasmModule._MTIKWatermarkFilter_GetSpacing(this._instanceId)},Ee.prototype.setRotate=function(t,e){this._wasmModule._MTIKWatermarkFilter_SetRotate(this._instanceId,t,e)},Ee.prototype.getRotate=function(){return this._wasmModule._MTIKWatermarkFilter_GetRotate(this._instanceId)},Ee.prototype.setStaggered=function(t,e){this._wasmModule._MTIKWatermarkFilter_SetStaggered(this._instanceId,t,e)},Ee.prototype.getStaggered=function(){return this._wasmModule._MTIKWatermarkFilter_GetStaggered(this._instanceId)},Ee.prototype.setMoveOffsetX=function(t){this._wasmModule._MTIKWatermarkFilter_SetMoveOffsetX(this._instanceId,t)},Ee.prototype.getMoveOffsetX=function(){return this._wasmModule._MTIKWatermarkFilter_GetMoveOffsetX(this._instanceId)},Ee.prototype.setMoveOffsetY=function(t){this._wasmModule._MTIKWatermarkFilter_SetMoveOffsetY(this._instanceId,t)},Ee.prototype.getMoveOffsetY=function(){return this._wasmModule._MTIKWatermarkFilter_GetMoveOffsetY(this._instanceId)},Ee.prototype.getWaterMarkSplitBitmap=function(){var t=g(this._wasmModule);return{imagePtr:this._wasmModule._MTIKWatermarkFilter_GetWaterMarkSplitBitmap(this._instanceId,t),width:(t=v(this._wasmModule,t,2))[0],height:t[1]}},Ee.prototype.setWaterMarkFilterMode=function(t){this._wasmModule._MTIKWatermarkFilter_SetWaterMarkFilterMode(this._instanceId,t)},Ee.prototype.getTextFilter=function(){return this._wasmModule._MTIKWatermarkFilter_GetTextFilter(this._instanceId)},Ee.prototype.updateResultBuffer=function(){return this._wasmModule._MTIKWatermarkFilter_UpdateResultBuffer(this._instanceId)},Ee.prototype.removeText=function(t){return this._wasmModule._MTIKWatermarkFilter_RemoveText(this._instanceId,t)},Ee.prototype.addTextString=function(t){t=p(this._wasmModule,t),this._wasmModule._MTIKWatermarkFilter_AddTextString(this._instanceId,t),y(this._wasmModule,t)},Ee);function Ee(t){return(t=be.call(this,t)||this)._instanceId=t._wasmModule._MTIKWatermarkFilter_Create(),t}function Me(){var t=xe.call(this)||this;return t._arResID="",t._arResPath="/assets/text/ar_res.zip",t._arPublicParamsPath="https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/hbpArPublicParams.zip",t._alibabaFontPathZip="https://titan-h5.meitu.com/xiuxiu-pc/image-editor/text/fonts/Alibaba-PuHuiTi-Regular.zip",t._systemFontPath="AlibabaPuHuiTi-Regular/Alibaba-PuHuiTi-Regular.ttf",t._alibabaFont="AlibabaPuHuiTi-Regular",t._fontZipCache={},t._filterList=new Map,t}(_e=we=we||{})[_e.watermarkModeMain=0]="watermarkModeMain",_e[_e.watermarkModeSplit=1]="watermarkModeSplit",i(Me,xe=at),Me.prototype.destroy=function(){this.baseDestroy(),this._filterList.clear()},Me.prototype.create=function(t,e){return void 0===t&&(t=""),void 0===e&&(e="/assets/text/ar_res.zip"),a(this,void 0,void 0,(function(){var n,r,i,o;return s(this,(function(a){switch(a.label){case 0:return this._arResID=t,this._arResPath=e,[4,this.getWasm()];case 1:return i=a.sent(),r=this.fromCanvas,n=r.width,r=r.height,o=null==(o=this.fromCanvas.getContext("2d"))?void 0:o.getImageData(0,0,n,r),(i=new J(i)).setNativeImage(null==o?void 0:o.data,n,r),[4,C.loadZip(this._arResID,this._arResPath)];case 2:return a.sent(),[4,this.getManager()];case 3:return(o=a.sent()).removeAllFilter(),o.setSrcImage(i.getNativeImage(),n,r),o.setARDirectory(this._arResID,Dt.kDirectoryBuiltIn),o.setViewCapability(pt.MTIKViewCapabilityTypeBgMove,!1),o.setFEMode(E.MTIK_MODE_WATERMARK),o.processRender(!0),i.destroy(),[2,C.getGLCanvas()]}}))}))},Me.prototype.registerFont=function(t,e){return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return[4,this.getManager()];case 1:return n=s.sent(),r=t||this._alibabaFont,i=e||this._alibabaFontPathZip,[4,C.loadZip(r,i)];case 2:return i=s.sent(),o=this._systemFontPath,"[object Array]"===Object.prototype.toString.call(i)&&i.length?(a=i.filter((function(t){return 2===t.split("/").length&&t.split("/")[0]===r||1===t.split("/").length})),this._fontZipCache[r]=a[0],o=a[0]):this._fontZipCache[r]&&(o=this._fontZipCache[r]),null!=n&&n.registerARFont(r,o),[2]}}))}))},Me.prototype.addWaterMark=function(t){return a(this,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:return[4,this.getWasm()];case 1:return e=n.sent(),e=new Ie(e),[4,this.getManager()];case 2:return n.sent().addFilter(e),t=t||e.getUUId().toString(),this._filterList.set(t,e),e.setWaterMarkFilterMode(we.watermarkModeMain),[2,t]}}))}))},Me.prototype.removeWaterMark=function(t){return a(this,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return e=this._filterList.get(t),[4,this.getManager()];case 1:return n=r.sent(),e&&(n.removeFilter(e,!0),this._filterList.delete(t)),[2,!0]}}))}))},Me.prototype.setCustomizePath=function(t,e){var n;return a(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,C.loadWaterMark(e)];case 1:return r.sent(),null!=(n=this._filterList.get(t))&&n.setCustomizePath(e,!0),null!=(n=this._filterList.get(t))&&n.updateResultBuffer(),[2]}}))}))},Me.prototype.setMaterialPath=function(t,e,n,r){var i;return a(this,void 0,void 0,(function(){return s(this,(function(o){switch(o.label){case 0:return[4,C.loadZip(e,n)];case 1:return o.sent(),null!=(i=this._filterList.get(t))&&i.setMaterialPath(r,!0),[2]}}))}))},Me.prototype.setFullscreen=function(t,e){null!=(t=this._filterList.get(t))&&t.setFullscreen(e,!0)},Me.prototype.setRotate=function(t,e,n){null!=(t=this._filterList.get(t))&&t.setRotate(e,n)},Me.prototype.setSpacing=function(t,e,n){null!=(t=this._filterList.get(t))&&t.setSpacing(e,n)},Me.prototype.setWidthRatio=function(t,e,n){null!=(t=this._filterList.get(t))&&t.setWidthRatio(e,n)},Me.prototype.setStaggered=function(t,e,n){null!=(t=this._filterList.get(t))&&t.setStaggered(e,n)},Me.prototype.setMoveOffsetX=function(t,e){null!=(t=this._filterList.get(t))&&t.setMoveOffsetX(e)},Me.prototype.setMoveOffsetY=function(t,e){null!=(t=this._filterList.get(t))&&t.setMoveOffsetY(e)},Me.prototype.getWaterMarkSplitBitmap=function(t){var e;return a(this,void 0,void 0,(function(){var n,r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return[4,this.getWasm()];case 1:return r=s.sent(),null==(null==(n=null==(e=this._filterList.get(t))?void 0:e.getWaterMarkSplitBitmap())?void 0:n.width)||null==(null==n?void 0:n.height)?[2]:((r=new J(r)).setImagePtr(null==n?void 0:n.imagePtr,null==n?void 0:n.width,null==n?void 0:n.height),i=x(null==n?void 0:n.width,null==n?void 0:n.height),o=i.getContext("2d"),(a=null==o?void 0:o.createImageData(null==n?void 0:n.width,null==n?void 0:n.height))&&(a.data.set(r.getImageData()),null!=o)&&o.putImageData(a,0,0),[2,{url:i.toDataURL("image/png"),width:null==n?void 0:n.width,height:null==n?void 0:n.height}])}}))}))},Me.prototype.changeText=function(t,e,n){var r;return a(this,void 0,void 0,(function(){var i,o;return s(this,(function(a){switch(a.label){case 0:return[4,this.getWasm()];case 1:return o=a.sent(),0==(i=null==(r=this._filterList.get(t))?void 0:r.getTextFilter())?[2,!1]:(o=new Ut(o,i),$t.initTextFilter(o),$t.changeText(e,n),[2,!0])}}))}))},Me.prototype.setTextColor=function(t,e,n,r,i,o){var c;return a(this,void 0,void 0,(function(){var a,u;return s(this,(function(s){switch(s.label){case 0:return[4,this.getWasm()];case 1:return u=s.sent(),0==(a=null==(c=this._filterList.get(t))?void 0:c.getTextFilter())?[2,!1]:(u=new Ut(u,a),$t.initTextFilter(u),$t.setTextColor(e,n,r,i,o),[2])}}))}))},Me.prototype.getTextsInfo=function(t){var e;return a(this,void 0,void 0,(function(){var n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.getWasm()];case 1:return r=i.sent(),0==(n=null==(e=this._filterList.get(t))?void 0:e.getTextFilter())?[2,null]:(r=new Ut(r,n),$t.initTextFilter(r),[4,$t.getTextsInfo()]);case 2:return[2,i.sent()]}}))}))},Me.prototype.setTextFont=function(t,e,n){var r;return a(this,void 0,void 0,(function(){var i,o;return s(this,(function(a){switch(a.label){case 0:return[4,this.getWasm()];case 1:return o=a.sent(),0==(i=null==(r=this._filterList.get(t))?void 0:r.getTextFilter())?[2,null]:(o=new Ut(o,i),$t.initTextFilter(o),[4,$t.setTextFont(e,n)]);case 2:return[2,a.sent()]}}))}))},Me.prototype.getTextFont=function(t,e){var n;return a(this,void 0,void 0,(function(){var r,i;return s(this,(function(o){switch(o.label){case 0:return[4,this.getWasm()];case 1:return i=o.sent(),0==(r=null==(n=this._filterList.get(t))?void 0:n.getTextFilter())?[2,null]:(i=new Ut(i,r),$t.initTextFilter(i),[4,$t.getTextFont(e)]);case 2:return[2,o.sent()]}}))}))},Me.prototype.isFullScreen=function(t){return null==(t=this._filterList.get(t))?void 0:t.getFullscreen()},Me.prototype.getFullScreenInfo=function(t){var e;return(null==(e=this._filterList.get(t))?void 0:e.getFullscreen())?{widthRatio:100*(null==(e=this._filterList.get(t))?void 0:e.getWidthRatio()),spacing:100*(null==(e=this._filterList.get(t))?void 0:e.getSpacing()),rotate:null==(e=this._filterList.get(t))?void 0:e.getRotate(),staggered:100*(null==(e=this._filterList.get(t))?void 0:e.getStaggered())}:null},Me.prototype.removeText=function(t,e){null!=(t=this._filterList.get(t))&&t.removeText(e)},Me.prototype.addText=function(t,e){null!=(t=this._filterList.get(t))&&t.addTextString(e)},Me.prototype.updateResultBuffer=function(t){null!=(t=this._filterList.get(t))&&t.updateResultBuffer()};var Oe=new Me,Se=!1,ke=!1,Le={x:0,y:0},je={x:0,y:0},Ae={x:0,y:0},Ce={x:0,y:0};function Pe(t,e,n){void 0===n&&(n=5);var r=t.getContext("2d");t.onmouseleave=function(){ke=!0},t.onmouseenter=function(){ke=!1},t.onmousedown=function(i){i=i||window.event;var o=t.width/parseFloat(t.style.width);Le.x=(i.clientX-t.offsetLeft)*o,Le.y=(i.clientY-t.offsetTop)*o,null!=r&&r.moveTo(Le.x,Le.y),document.onmousemove=function(e){Se&&(null!=r&&r.beginPath(),Se=!1),e=e||window.event,null!=r&&(r.globalAlpha=1),null!=r&&(r.strokeStyle="#ff0000FF"),null!=r&&(r.lineWidth=n*o),je.x=(e.offsetX-t.offsetLeft)*o,je.y=(e.offsetY-t.offsetTop)*o,Math.sqrt(je.x-Le.x^je.y-Le.y+2^2)<n||(Ae.x=(je.x-Le.x)/4+Le.x,Ae.y=(je.y-Le.y)/4+Le.y,Ce.x=(je.x-Le.x)/4*3+Le.x,Ce.y=(je.y-Le.y)/4*3+Le.y,null!=r&&r.lineTo(je.x,je.y),null!=r&&r.stroke(),Le.x=je.x,Le.y=je.y)},document.onmouseup=function(){var n;Se&&ke||(document.onmousemove=null,(document.onload=null)!=(n=null==e?void 0:e.getContext("2d"))&&n.clearRect(0,0,t.width,t.height),null!=(n=null==e?void 0:e.getContext("2d"))&&n.drawImage(t,0,0,t.width,t.height),null!=r&&r.clearRect(0,0,t.width,t.height),Se=!0)}}}function Re(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}var Fe="\n        precision highp float;\n        attribute vec4 position;\n        attribute vec4 inputTextureCoordinate;\n        varying vec2 textureCoordinate;\n\n        void main() {\n            gl_Position = position;\n            textureCoordinate = vec2((position.x+1.0)/2.0, 1.0-(position.y+1.0)/2.0);\n        }\n    ",Ne="\n         precision highp float;\n         uniform sampler2D texture;\n         uniform sampler2D maskTexture;\n         uniform sampler2D blurred_alpha;\n         uniform sampler2D blurred_FA;\n         uniform sampler2D blurred_B1A;\n         varying vec2 textureCoordinate;\n\n         void main()\n         {\n              vec4 srcImage = texture2D(texture, textureCoordinate);\n              vec4 maskImage = texture2D(maskTexture, textureCoordinate);\n\n              float alpha = maskImage.a;\n              float blurredAlpha = texture2D(blurred_alpha, textureCoordinate).a;\n            //   vec3 blurredFA = texture2D(blurred_FA, textureCoordinate).rgb;\n              vec4 blurredFALoad = texture2D(blurred_FA, textureCoordinate);\n              vec3 blurredFA = blurredFALoad.rgb;//srcImage.rgb * blurredFALoad.a;\n\n              vec3 blurredF = blurredFA / (blurredAlpha + 0.0001);\n\n              vec4 blurredB1ALoad = texture2D(blurred_B1A, textureCoordinate); \n            //   vec3 blurredB1A = blurredB1ALoad.rgb * blurredB1ALoad.a * (1.0-blurredAlpha);\n            vec3 blurredB1A = blurredB1ALoad.rgb;//srcImage.rgb * (1.0-blurredAlpha);\n\n            //   vec3 blurredB1A = texture2D(blurred_B1A, textureCoordinate).rgb;\n            //   vec3 blurredB = blurredB1A / (1.0 - blurredAlpha + 0.0001);\n            vec3 blurredB = blurredB1A * blurredB1ALoad.a / (1.0 - blurredAlpha + 0.0001);\n              vec3 tmp = srcImage.rgb + blurredF * (-alpha) + blurredB * (alpha-1.0);\n              vec3 fore = blurredF + tmp * (alpha);\n\n              // 1.\u539f\u59cb\u7684\u65b9\u6cd5\uff1a\n                // gl_FragColor = vec4(fore * srcImage.a * maskImage.a, srcImage.a * maskImage.a);\n                \n                // 2.\u5c1d\u8bd5\u6dfb\u52a0\u539f\u56fe\u7684rbg\n                vec4 resultColor = vec4(fore * srcImage.a * maskImage.a, srcImage.a * maskImage.a);\n                vec4 outputColor = resultColor;\n                if (resultColor.a == 0.0) {\n                  outputColor.rgb = srcImage.rgb;\n                } \n                gl_FragColor = outputColor;//vec4(srcImage.rgb, resultColor.a);\n         }\n    ",De="\n    precision mediump float;\n    varying vec2 textureCoordinate;\n    uniform sampler2D texture;\n    uniform float textureWidth;\n    uniform float textureHeight;\n    uniform float size;\n    const int  radius = 8;\n    // const int kernelSize = 40;\n    void main()\n    {        \n        \n        vec4 sum            = vec4(0.0);\n        vec4 result         = vec4(0.0);\n        vec2 unit_uv        = vec2(size / textureWidth,size / textureHeight)*1.0;\n        vec4 curColor       = texture2D(texture, textureCoordinate);\n\n        vec4 centerPixel    = curColor;\n        \n        float sum_weight    = 1.0;\n        //horizontal\n        for(int i=-radius;i<=radius;i++)\n        {\n            vec2 curRightCoordinate = textureCoordinate+vec2(float(i),0.0)*unit_uv;\n            vec2 curLeftCoordinate  = textureCoordinate+vec2(float(i),0.0)*unit_uv;\n            sum += texture2D(texture,curRightCoordinate);\n            sum += texture2D(texture,curLeftCoordinate);\n            sum_weight+=2.0;\n        }\n        \n        result = (sum+centerPixel)/sum_weight;\n        \n        gl_FragColor = result;\n    }\n",Be="\n    precision mediump float;\n    varying vec2 textureCoordinate;\n    uniform sampler2D texture;\n    uniform float textureWidth;\n    uniform float textureHeight;\n    const int  radius = 8;\n    uniform float size;\n\n    void main()\n    { \n        vec4 sum            = vec4(0.0);\n        vec4 result         = vec4(0.0);\n        vec2 unit_uv        = vec2(size / textureWidth,size / textureHeight)*1.0;\n        vec4 centerPixel    = texture2D(texture, textureCoordinate);\n        float  sum_weight   = 1.0;\n        \n        //vertical\n        for(int i=-radius;i<=radius;i++)\n        {\n            vec2 curBottomCoordinate    = textureCoordinate+vec2(0.0,float(i))*unit_uv;\n            vec2 curTopCoordinate       = textureCoordinate+vec2(0.0,float(i))*unit_uv;\n            sum+=texture2D(texture,curBottomCoordinate);\n            sum+=texture2D(texture,curTopCoordinate);\n            sum_weight+=2.0;\n        }\n        \n        result = (sum+centerPixel)/sum_weight;\n        \n        gl_FragColor = result;\n    }\n",Ue="\n    precision mediump float;\n    uniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform int type;\n    varying vec2 textureCoordinate;\n\n    vec4 avgBlurWithMul(sampler2D tex, sampler2D factorTex, bool oneMinusFactor)\n    {\n        float coefficient = 1.0;\n        vec4 avgValue = vec4(0.0);\n        vec4 coefficientSum = vec4(0);\n        \n                float factor = texture2D(factorTex, textureCoordinate).a;\n                if (oneMinusFactor) {\n                    factor = 1.0 - factor;\n                }\n                vec4 mergeFacotr = vec4(factor);\n                avgValue += texture2D(tex, textureCoordinate) * mergeFacotr * coefficient;\n                coefficientSum += coefficient;\n       \n        return avgValue / coefficientSum;\n    }\n\n    void main()\n    {   \n        vec4 color1 = texture2D(texture1, textureCoordinate);\n        vec4 color2 = texture2D(texture2, textureCoordinate);\n        // if (type == 1) {\n        //     gl_FragColor = avgBlurWithMul(texture1, texture2, false);//color1 * color2;\n        // } else if (type == 2) {\n        //     // todo:\n        //     // gl_FragColor = color1 / color2;\n        // } else if (type == 3) {\n        //     gl_FragColor = avgBlurWithMul(texture1, texture2, true);//color1 * (vec4(1.0)-color2);\n        // }  \n        \n        if (type == 1) {\n            gl_FragColor = mix(vec4(0.0,0.0,0.0,1.0), color1, color2.a);//avgBlurWithMul(texture1, texture2, false);//color1 * color2;\n        } else if (type == 2) {\n            // todo:\n            // gl_FragColor = color1 / color2;\n        } else if (type == 3) {\n            gl_FragColor = mix(vec4(0.0,0.0,0.0,1.0), color1, 1.0-color2.a);//avgBlurWithMul(texture1, texture2, true);//color1 * (vec4(1.0)-color2);\n        }  \n    }\n",ze="\n        attribute vec4 position;\n        attribute vec4 inputTextureCoordinate;\n        varying vec2 textureCoordinate;\n        void main() {\n            gl_Position=vec4(vec3(position) * u_scale, 1.0);\n            textureCoordinate = vec2((position.x+1.0)/2.0, 1.0-(position.y+1.0)/2.0);\n        }\n    ";function Ke(t,e,n){if(e=t.createShader(e),t.shaderSource(e,n),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))return e;t.deleteShader(e)}function Ge(t,e,n){var r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS))return r;t.deleteProgram(r)}function We(t,e){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n}var He=[1,1,1,-1,-1,1,-1,-1];function Ve(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,c,u,l,f,h,d;return s(this,(function(s){switch(s.label){case 0:return i=Re(t,e),null==(o=i.getContext("webgl"))?[2,null]:(o.viewport(0,0,t,e),a=Ke(o,o.VERTEX_SHADER,Fe),c=Math.floor(Math.min(t,e)/4e3*90),c="precision highp float;\n        const int kernelSize = ".concat(c,";\n        ").concat("\n         uniform vec2 blurVectorX;\n         uniform vec2 blurVectorY;\n         uniform sampler2D texture;\n         uniform sampler2D maskTexture;\n         \n         uniform int type;\n         \n         varying vec2 textureCoordinate;\n\n         vec4 avgBlur(sampler2D tex)\n         {\n             float coefficient = 1.0;\n             vec4 avgValue = vec4(0.0);\n             vec4 coefficientSum = vec4(0);\n             \n             for (int i = -kernelSize; i <= kernelSize; i++) {\n                 for (int j = -kernelSize; j <= kernelSize; j++) {\n                     avgValue += texture2D(tex, textureCoordinate + float(i) * blurVectorX + float(j) * blurVectorY) * coefficient;\n                     coefficientSum += coefficient;\n                 }\n             }\n            \n             return avgValue / coefficientSum;\n         }\n         \n         vec4 avgBlurWithMul(sampler2D tex, sampler2D factorTex, bool oneMinusFactor)\n         {\n             float coefficient = 1.0;\n             vec4 avgValue = vec4(0.0);\n             vec4 coefficientSum = vec4(0);\n             \n             for (int i = -kernelSize; i <= kernelSize; i++) {\n                 for (int j = -kernelSize; j <= kernelSize; j++) {\n                     float factor = texture2D(factorTex, textureCoordinate + float(i) * blurVectorX + float(j) * blurVectorY).a;\n                     if (oneMinusFactor) {\n                         factor = 1.0 - factor;\n                     }\n                     vec4 mergeFacotr = vec4(factor);\n                     avgValue += texture2D(tex, textureCoordinate + float(i) * blurVectorX + float(j) * blurVectorY) * mergeFacotr * coefficient;\n                     coefficientSum += coefficient;\n                 }\n             }\n            \n             return avgValue / coefficientSum;\n         }\n\n         void main()\n         {\n              vec4 srcImage = texture2D(texture, textureCoordinate);\n              vec4 maskImage = texture2D(maskTexture, textureCoordinate);\n             \n                if (type == 0) {\n                     // \u524d\u666f\u63d0\u53d6\uff0c\u7b97\u6cd5\u7531\u5b9e\u9a8c\u5ba4\u63d0\u4f9b\uff1ahttps://cf.meitu.com/confluence/pages/viewpage.action?pageId=264073451\n                     float alpha = maskImage.a;\n                     float blurredAlpha = avgBlur(maskTexture).a;\n                     vec3 blurredFA = avgBlurWithMul(texture, maskTexture, false).rgb;\n                     vec3 blurredF = blurredFA / (blurredAlpha + 0.0001);\n                     \n                     vec3 blurredB1A = avgBlurWithMul(texture, maskTexture, true).rgb;\n                     vec3 blurredB = blurredB1A / (1.0 - blurredAlpha + 0.0001);\n                     vec3 tmp = srcImage.rgb + blurredF * (-alpha) + blurredB * (alpha-1.0);\n                     vec3 fore = blurredF + tmp * (alpha);\n    \n                     gl_FragColor = vec4(fore * srcImage.a * maskImage.a, srcImage.a * maskImage.a);\n                } else {\n                    gl_FragColor = vec4(srcImage.rgb, 1.0);\n                }\n                 \n         }\n    "),c=Ke(o,o.FRAGMENT_SHADER,c),u=Ge(o,a,c),l=We(o,n),f=We(o,r),o.useProgram(u),h=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,h),o.bufferData(o.ARRAY_BUFFER,new Float32Array(He),o.STATIC_DRAW),h=o.getAttribLocation(u,"position"),o.enableVertexAttribArray(h),o.vertexAttribPointer(h,2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,l),h=o.getUniformLocation(u,"texture"),o.uniform1i(h,0),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,f),h=o.getUniformLocation(u,"maskTexture"),o.uniform1i(h,1),h=o.getUniformLocation(u,"type"),o.uniform1i(h,0),h=o.getUniformLocation(u,"blurVectorX"),d=1/t,o.uniform2fv(h,[d,0]),h=o.getUniformLocation(u,"blurVectorY"),d=1/e,o.uniform2fv(h,[0,d]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(Re(100,100))]);case 1:return s.sent(),o.deleteProgram(u),o.deleteShader(c),o.deleteShader(a),o.deleteTexture(l),o.deleteTexture(f),[2,i]}}))}))}function Ye(t){return a(this,void 0,void 0,(function(){return s(this,(function(e){return[2,new Promise((function(e,n){var r=new Image;r.src=t.toDataURL("image/png"),r.onload=function(){e(r)}}))]}))}))}function Xe(t,e,n,r){return a(this,void 0,void 0,(function(){var i,o,a,c,u,l,f,h,d,p,y,m,g,v,b,w,_,x,T,I,E,M;return s(this,(function(s){switch(s.label){case 0:return i=Re(t,e),null==(o=i.getContext("webgl"))?[2,null]:(o.viewport(0,0,t,e),a=Math.min(t,e)/501*1.1,c=Ke(o,o.VERTEX_SHADER,Fe),u=Ke(o,o.FRAGMENT_SHADER,De),l=Ke(o,o.FRAGMENT_SHADER,Be),f=Ke(o,o.FRAGMENT_SHADER,Ue),h=Ke(o,o.FRAGMENT_SHADER,Ne),d=Ge(o,c,u),p=Ge(o,c,l),y=Ge(o,c,f),m=Ge(o,c,h),g=We(o,n),v=We(o,r),_=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,_),o.bufferData(o.ARRAY_BUFFER,new Float32Array(He),o.STATIC_DRAW),o.useProgram(d),o.enableVertexAttribArray(o.getAttribLocation(d,"position")),o.vertexAttribPointer(o.getAttribLocation(d,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,v),o.uniform1i(o.getUniformLocation(d,"texture"),0),o.uniform1fv(o.getUniformLocation(d,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(d,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(d,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)]);case 1:return b=s.sent(),w=We(o,b),o.useProgram(p),o.enableVertexAttribArray(o.getAttribLocation(p,"position")),o.vertexAttribPointer(o.getAttribLocation(p,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,w),o.uniform1i(o.getUniformLocation(p,"texture"),0),o.uniform1fv(o.getUniformLocation(p,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(p,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(p,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 2:return _=s.sent(),x=We(o,_),o.deleteTexture(w),o.useProgram(y),o.enableVertexAttribArray(o.getAttribLocation(y,"position")),o.vertexAttribPointer(o.getAttribLocation(y,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,g),o.uniform1i(o.getUniformLocation(y,"texture1"),0),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,v),o.uniform1i(o.getUniformLocation(y,"texture2"),1),o.uniform1iv(o.getUniformLocation(y,"type"),[1]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 3:return T=s.sent(),I=We(o,T),o.useProgram(d),o.enableVertexAttribArray(o.getAttribLocation(d,"position")),o.vertexAttribPointer(o.getAttribLocation(d,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,I),o.uniform1i(o.getUniformLocation(d,"texture"),0),o.uniform1fv(o.getUniformLocation(d,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(d,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(d,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 4:return b=s.sent(),w=We(o,b),o.deleteTexture(I),o.useProgram(p),o.enableVertexAttribArray(o.getAttribLocation(p,"position")),o.vertexAttribPointer(o.getAttribLocation(p,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,w),o.uniform1i(o.getUniformLocation(p,"texture"),0),o.uniform1fv(o.getUniformLocation(p,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(p,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(p,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 5:return T=s.sent(),I=We(o,T),o.deleteTexture(w),o.useProgram(y),o.enableVertexAttribArray(o.getAttribLocation(y,"position")),o.vertexAttribPointer(o.getAttribLocation(y,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,g),o.uniform1i(o.getUniformLocation(y,"texture1"),0),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,v),o.uniform1i(o.getUniformLocation(y,"texture2"),1),o.uniform1iv(o.getUniformLocation(y,"type"),[3]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 6:return E=s.sent(),M=We(o,E),o.useProgram(d),o.enableVertexAttribArray(o.getAttribLocation(d,"position")),o.vertexAttribPointer(o.getAttribLocation(d,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,M),o.uniform1i(o.getUniformLocation(d,"texture"),0),o.uniform1fv(o.getUniformLocation(d,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(d,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(d,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 7:return b=s.sent(),w=We(o,b),o.deleteTexture(M),o.useProgram(p),o.enableVertexAttribArray(o.getAttribLocation(p,"position")),o.vertexAttribPointer(o.getAttribLocation(p,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,w),o.uniform1i(o.getUniformLocation(p,"texture"),0),o.uniform1fv(o.getUniformLocation(p,"textureWidth"),[t]),o.uniform1fv(o.getUniformLocation(p,"textureHeight"),[e]),o.uniform1fv(o.getUniformLocation(p,"size"),[a]),o.drawArrays(o.TRIANGLE_STRIP,0,4),[4,Ye(i)];case 8:return E=s.sent(),M=We(o,E),o.deleteTexture(w),o.useProgram(m),o.enableVertexAttribArray(o.getAttribLocation(m,"position")),o.vertexAttribPointer(o.getAttribLocation(m,"position"),2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,g),o.uniform1i(o.getUniformLocation(m,"texture"),0),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,v),o.uniform1i(o.getUniformLocation(m,"maskTexture"),1),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,x),o.uniform1i(o.getUniformLocation(m,"blurred_alpha"),2),o.activeTexture(o.TEXTURE3),o.bindTexture(o.TEXTURE_2D,I),o.uniform1i(o.getUniformLocation(m,"blurred_FA"),3),o.activeTexture(o.TEXTURE4),o.bindTexture(o.TEXTURE_2D,M),o.uniform1i(o.getUniformLocation(m,"blurred_B1A"),4),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.deleteProgram(d),o.deleteProgram(p),o.deleteProgram(y),o.deleteProgram(m),o.deleteShader(c),o.deleteShader(u),o.deleteShader(l),o.deleteShader(f),o.deleteShader(h),o.deleteTexture(g),o.deleteTexture(v),o.deleteTexture(x),o.deleteTexture(I),o.deleteTexture(M),[2,i]}}))}))}function Ze(t,e,n,r){return void 0===r&&(r=1),a(this,void 0,void 0,(function(){var i,o,a,c,u,l,f;return s(this,(function(s){return 1==r?[2,n]:(i=Re(a=t*r,c=e*r),null==(o=i.getContext("webgl"))?[2,null]:(u="precision highp float;\n        const float u_scale = ".concat(u=1/r,";\n        ").concat(ze),o.viewport(0,0,a,c),a=Ke(o,o.VERTEX_SHADER,u),c=Ke(o,o.FRAGMENT_SHADER,"\n    precision mediump float;\n    uniform sampler2D texture;\n    varying vec2 textureCoordinate;\n    void main()\n    {\n        gl_FragColor = texture2D(texture, textureCoordinate);\n    }\n"),u=Ge(o,a,c),l=We(o,n),o.useProgram(u),f=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,f),o.bufferData(o.ARRAY_BUFFER,new Float32Array(He),o.STATIC_DRAW),f=o.getAttribLocation(u,"position"),o.enableVertexAttribArray(f),o.vertexAttribPointer(f,2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,l),f=o.getUniformLocation(u,"texture"),o.uniform1i(f,0),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.deleteProgram(u),o.deleteShader(c),o.deleteShader(a),o.deleteTexture(l),[2,i]))}))}))}function qe(t,e,n,r,i){return void 0===i&&(i=1),a(this,void 0,void 0,(function(){var o,a,c,u,l,f,h,d,p,y,m,g,v,b,w,_,x,T,I,E,M,O;return s(this,(function(s){switch(s.label){case 0:return o=Re(t*=i,e*=i),null==(a=o.getContext("webgl"))?[2,null]:(a.viewport(0,0,t,e),c=Math.min(t,e)/501*1.1,u="precision highp float;\n        const float u_scale = ".concat(u=1/i,";\n        ").concat(ze),u=Ke(a,a.VERTEX_SHADER,u),l=Ke(a,a.FRAGMENT_SHADER,De),f=Ke(a,a.FRAGMENT_SHADER,Be),h=Ke(a,a.FRAGMENT_SHADER,Ue),d=Ke(a,a.FRAGMENT_SHADER,Ne),p=Ge(a,u,l),y=Ge(a,u,f),m=Ge(a,u,h),g=Ge(a,u,d),v=We(a,n),b=We(a,r),x=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,x),a.bufferData(a.ARRAY_BUFFER,new Float32Array(He),a.STATIC_DRAW),a.useProgram(p),a.enableVertexAttribArray(a.getAttribLocation(p,"position")),a.vertexAttribPointer(a.getAttribLocation(p,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,b),a.uniform1i(a.getUniformLocation(p,"texture"),0),a.uniform1fv(a.getUniformLocation(p,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(p,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(p,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)]);case 1:return w=s.sent(),_=We(a,w),a.useProgram(y),a.enableVertexAttribArray(a.getAttribLocation(y,"position")),a.vertexAttribPointer(a.getAttribLocation(y,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,_),a.uniform1i(a.getUniformLocation(y,"texture"),0),a.uniform1fv(a.getUniformLocation(y,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(y,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(y,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 2:return x=s.sent(),T=We(a,x),a.deleteTexture(_),a.useProgram(m),a.enableVertexAttribArray(a.getAttribLocation(m,"position")),a.vertexAttribPointer(a.getAttribLocation(m,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,v),a.uniform1i(a.getUniformLocation(m,"texture1"),0),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,b),a.uniform1i(a.getUniformLocation(m,"texture2"),1),a.uniform1iv(a.getUniformLocation(m,"type"),[1]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 3:return I=s.sent(),E=We(a,I),a.useProgram(p),a.enableVertexAttribArray(a.getAttribLocation(p,"position")),a.vertexAttribPointer(a.getAttribLocation(p,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,E),a.uniform1i(a.getUniformLocation(p,"texture"),0),a.uniform1fv(a.getUniformLocation(p,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(p,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(p,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 4:return w=s.sent(),_=We(a,w),a.deleteTexture(E),a.useProgram(y),a.enableVertexAttribArray(a.getAttribLocation(y,"position")),a.vertexAttribPointer(a.getAttribLocation(y,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,_),a.uniform1i(a.getUniformLocation(y,"texture"),0),a.uniform1fv(a.getUniformLocation(y,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(y,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(y,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 5:return I=s.sent(),E=We(a,I),a.deleteTexture(_),a.useProgram(m),a.enableVertexAttribArray(a.getAttribLocation(m,"position")),a.vertexAttribPointer(a.getAttribLocation(m,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,v),a.uniform1i(a.getUniformLocation(m,"texture1"),0),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,b),a.uniform1i(a.getUniformLocation(m,"texture2"),1),a.uniform1iv(a.getUniformLocation(m,"type"),[3]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 6:return M=s.sent(),O=We(a,M),a.useProgram(p),a.enableVertexAttribArray(a.getAttribLocation(p,"position")),a.vertexAttribPointer(a.getAttribLocation(p,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,O),a.uniform1i(a.getUniformLocation(p,"texture"),0),a.uniform1fv(a.getUniformLocation(p,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(p,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(p,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 7:return w=s.sent(),_=We(a,w),a.deleteTexture(O),a.useProgram(y),a.enableVertexAttribArray(a.getAttribLocation(y,"position")),a.vertexAttribPointer(a.getAttribLocation(y,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,_),a.uniform1i(a.getUniformLocation(y,"texture"),0),a.uniform1fv(a.getUniformLocation(y,"textureWidth"),[t]),a.uniform1fv(a.getUniformLocation(y,"textureHeight"),[e]),a.uniform1fv(a.getUniformLocation(y,"size"),[c]),a.drawArrays(a.TRIANGLE_STRIP,0,4),[4,Ye(o)];case 8:return M=s.sent(),O=We(a,M),a.deleteTexture(_),a.useProgram(g),a.enableVertexAttribArray(a.getAttribLocation(g,"position")),a.vertexAttribPointer(a.getAttribLocation(g,"position"),2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,v),a.uniform1i(a.getUniformLocation(g,"texture"),0),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,b),a.uniform1i(a.getUniformLocation(g,"maskTexture"),1),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,T),a.uniform1i(a.getUniformLocation(g,"blurred_alpha"),2),a.activeTexture(a.TEXTURE3),a.bindTexture(a.TEXTURE_2D,E),a.uniform1i(a.getUniformLocation(g,"blurred_FA"),3),a.activeTexture(a.TEXTURE4),a.bindTexture(a.TEXTURE_2D,O),a.uniform1i(a.getUniformLocation(g,"blurred_B1A"),4),a.drawArrays(a.TRIANGLE_STRIP,0,4),a.deleteProgram(p),a.deleteProgram(y),a.deleteProgram(m),a.deleteProgram(g),a.deleteShader(u),a.deleteShader(l),a.deleteShader(f),a.deleteShader(h),a.deleteShader(d),a.deleteTexture(v),a.deleteTexture(b),a.deleteTexture(T),a.deleteTexture(E),a.deleteTexture(O),[2,o]}}))}))}}},n={},t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s="./src/index.ts");function t(r){var i;return(n[r]||(i=n[r]={i:r,l:!1,exports:{}},e[r].call(i.exports,i,i.exports,t),i.l=!0,i)).exports}var e,n},t.exports=r()},322:function(t){t.exports=JSON.parse('{"name":"image_editor"}')},336:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return I})),(e=r=r||{})[e.Release=0]="Release",e[e.Test=1]="Test",(e=i=i||{}).Release="https://strategy.app.meitudata.com/upload/policy",e.Test="http://prestrategy.meitubase.com/upload/policy",(e=p=p||{}).AWSS3="aws-s3",e.HuaweiS3="hw-s3",e.Qiniu="qiniu",e.MeituYun="mtyun";var r,i,o={app:"",type:"",count:1,suffix:"",sig:"",sigTime:"",sigVersion:"1.3",version:"2"},a={debug:!1,env:r.Release,accessToken:"",sign:function(t){return t},progress:function(t){return t}};function s(t){if(Array.isArray(t))return t.map(s);if("object"!=typeof t)return t;var e,n={};for(e in t)n[e.replace(/_([A-Za-z])/g,(function(t,e){return e.toUpperCase()}))]="object"==typeof t[e]?s(t[e]):t[e];return n}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return(h=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),1}catch(t){}}}()?Reflect.construct:function(t,e,n){var r=[null];return r.push.apply(r,e),e=new(Function.bind.apply(t,r)),n&&f(e,n.prototype),e}).apply(null,arguments)}var d=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),f(e.prototype.constructor=e,n),r}(function(t){var e="function"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,l(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)}(t)}(Error)),p=function(){function t(t){if(this.options=a,this.tokenList=[],this.retryCount=0,this.currentTokenIndex=0,this.currentCloudIndex=0,this.options=u({},this.options,t),"function"!=typeof this.options.sign)throw new d("\u53c2\u6570\u7b7e\u540d\u65b9\u6cd5\u9009\u9879 sign \u5fc5\u987b\u5b9e\u73b0 sign(params: UploadTokenRequestParams) => UploadTokenRequestParams");var e=this.options.sign.bind(this);this.options.sign=function(t){var n;if(null==(t=e(u({},o,{sigTime:""+Math.floor((new Date).getTime()/1e3)},t)))||!t.sig||""===(null==t||null==(n=t.sig)?void 0:n.trim()))throw new d("\u4e0a\u4f20\u53c2\u6570\u7b7e\u540d\u53c2\u6570 sig \u4e0d\u80fd\u4e3a\u7a7a");if(32!==(null==t||null==(n=t.sig)?void 0:n.length))throw new d("\u4e0a\u4f20\u53c2\u6570\u7b7e\u540d\u53c2\u6570 sig \u503c\u4e0d\u6b63\u786e");return t}}var e,n=t.prototype;return n.debugLog=function(){var t;if(this.debug){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["[@meitu/upload]"].concat(n))}},n.uploadImage=function(){return this},n.uploadVideo=function(){return this},n.uploadAudio=function(){return this},n.uploadParts=function(){return this},n=t,(e=[{key:"env",get:function(){return this.options.env}},{key:"debug",get:function(){return this.options.debug}},{key:"isTest",get:function(){return this.env===r.Test}},{key:"tokenApi",get:function(){return this.isTest?i.Test:i.Release}},{key:"accessToken",get:function(){return this.options.accessToken}}])&&c(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),y=n(394);function m(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){m(o,r,i,a,s,"next",t)}function s(t){m(o,r,i,a,s,"throw",t)}a(void 0)}))}}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||(r[n]=t[n]);return r}var _=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(e){e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i=(v="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=v.asyncIterator||"@@asyncIterator",a=v.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(n){s=function(t,e,n){return t[e]=n}}function c(t,n,r,i){var o,a,s,c;n=n&&n.prototype instanceof y?n:y,n=Object.create(n.prototype),i=new E(i||[]);return n._invoke=(o=t,a=r,s=i,c=l,function(t,n){if(c===h)throw new Error("Generator is already running");if(c===d){if("throw"===t)throw n;return O()}for(s.method=t,s.arg=n;;){var r=s.delegate;if(r&&(r=function t(n,r){var i=n.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=e,t(n,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(i=u(i,n.iterator,r.arg)).type?(r.method="throw",r.arg=i.arg,r.delegate=null,p):(i=i.arg)?i.done?(r[n.resultName]=i.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}(r,s),r)){if(r===p)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===l)throw c=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c=h,"normal"===(r=u(o,a,s)).type){if(c=s.done?d:f,r.arg!==p)return{value:r.arg,done:s.done}}else"throw"===r.type&&(c=d,s.method="throw",s.arg=r.arg)}}),n}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function y(){}function m(){}function g(){}var v,b,w=((b=(b=(s(v={},i,(function(){return this})),Object.getPrototypeOf))&&b(b(M([]))))&&b!==n&&r.call(b,i)&&(v=b),g.prototype=y.prototype=Object.create(v));function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==typeof o&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}));s(i.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var n,o=t[i];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(o=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i}).next=o}return{next:O}}function O(){return{value:e,done:!0}}return s(w,"constructor",m.prototype=g),s(g,"constructor",m),m.displayName=s(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),s(w,a,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,I(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(e.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),x=["url","data"],T=["headers"],I=function(t){var e;function n(e){return(e=t.call(this,e)||this).subscription=null,e.subObject=null,e.observable=null,e.fixQiniuXReqIdError(),e}e=t,(r=n).prototype=Object.create(e.prototype),b(r.prototype.constructor=r,e);var r=n.prototype;return r.fixQiniuXReqIdError=function(){var t=XMLHttpRequest.prototype.getResponseHeader;XMLHttpRequest.prototype.getResponseHeader=function(e){return"x-reqId"===e?"":t(e)}},r.thirdUpload=function(){var t=g(_.mark((function t(e,n,r,i,o){var a,s,c,u,l,f,h,p=this;return _.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=this.currentCloudIndex,f=this.retryCount,a=null==n||null==(a=n.order)?void 0:a[l],s=null==n?void 0:n[a],this.debugLog("[upload] \u4e0a\u4f20\u76f8\u5173\u53c2\u6570 =>",{currentCloudIndex:l,cloud:a,retryCount:f}),s){t.next=6;break}throw new d("\u4e0a\u4f20 Token \u6570\u636e\u4e0d\u5b58\u5728");case 6:c=s.key,u=s.token,l=s.chunkSize,f=s.url,h=s.backupUrl,this.debugLog("[upload] \u5f00\u59cb\u4e0a\u4f20 =>",{key:c,uploadHost:f,uploadBackupHost:h,chunkSize:l}),0,function(t){var n=p.retryCount,a=o||{},s=a.progress,l=a.complete;t&&(p.debugLog("[upload] qiniu.upload =>",{uploadHost:t,errorTime:0,retryCount:n}),t=(a=Object(y.upload)(e,c,u,{},{uphost:t.replace(/https?:\/\//,""),upprotocol:0<=t.indexOf("https")?"https":"http",debugLogLevel:"INFO",disableStatisticsReport:!0})).subscribe(n={next:function(t){p.debugLog("[upload] qiniu.upload.next =>",t),"function"==typeof s&&s(t)},error:function(t){i(t)},complete:function(t){var e=t.url;e=v({url:t.data,previewUrl:e},w(t,x));p.debugLog("[upload] qiniu.upload.complete: result =>",e),"function"==typeof l&&l(e),r(e)}}),p.observable=a,p.subscription=t,p.subObject=n)}(f);case 11:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}(),r.request=function(){var t=g(_.mark((function t(e,n){var r;return _.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),t.next=3,window.fetch(e,v({method:"GET"},n));case 3:return r=t.sent,this.debugLog("[request] result =>",r),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r.requestToken=function(){var t=g(_.mark((function t(e){var n,r,i,o,a;return _.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0===(n=e.headers)?{}:n,i=w(e,T),r={},this.options.accessToken&&(r["Access-Token"]=this.options.accessToken),this.debugLog("[requestToken] params =>",i),void 0,i=Object.entries(i).filter((function(t){return"undefined"!==t[1]&&""!==t[1]})).filter((function(t){return t})).map((function(t){return t[0]+"="+t[1]})).sort().join("&"),a=this.tokenApi.replace("http:",window.location.protocol),t.next=8,this.request(a+"?"+i,{headers:v({},r,n)});case 8:if(200!==(o=t.sent).status)throw o;t.next=11;break;case 11:return t.t0=s,t.next=14,o.json();case 14:return t.t1=t.sent,a=(0,t.t0)(t.t1),this.debugLog("[requestToken] tokenList =>",a),t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.upload=function(){var t=g(_.mark((function t(e,r,i){var o,a=this;return _.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.debugLog("[upload] file =>",e),this.debugLog("[upload] params =>",r),t.next=4,this.requestToken(r);case 4:return this.tokenList=t.sent,"string"==typeof e&&/^data:/.test(e)&&(this.debugLog("[upload] Data URL to File =>",r),o=(new Date).getTime()+(r.suffix?"."+r.suffix:""),e=n.dataURLToFile(e,o)),o=new Promise((function(t,n){a.thirdUpload(e,a.tokenList[a.currentTokenIndex],t,n,i).catch((function(t){n(t)}))})),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),n.dataURLToFile=function(t,e){for(var n=(null==(t=t.split(","))||null==(n=t[0])||null==n.match||null==(n=n.match(/:(.*?)/))?void 0:n[1])||"",r=window.atob(t[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);return new File([o],e,{type:n})},r.cancel=function(){this.subscription&&this.subscription.unsubscribe()},r.resume=function(){var t;this.observable&&(t=this.observable.subscribe(this.subObject),this.subscription=t)},n}(p)},406:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));e=n(84);var r=n.n(e);function i(t,e,n,r){return new(n=n||Promise)((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}function o(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;o=a&&u[a=0]?0:o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,(u=i?[2&u[0],i.value]:u)[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3]))o.label=u[1];else if(6===u[0]&&o.label<i[1])o.label=i[1],i=u;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(u)}}u=e.call(t,o)}catch(c){u=[6,c],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function a(){return i(void 0,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,r()("https://prewebapi-pc.meitu.com/common/ip_location")];case 1:return t=(null==(t=null==(t=e.sent())?void 0:t.data)?void 0:t.data)||{},(t=(t=Object.values(t)[0]||{}).nation_code)&&(c=!0,window.localStorage.setItem(s,t||"CN")),[2,t]}}))}))}var s="xdesign-utils__country-code",c=!1,u=function(t){return i(void 0,void 0,void 0,(function(){var e,n,r,i,u,l,f,h,d;return o(this,(function(o){switch(o.label){case 0:return e=t.gid,n=t.functionInfo,r=t.positionInfo,i=t.isToB,u=t.virtualId,l=t.uid,f=t.osType,(d=window.localStorage.getItem(s))?[3,2]:[4,a()];case 1:return h=o.sent(),[3,3];case 2:h=d,c||a(),o.label=3;case 3:return[2,btoa(JSON.stringify({app_id:"178",os_type:f,country_code:h,gnum:e,function:n,position:r,ext_info:{biz_type:i?"api":"",virtual_id:u},uid:l||""}))]}}))}))}},407:function(t,e,n){var r;r=function(){return e=[function(t,e,n){"use strict";e.__esModule=!0,e.MeituAccountQuickLogin=e.MeituAccountQuickLoginCreator=void 0;var r=(r=n(31))&&r.__esModule?r:{default:r},i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(32)),o=n(30),a=n(43);function s(t,e){return new a.MeituAccountQuickLoginCreator(t,e)}n(45),e.MeituAccountQuickLoginCreator=a.MeituAccountQuickLoginCreator,"undefined"!=typeof document&&((n=document.createElement("style")).innerHTML="/*! \u7f8e\u56fe\u8d26\u53f7\u5feb\u901f\u767b\u5f55\u5f39\u7a97\u7ec4\u4ef6 */\n.meitu-account-quick-login-popup{position:fixed;left:0;right:0;top:0;bottom:0;-webkit-transition:opacity .3s linear;transition:opacity .3s linear;opacity:0;display:block}.meitu-account-quick-login-popup.closed .meitu-account-quick-login-popup-mask{background-image:none}.meitu-account-quick-login-popup.closed .meitu-account-quick-login-popup-container{opacity:0;-webkit-transform:translate(-50%,50%);-ms-transform:translate(-50%,50%);transform:translate(-50%,50%)}.meitu-account-quick-login-popup-container{overflow:auto;position:fixed;left:50%;top:50%;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transition:all .3s linear;transition:all .3s linear;max-height:98vh;opacity:0;line-height:1;background-color:#fff}.meitu-account-quick-login-popup-banner{width:240px;height:100%;overflow:hidden;flex:1}.meitu-account-quick-login-popup-banner.right{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.meitu-account-quick-login-popup-iframe{overflow:hidden;display:block;-webkit-transition:height .2s linear;transition:height .2s linear}.meitu-account-quick-login-popup-close-button{color:#e6e6e9;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjQ0ODYgOC43NTE1QzkuOTc5OTIgOC4yODI4NyA5LjIyMDEzIDguMjgyODcgOC43NTE1IDguNzUxNUM4LjI4Mjg3IDkuMjIwMTMgOC4yODI4NyA5Ljk3OTkyIDguNzUxNSAxMC40NDg2TDE0LjMwMyAxNkw4Ljc1MTUgMjEuNTUxNUM4LjI4Mjg3IDIyLjAyMDEgOC4yODI4NyAyMi43Nzk5IDguNzUxNSAyMy4yNDg2QzkuMjIwMTMgMjMuNzE3MiA5Ljk3OTkyIDIzLjcxNzIgMTAuNDQ4NiAyMy4yNDg2TDE2IDE3LjY5NzFMMjEuNTUxNSAyMy4yNDg2QzIyLjAyMDEgMjMuNzE3MiAyMi43Nzk5IDIzLjcxNzIgMjMuMjQ4NiAyMy4yNDg2QzIzLjcxNzIgMjIuNzc5OSAyMy43MTcyIDIyLjAyMDEgMjMuMjQ4NiAyMS41NTE1TDE3LjY5NzEgMTZMMjMuMjQ4NiAxMC40NDg2QzIzLjcxNzIgOS45Nzk5MiAyMy43MTcyIDkuMjIwMTMgMjMuMjQ4NiA4Ljc1MTVDMjIuNzc5OSA4LjI4Mjg3IDIyLjAyMDEgOC4yODI4NyAyMS41NTE1IDguNzUxNUwxNiAxNC4zMDNMMTAuNDQ4NiA4Ljc1MTVaIiBmaWxsPSIjQUVBRkI3Ii8+Cjwvc3ZnPgo=) no-repeat 0 0;-webkit-background-size:cover;background-size:cover;cursor:pointer;position:absolute;top:12px;width:14px;height:14px;opacity:1}.meitu-account-quick-login-popup-mask{position:fixed;width:100%;height:100%;background-color:#000;background-position:50%}.meitu-account-quick-login-popup-mask-loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:33px;height:33px;animation:quickMaskRotate .8s infinite linear}.meitu-account-quick-login-popup-mask-loading-after,.meitu-account-quick-login-popup-mask-loading-before{position:absolute;top:0;left:0;width:100%;height:100%;border-width:4px;border-style:solid;border-radius:50%;box-sizing:border-box}.meitu-account-quick-login-popup-mask-loading-before{border-color:#fff;opacity:.5}.meitu-account-quick-login-popup-mask-loading-after{border-color:transparent transparent transparent #fff}.meitu-account-quick-login-popup.theme-dark .meitu-account-quick-login-popup-container,.meitu-account-quick-login-popup.theme-mcp .meitu-account-quick-login-popup-container{background-color:#141414}.min-popup .meitu-account-quick-login-popup-close-button{display:block}.wide-popup .meitu-account-quick-login-popup-close-button{display:none}.meitu-account-quick-login-popup-close-button{top:0;right:0;width:44px;height:44px;background-size:32px;background-position:50%}@keyframes quickMaskRotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",document.head.appendChild(n)),s.version=o.version,s.versionCode=parseInt(s.version.replace(/\./g,"")),s.Utils=i,s.Events=r.default,s.LOG_PREFIX=o.LOG_PREFIX,e.MeituAccountQuickLogin=s},function(t,e){t=t.exports={version:"2.5.7"},"number"==typeof __e&&(__e=t)},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=t)},function(t,e,n){t.exports=!n(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(13),i=n(36),o=n(27),a=Object.defineProperty;e.f=n(3)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(5),i=n(16);t.exports=n(3)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(37),i=n(18);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(24)("wks"),i=n(17),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){function r(t,e,n){var l,f,h,d=t&r.F,p=t&r.G,y=t&r.S,m=t&r.P,g=t&r.B,v=t&r.W,b=p?o:o[e]||(o[e]={}),w=b[u],_=p?i:y?i[e]:(i[e]||{})[u];for(l in n=p?e:n)(f=!d&&_&&void 0!==_[l])&&c(b,l)||(h=(f?_:n)[l],b[l]=p&&"function"!=typeof _[l]?n[l]:g&&f?a(h,i):v&&_[l]==h?function(t){function e(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)}return e[u]=t[u],e}(h):m&&"function"==typeof h?a(Function.call,h):h,m&&((b.virtual||(b.virtual={}))[l]=h,t&r.R)&&w&&!w[l]&&s(w,l,h))}var i=n(2),o=n(1),a=n(64),s=n(7),c=n(4),u="prototype";r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,r.U=64,r.R=128,t.exports=r},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(41),i=n(19);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(11);t.exports=function(t){if(r(t))return t;throw TypeError(t+" is not an object!")}},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports={}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(5).f,i=n(4),o=n(9)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(24)("keys"),i=n(17);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(1),i=n(2),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(18);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!r(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(2),i=n(1),o=n(14),a=n(29),s=n(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=!o&&r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(9)},function(t,e){"use strict";e.__esModule=!0,e.LOG_PREFIX="[mt.account.quick.login.popup] ",e.classPrefix="meitu-account-quick-login-popup",e.version="1.3.17",e.webApiPath={prd:"//account.meitu.com",dev:"http://dev.account.meitu.com",pre:"//preaccount.meitu.com",beta:"//betaaccount.meitu.com"},e.webDevelopmentDomains={dev:"http://dev.account.meitu.com",pre:"http://pre.account.meitu.com",beta:"http://beta.account.meitu.com",prd:"http://prd.account.meitu.com"}},function(t,e,n){"use strict";e.__esModule=!0;var r=(n=n(33))&&n.__esModule?n:{default:n};function i(){(0,r.default)(this,i)}i.close="close",i.created="created",i.error="error",i.failure="failure",i.message="message",i.loaded="loaded",i.resize="resize",i.success="success",e.default=i},function(t,e){"use strict";e.__esModule=!0,e.isMobile=function(){return/Android|MeeGo|IEMobile|iPhone|iPad|iPod|BlackBerry|Opera Mini|phone|mobile|Nexus|HTC|Sony|Dell|Droid|Motorola|LG|Kindle|SAMSUNG|Pad|Bada|Tizen|Lumia|Touch|BB10|ARM|Windows Phone|Tablet|PlayBook|webOS|KFAPWI|MicroMessenger|MQQBrowser|Weibo|baidubrowser|UC Browser/i.test(navigator.userAgent)},e.firstUpperCase=function(t){return t.replace(/^\S/,(function(t){return t.toUpperCase()}))}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(11),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(3)&&!n(6)((function(){return 7!=Object.defineProperty(n(35)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";function r(){return this}var i=n(14),o=n(10),a=n(42),s=n(7),c=n(20),u=n(68),l=n(22),f=n(75),h=n(9)("iterator"),d=!([].keys&&"next"in[].keys()),p="values";t.exports=function(t,e,n,y,m,g,v){function b(t){if(!d&&t in I)return I[t];switch(t){case"keys":case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}}u(n,e,y);y=e+" Iterator";var w,_,x=m==p,T=!1,I=t.prototype,E=I[h]||I["@@iterator"]||m&&I[m],M=E||b(m),O=m?x?b("entries"):M:void 0,S="Array"==e&&I.entries||E;if(S&&(S=f(S.call(new t)))!==Object.prototype&&S.next&&(l(S,y,!0),i||"function"==typeof S[h]||s(S,h,r)),x&&E&&E.name!==p&&(T=!0,M=function(){return E.call(this)}),i&&!v||!d&&!T&&I[h]||s(I,h,M),c[e]=M,c[y]=r,m)if(w={values:x?M:b(p),keys:g?M:b("keys"),entries:O},v)for(_ in w)_ in I||a(I,_,w[_]);else o(o.P+o.F*(d||T),e,w);return w}},function(t,e,n){function r(){}var i=n(13),o=n(72),a=n(19),s=n(23)("IE_PROTO"),c="prototype",u=function(){var t=n(35)("iframe"),e=a.length;for(t.style.display="none",n(66).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;e--;)delete u[c][a[e]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(r[c]=i(t),n=new r,r[c]=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(41),i=n(19).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(4),i=n(8),o=n(63)(!1),a=n(23)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>c;)!r(s,n=e[c++])||~o(u,n)||u.push(n);return u}},function(t,e,n){t.exports=n(7)},function(t,e,n){"use strict";e.__esModule=!0,e.MeituAccountQuickLoginCreator=void 0;var r=p(n(54)),i=p(n(46)),o=p(n(49)),a=p(n(53)),s=p(n(33)),c=p(n(52)),u=p(n(31)),l=p(n(44)),f=p(n(90)),h=n(32),d=n(30);function p(t){return t&&t.__esModule?t:{default:t}}function y(t,e){(0,s.default)(this,y),this.LOG_PREFIX=d.LOG_PREFIX,this.el=null,this.mask=null,this.iframe=null,this.container=null,this.closeButton=null,this.settings=(0,a.default)({},l.default),this.init(t)}(e.MeituAccountQuickLoginCreator=((0,c.default)(y,[{key:"version",get:function(){return d.version}},{key:"webApiPath",get:function(){return d.webApiPath}},{key:"webDevelopment",get:function(){return d.webDevelopmentDomains}},{key:"webDevelopmentDomains",get:function(){return d.webDevelopmentDomains}},{key:"isDev",get:function(){return"true"===this.settings.dev}},{key:"debug",get:function(){return this.settings.debug}},{key:"webBasePath",get:function(){var t=this.webApiPath,e=t.dev,n=parseInt(this.settings.env,10);return 0===n?e=t.prd:1===n?e=t.pre:2===n&&(e=t.beta),e}},{key:"showBanner",get:function(){var t=this.settings.banner,e=document.body.getBoundingClientRect();return t.enable&&(!(0,h.isMobile)()||768<=e.width)&&("string"==typeof t.content&&""!==t.content.trim()||"string"==typeof t.image&&""!==t.image.trim())}}]),y.prototype.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.settings=(0,f.default)(this.settings,t,{showHeaderLogo:!1,gnum:t.gnum||t.gid||""}),delete this.settings.gid,this.debug,this.settings.cssLink&&!/^(https?)?:?\/\//.test(this.settings.cssLink.trim()))throw new Error("\u65e0\u6548\u7684\u81ea\u5b9a\u4e49\u6837\u5f0f\u6587\u4ef6\u94fe\u63a5\u5730\u5740");return this},y.prototype.close=function(){var t=this;return this.el.style.opacity=0,this.el.classList&&this.el.classList.add("closed"),setTimeout((function(){t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.trigger("close")}),500),this},y.prototype.on=function(t,e){return this.settings["on"+(0,h.firstUpperCase)(t)]=e,this},y.prototype.trigger=function(t){var e,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return!("resize"===t&&this.settings.autoResize&&window.innerWidth<804)||this.settings.banner&&this.settings.banner.enable||void 0!==r.response.quick_login_resize&&(e=r.response.quick_login_resize.height,this.debug,e>window.screen.height&&(e=Math.ceil(.9*window.screen.height)+3),n=this.settings.maxHeight+(this.settings.showHeaderLogo?40:0),this.iframe.scrolling="auto",this.iframe.height=e=n<e?n:e),this.settings["on"+(0,h.firstUpperCase)(t)].bind(this)(r),this},y.prototype.createContainerLoading=function(){var t=document.createElement("div");return t.setAttribute("class",d.classPrefix+"-container-loading"),t.innerHTML=this.settings.loading,t.style.cssText="\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 1;\n            width: 100%;\n            height: 100%;\n        ",t},y.prototype.createMask=function(){var t=this,e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),o=""+(this.settings.loadingImage||""),a=!1;return e.setAttribute("class",d.classPrefix+"-mask"),e.style.cssText="background-color: "+this.settings.maskBgColor+";\n                            opacity: "+this.settings.maskOpacity+";\n                            filter: alpha(opacity="+100*this.settings.maskOpacity+");",o&&!this.settings.loading&&(e.style.backgroundImage="url("+o+")",a=!0),this.settings.showLoading&&!this.settings.loading||(e.style.backgroundImage="none",a=!0),a||(n.setAttribute("class",d.classPrefix+"-mask-loading"),r.setAttribute("class",d.classPrefix+"-mask-loading-before"),i.setAttribute("class",d.classPrefix+"-mask-loading-after"),n.appendChild(r),n.appendChild(i),e.appendChild(n)),e.onclick=function(){t.settings.maskClosed&&t.close()},e},y.prototype.createCloseBtn=function(t){var e=this,n=document.createElement("div");n.setAttribute("class",d.classPrefix+"-close-button"),n.addEventListener("click",(function(){return e.close()}),!1),t.appendChild(n),this.closeButton=n},y.prototype.createBanner=function(t){var e=t.width,n=(t=t.height,(c=this.settings.banner).type),r=c.image,i=c.align,o=c.style,a=c.content,s=c.link,c=c.target,u=(n=""+n,document.createElement(s?"a":"div"));u.style.width=e+"px",e="\n            overflow: hidden;\n            display: block;\n            width: "+e+"px;\n            height: "+t+"px;\n            border-top-"+i+"-radius: "+this.settings.borderRadius+";\n            border-bottom-"+i+"-radius: "+this.settings.borderRadius+";\n        ";return"1"==n&&r&&(e+="\n                background: url("+r+") top center no-repeat;\n                background-size: cover;"),o&&(e+=""+o),"2"==n&&a&&(u.innerHTML=a),s&&(e+="cursor: pointer;",u.href=s,u.setAttribute("target",c)),u.style.cssText=e,u},y.prototype.createElement=function(t,e){var n=this,r=document.createElement("div"),s=document.createElement("div"),c=document.createElement("iframe"),l=this.settings.contentSpace,f="",h="",p=(this.settings.borderRadius&&(f+=v="\n                -webkit-border-radius: "+this.settings.borderRadius+";\n                border-radius: "+this.settings.borderRadius+";\n            ",h+=v),l&&"number"==typeof l&&(h+="margin: 0 "+l+"px;"),this.settings.contentStyle&&(h+=""+this.settings.contentStyle),this.showBanner&&(h+="\n                border-top-"+(v=this.settings.banner.align)+"-radius: 0;\n                border-bottom-"+v+"-radius: 0;\n            "),r.setAttribute("class",d.classPrefix),r.style.zIndex=this.settings.zIndex,r.style.opacity=1,s.setAttribute("class",d.classPrefix+"-container"),s.style.cssText=f,c.setAttribute("class",d.classPrefix+"-iframe"),c.style.cssText=h,c.name="mt-account-login-popup-iframe-"+(new Date).getTime(),c.width=t,c.height=e,c.frameBorder=0,c.scrolling="auto",c.setAttribute("sandbox",["allow-forms","allow-same-origin","allow-orientation-lock","allow-pointer-lock","allow-top-navigation","allow-presentation","allow-popups-to-escape-sandbox","allow-top-navigation-by-user-activation","allow-scripts","allow-modals","allow-popups"].join(" ")),this.settings.iframeHeight=c.height,{}),y=["banner","zIndex","dev","loadingImage","borderRadius","debug","loading","statParams","customStatParams","mtstatTrace"],m=(l=((0,o.default)(this.settings).map((function(t){-1!==y.indexOf(t)||/^mask/.test(t)||"function"==typeof n.settings[t]||(p[t]=n.settings[t])})),this.debug,encodeURIComponent((0,i.default)((0,a.default)({},p)))),void 0),g=void(this.settings.loading&&(m=this.createContainerLoading(),r.appendChild(m))),v=void(this.settings.mask&&(g=this.createMask(),r.appendChild(g),this.mask=g));return this.showBanner&&(f=this.settings.banner.width,v=this.createBanner({width:f||300,height:e}),e<(h=parseInt((""+v.style.height).replace("px",""))))&&(c.height=h),c.onload=function(t){m&&m.remove(),g&&(g.innerHTML=""),s.style.opacity=1,n.trigger(u.default.loaded,t)},{el:r,container:s,iframe:c,settings:l,containerLoading:m,banner:v}},y.prototype.formatSetting=function(t){var e=t.clientId,n=t.clientParams,o=t.clientReferer,s=t.abroad,c=t.gnum||t.gid,u=t.statParams,l=t.sourceFrom,f=t.language,h=t.theme||"default",d=(f||(navigator.language?f=navigator.language:navigator.browserLanguage&&(f=navigator.browserLanguage)),{redirect_callback:"0",client_id:e,gnum:c,phone:t.phone,phone_cc:t.phone&&t.phoneCC?t.phoneCC:"",client_referer:o?encodeURIComponent(o):"",source_from:l,theme:h,client_language:f,client_configs:(0,i.default)((0,a.default)({env:"popup",show_third_party_accounts:!!this.settings.showThirdPartyAccounts,enable_mine_login:!!this.settings.enableMineLogin,enable_meitu_app_scan:!(!1===this.settings.enableMeituAppScan||0===this.settings.enableMeituAppScan),abroad:s},this.settings.clientConfigs)),client_params:"object"===(void 0===n?"undefined":(0,r.default)(n))?encodeURIComponent((0,i.default)(n)):""});if("object"===(void 0===u?"undefined":(0,r.default)(u))){var p,y,m={};for(p in u)Object.hasOwnProperty.call(u,p)&&(y=u[p])&&(m[p]=y);d.client_stat=encodeURIComponent((0,i.default)(m))}var g,v,b=[];for(g in d)Object.hasOwnProperty.call(d,g)&&(v=d[g])&&b.push(g+"="+v);return b.join("&")},y.prototype.createTeam=function(){var t=window.innerWidth,e=window.innerHeight,n=(t=Math.min(442,.9*t),e=parseInt(.9*e,10),e=(t=this.createElement(t,Math.min(e,544))).el,t.container),r=(t=t.iframe,this.el=e,this.iframe=t,this.container=n,this.trigger("createBefore"),"");0<this.settings.mtstatTrace&&(r="?__mtstat_trace__=1"),r=this.webBasePath+"/teams/"+r+"#/create/team?client_callback="+encodeURIComponent(this.settings.callback)+"&"+this.formatSetting(this.settings);return this.debug,this.settings.showCloseBtn&&this.createCloseBtn(n),t.src=r,n.appendChild(t),e.appendChild(n),document.body.appendChild(e),this.trigger(u.default.created),this.debug,this.listenMessageToAccount(),this},y.prototype.create=function(){var t=window.innerWidth,e=window.innerHeight,n=(t=t<=804?t<=414?.9*t:360:804,e=parseInt(.9*e,10),(e=((!1===this.settings.enableMeituAppScan&&804<=t||this.showBanner)&&(t=360),this.createElement(t,Math.min(e,530)))).el),r=e.container,i=e.iframe,o=e.settings;e=e.banner,n.classList&&(t<800?n.classList.add("min-popup"):n.classList.add("wide-popup"),this.settings.theme)&&n.classList.add("theme-"+this.settings.theme),t="#!/web/quick_login?client_callback="+encodeURIComponent(this.settings.callback)+"&"+this.formatSetting(this.settings)+"&settings="+o,this.el=n,this.iframe=i,this.container=r,this.trigger("createBefore"),o="";return 0<this.settings.mtstatTrace&&(o="?__mtstat_trace__=1"),i.src=this.webBasePath+o+t,this.debug,this.settings.showCloseBtn&&this.createCloseBtn(r),e&&"left"===this.settings.banner.align&&r.appendChild(e),r.appendChild(i),e&&"right"===this.settings.banner.align&&r.appendChild(e),n.appendChild(r),document.body.appendChild(n),this.trigger(u.default.created),this.debug,this.listenMessageToAccount(),this},y.prototype.sendMessageToAccount=function(t){try{this.iframe.contentWindow&&(this.iframe.contentWindow.postMessage(t,this.iframe.src),this.debug)}catch(t){this.debug}return this},y.prototype.listenMessageToAccount=function(){var t=this;return window.addEventListener("message",(function(e){var n=/MSIE (8|9)\.0/.test(navigator.userAgent)?JSON.parse(e.data):e.data;/account\.meitu\.com$/.test(e.origin)&&void 0!==n.meta&&(t.debug,t.trigger(u.default.message,e))}),!1),this},y.prototype.postMessageEventHandler=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};void 0===t&&(t={});try{var e=(e=t.response.quick_login_event)||"message";this.debug,e===u.default.close?this.close():this.trigger(e,t)}catch(t){this.debug}return this},y)).defaultOptions=l.default},function(t,e){"use strict";e.__esModule=!0,e.default={debug:!1,dev:!1,mtstatTrace:!1,env:0,title:"",theme:"",btnText:"",linkText:"",phone:"",phoneCC:"",language:"",clientId:"",gnum:"",statParams:{scenes_enter:"",cur_url:"",channel:"",first_url:""},clientReferer:"",clientParams:"",clientConfigs:{},sourceFrom:"",btnSubmitText:"",bgColor:"",textColor:"",btnColor:"",cssLink:"",callback:"",redirectCallback:"",mask:!0,zIndex:2e3,maxHeight:600,loadingImage:"",showLoading:!0,loading:"",showBackButton:!0,showCloseBtn:!0,maskClosed:!1,maskBgColor:"#000",maskOpacity:.5,relogin:!1,borderRadius:"12px",contentSpace:0,contentStyle:"",showHeaderLogo:!0,autoResize:!0,banner:{enable:!1,type:1,align:"left",style:"",image:"",link:"",target:"",content:""},footerBanner:{img:"",url:"",target:"_blank"},page:{name:"",title:"",description:""},displayOtherLoginLink:!0,enableMeituAppScan:!0,enableMineLogin:!0,showThirdPartyAccounts:!0,onClose:function(){},onSuccess:function(){},onFailure:function(){},onError:function(){},onLoaded:function(){},onCreated:function(){},onCreateBefore:function(){},onResize:function(){},onMessage:function(){}}},function(t,e){},function(t,e,n){t.exports={default:n(55),__esModule:!0}},function(t,e,n){t.exports={default:n(56),__esModule:!0}},function(t,e,n){t.exports={default:n(57),__esModule:!0}},function(t,e,n){t.exports={default:n(58),__esModule:!0}},function(t,e,n){t.exports={default:n(59),__esModule:!0}},function(t,e,n){t.exports={default:n(60),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var r=(n=n(48))&&n.__esModule?n:{default:n};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}e.default=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){"use strict";e.__esModule=!0;n=(n=n(47))&&n.__esModule?n:{default:n};e.default=n.default||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(51)),i=a(n(50)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){var r=(n=n(1)).JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){n(81),t.exports=n(1).Object.assign},function(t,e,n){n(82);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(83),t.exports=n(1).Object.keys},function(t,e,n){n(86),n(84),n(87),n(88),t.exports=n(1).Symbol},function(t,e,n){n(85),n(89),t.exports=n(29).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(8),i=n(79),o=n(78);t.exports=function(t){return function(e,n,a){var s,c=r(e),u=i(c.length),l=o(a,u);if(t&&n!=n){for(;l<u;)if((s=c[l++])!=s)return!0}else for(;l<u;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(61);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(12),i=n(21),o=n(15);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),c=o.f,u=0;s.length>u;)c.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){n=n(2).document,t.exports=n&&n.documentElement},function(t,e,n){var r=n(34);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(39),i=n(16),o=n(22),a={};n(7)(a,n(9)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){function r(t){s(t,i,{value:{i:"O"+ ++c,w:{}}})}var i=n(17)("meta"),o=n(11),a=n(4),s=n(5).f,c=0,u=Object.isExtensible||function(){return!0},l=!n(6)((function(){return u(Object.preventExtensions({}))})),f=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,i)){if(!u(t))return"F";if(!e)return"E";r(t)}return t[i].i},getWeak:function(t,e){if(!a(t,i)){if(!u(t))return!0;if(!e)return!1;r(t)}return t[i].w},onFreeze:function(t){return l&&f.NEED&&u(t)&&!a(t,i)&&r(t),t}}},function(t,e,n){"use strict";var r=n(12),i=n(21),o=n(15),a=n(26),s=n(37),c=Object.assign;t.exports=!c||n(6)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=a(t),c=arguments.length,u=1,l=i.f,f=o.f;u<c;)for(var h,d=s(arguments[u++]),p=l?r(d).concat(l(d)):r(d),y=p.length,m=0;m<y;)f.call(d,h=p[m++])&&(n[h]=d[h]);return n}:c},function(t,e,n){var r=n(5),i=n(13),o=n(12);t.exports=n(3)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,c=0;c<s;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(15),i=n(16),o=n(8),a=n(27),s=n(4),c=n(36),u=Object.getOwnPropertyDescriptor;e.f=n(3)?u:function(t,e){if(t=o(t),e=a(e,!0),c)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(8),i=n(40).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!a||"[object Window]"!=o.call(t))return i(r(t));try{return i(t)}catch(t){return a.slice()}}},function(t,e,n){var r=n(4),i=n(26),o=n(23)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(10),i=n(1),o=n(6);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(25),i=n(18);t.exports=function(t){return function(e,n){e=String(i(e)),n=r(n);var o,a=e.length;return n<0||a<=n?t?"":void 0:(o=e.charCodeAt(n))<55296||56319<o||n+1===a||(a=e.charCodeAt(n+1))<56320||57343<a?t?e.charAt(n):o:t?e.slice(n,n+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(25),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(25),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(62),i=n(69),o=n(20),a=n(8);t.exports=n(38)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(10);r(r.S+r.F,"Object",{assign:n(71)})},function(t,e,n){var r=n(10);r(r.S+r.F*!n(3),"Object",{defineProperty:n(5).f})},function(t,e,n){var r=n(26),i=n(12);n(76)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e){},function(t,e,n){"use strict";var r=n(77)(!0);n(38)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=r(t,e),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";function r(t){var e=H[t]=k(N[U]);return e._k=t,e}function i(t,e){I(t);for(var n,r=x(e=M(e)),i=0,o=r.length;i<o;)Q(t,n=r[i++],e[n]);return t}function o(t){var e=G.call(this,t=O(t,!0));return!(this===Y&&l(H,t)&&!l(V,t))&&(!(e||!l(this,t)||!l(H,t)||l(this,z)&&this[z][t])||e)}function a(t,e){var n;if(t=M(t),e=O(e,!0),t!==Y||!l(H,e)||l(V,e))return!(n=P(t,e))||!l(H,e)||l(t,z)&&t[z][e]||(n.enumerable=!0),n}function s(t){for(var e,n=F(M(t)),r=[],i=0;n.length>i;)l(H,e=n[i++])||e==z||e==p||r.push(e);return r}function c(t){for(var e,n=t===Y,r=F(n?V:M(t)),i=[],o=0;r.length>o;)!l(H,e=r[o++])||n&&!l(Y,e)||i.push(H[e]);return i}var u=n(2),l=n(4),f=n(3),h=n(10),d=n(42),p=n(70).KEY,y=n(6),m=n(24),g=n(22),v=n(17),b=n(9),w=n(29),_=n(28),x=n(65),T=n(67),I=n(13),E=n(11),M=n(8),O=n(27),S=n(16),k=n(39),L=n(74),j=n(73),A=n(5),C=n(12),P=j.f,R=A.f,F=L.f,N=u.Symbol,D=u.JSON,B=D&&D.stringify,U="prototype",z=b("_hidden"),K=b("toPrimitive"),G={}.propertyIsEnumerable,W=m("symbol-registry"),H=m("symbols"),V=m("op-symbols"),Y=Object[U],X=(m="function"==typeof N,u.QObject),Z=!X||!X[U]||!X[U].findChild,q=f&&y((function(){return 7!=k(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=P(Y,e);r&&delete Y[e],R(t,e,n),r&&t!==Y&&R(Y,e,r)}:R,J=m&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Q=function(t,e,n){return t===Y&&Q(V,e,n),I(t),e=O(e,!0),I(n),(l(H,e)?(n.enumerable?(l(t,z)&&t[z][e]&&(t[z][e]=!1),n=k(n,{enumerable:S(0,!1)})):(l(t,z)||R(t,z,S(1,{})),t[z][e]=!0),q):R)(t,e,n)};m||(d((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=v(0<arguments.length?arguments[0]:void 0);return f&&Z&&q(Y,t,{configurable:!0,set:function e(n){this===Y&&e.call(V,n),l(this,z)&&l(this[z],t)&&(this[z][t]=!1),q(this,t,S(1,n))}}),r(t)})[U],"toString",(function(){return this._k})),j.f=a,A.f=Q,n(40).f=L.f=s,n(15).f=o,n(21).f=c,f&&!n(14)&&d(Y,"propertyIsEnumerable",o,!0),w.f=function(t){return r(b(t))}),h(h.G+h.W+h.F*!m,{Symbol:N});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)b($[tt++]);for(var et=C(b.store),nt=0;et.length>nt;)_(et[nt++]);h(h.S+h.F*!m,"Symbol",{for:function(t){return l(W,t+="")?W[t]:W[t]=N(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in W)if(W[e]===t)return e},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),h(h.S+h.F*!m,"Object",{create:function(t,e){return void 0===e?k(t):i(k(t),e)},defineProperty:Q,defineProperties:i,getOwnPropertyDescriptor:a,getOwnPropertyNames:s,getOwnPropertySymbols:c}),D&&h(h.S+h.F*(!m||y((function(){var t=N();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=e=r[1],(E(e)||void 0!==t)&&!J(t))return T(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,B.apply(D,r)}}),N[U][K]||n(7)(N[U],K,N[U].valueOf),g(N,"Symbol"),g(Math,"Math",!0),g(u.JSON,"JSON",!0)},function(t,e,n){n(28)("asyncIterator")},function(t,e,n){n(28)("observable")},function(t,e,n){n(80);for(var r=n(2),i=n(7),o=n(20),a=n(9)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u,l=s[c];(u=(u=r[l])&&u.prototype)&&!u[a]&&i(u,a,l),o[l]=o.Array}},function(t,e){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(Object.assign){var t=new String("abc");if(t[5]="de","5"!==Object.getOwnPropertyNames(t)[0]){for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r,i=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"===i.join(""))return r={},"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")?1:void 0}}}catch(t){}}()?Object.assign:function(t,e){for(var o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var c in o=Object(arguments[s]))r.call(o,c)&&(a[c]=o[c]);if(n)for(var u=n(o),l=0;l<u.length;l++)i.call(o,u[l])&&(a[u[l]]=o[u[l]])}return a}}],n={},t.m=e,t.c=n,t.p="//static.account.meitu.com/",t(0);function t(r){var i;return(n[r]||(i=n[r]={exports:{},id:r,loaded:!1},e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i)).exports}var e,n},t.exports=r()},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return g}));var r=n(278),i=n.n(r),o=n(0),a=n.n(o);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],(e=function(t){return t=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==s(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===s(t)?t:String(t)}(e))in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&m(e,t[e])}var h="xdesign-widgets__config-update-event",d=function(t){return t.dev="dev",t.pre="pre",t.beta="beta",t.release="release",t}({}),p={theme:"light",env:d.release,client_id:"",gid:"",device_id:"",channel:"",country_code:"",app_key:"",module_id:"",silent_token_key:"access_token"},y=function(){return l({},p)},m=function(t,e){p[t]=e,"env"===t&&e===d.dev&&(p.env=d.pre),i.a.publish(h)},g=function(){var t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?c(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(o.useState)(p),2),e=t[0],n=t[1];return Object(o.useEffect)((function(){function t(){n(l({},p))}return i.a.subscribe(h,t),function(){i.a.unsubscribe(t)}}),[]),e};e.b=function(t){var e=t.value,n=(t=t.children,Object(o.useRef)(!0));return n.current&&(f(e),n.current=!1),Object(o.useEffect)((function(){f(e)}),[e]),a.a.createElement(a.a.Fragment,null,t)}},425:function(t,e,n){"use strict";var r=n(419),i=n.n(r),o=n(41),a=n(63),s=n(0),c=n.n(s),u=(r=n(250),n.n(r)),l=(r=n(94),n.n(r));r=n(791);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(){h=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(m="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=m.asyncIterator||"@@asyncIterator",a=m.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),i=new T(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function d(){}function p(){}function y(){}var m,g,v=((g=(g=(s(m={},i,(function(){return this})),Object.getPrototypeOf))&&g(g(I([]))))&&g!==e&&n.call(g,i)&&(m=g),y.prototype=d.prototype=Object.create(m));function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==f(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:E}}function E(){return{value:void 0,done:!0}}return r(v,"constructor",{value:p.prototype=y,configurable:!0}),r(y,"constructor",{value:p,configurable:!0}),p.displayName=s(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),s(v,a,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,x(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function d(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var p=Object(r.a)(),y=function(){return new Promise((function(t){var e=2,n=function(){r=h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=2;var o=l.a.get("meitustat");if(!o)return"";try{return JSON.parse(o).wgid}catch(r){return""}return;case 2:(i=r.sent)||0!==e?i?t(i):setTimeout((function(){e-=1,n()}),500):t(p);case 4:case"end":return r.stop()}}),r)}));var r,i=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){d(o,n,i,a,s,"next",t)}function s(t){d(o,n,i,a,s,"throw",t)}a(void 0)}))};return function(){return i.apply(this,arguments)}}();n()}))};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new T(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,v=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(I([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==m(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:E}}function E(){return{value:void 0,done:!0}}return r(v,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),s(v,a,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,x(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function v(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var b=function(){t=g().mark((function t(e,n,r){var i,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new u.a,i=o.getBrowser(),o.getBrowser(),t.next=5,y();case 5:return o=t.sent,t.abrupt("return","".concat("pre"===e?"https://pre-fankui.meitu.com/pc/":"https://fankui.meitu.com/pc/","?client_id=").concat(r,"&appName=\u7f8e\u56fe\u79c0\u79c0&track_from=").concat(n,"&access_token=").concat(localStorage.getItem("access_token")||"","&version=").concat(i.version||"","&model=").concat(i.name||"","&os=").concat((a=void 0,s=window.navigator.userAgent.toLowerCase(),(/(macintosh)|(mac os x)/.test(s)?"mac":/(window)/.test(a=s)&&/(win32)|(wow32)/.test(a)?"win32":/(window)/.test(a=s)&&/(win64)|(wow64)/.test(a)?"win64":/linux/.test(s)?"linux":"")||""),"&gid=").concat(o));case 7:case"end":return t.stop()}var a,s}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){v(o,r,i,a,s,"next",t)}function s(t){v(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(t,n,r){return e.apply(this,arguments)}}(),w=n(55);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(){x=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new T(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(I([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==_(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function I(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:E}}function E(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function T(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],(e=function(t){return t=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==_(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===_(t)?t:String(t)}(e))in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?O(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(769);var S=c.a.memo((function(t){var e,r=void 0===(u=t.iframeUrl)?"":u,i=void 0===(u=t.appInfo)?{}:u,o=void 0===(u=t.userInfo)?{}:u,a=t.setMode,u=t.customTopic,l=(t=t.childNode,(e=M(Object(s.useState)(""),2))[0]),f=e[1],h=(e=M(Object(s.useState)(0),2))[0],d=e[1],p=(e=M(Object(s.useState)("\u7f8e\u56fe\u5c0f\u52a9\u624b"),2))[0],y=e[1];return Object(s.useEffect)((function(){var t;document.querySelector(".xdesign-float__entrance")&&(t=(null==(t=document.querySelector(".xdesign-float__entrance"))?void 0:t.clientHeight)||93,d(t+2+36))}),[]),Object(s.useEffect)((function(){!function(){t=x().mark((function t(){var e,a,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(5).then(n.bind(null,797));case 2:s=t.sent,e=s.bindHandlers,a=s.businessMessenger,s=s.setMessengerOrigin,a.setTarget(r),f(s(r)),e({getAppInfo:function(){return I({},i)},getUserInfo:function(){return I({},o)},setNavigationBarTitle:function(t){"string"==typeof(t=t.title)&&y(t)},getMeituAccountEncryptedToken:function(){return{encryptedToken:o.avatar?window.localStorage.getItem("access_token"):""}}});case 9:case"end":return t.stop()}}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){E(o,r,i,a,s,"next",t)}function s(t){E(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(){return e.apply(this,arguments)}}()()}),[o,r,i]),c.a.createElement(c.a.Fragment,null,h&&l?c.a.createElement("div",{className:"xdesign-business-messenger",style:{maxHeight:"calc(100vh - ".concat(h,"px)"),bottom:null!=u&&u.length||t?"50%":"calc(100% + 8px)"}},c.a.createElement("div",{className:"xdesign-business-messenger__content"},c.a.createElement("span",{className:"xdesign-business-messenger__title"},p),c.a.createElement("span",{className:"xdesign-business-messenger__close"},c.a.createElement(w.a,{name:"Minus",fontSize:14,onClick:function(){a("")},color:"#939599"}))),c.a.createElement("iframe",{className:"xdesign-business-messenger__iframe",title:"\u5728\u7ebf\u54a8\u8be2",frameBorder:"0",src:l})):null)}));function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e,n){(e=function(t){return t=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==k(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===k(t)?t:String(t)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}L(r={},o.a.dev,"https://preapi-feedback.meitu.com"),L(r,o.a.pre,"https://preapi-feedback.meitu.com"),L(r,o.a.beta,"https://betaapi-feedback.meitu.com"),L(r,o.a.release,"https://api-feedback.meitu.com");var j=r,A="xdesign-floatHelp-closeCustomModal",C={large:{width:42,fontSize:20},small:{width:34,fontSize:17}};function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?R(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F(t){var e=t.customTopic,n=t.sizeConfig.width,r=t.setMode;return c.a.createElement(c.a.Fragment,null,null==e?void 0:e.map((function(t,i){return c.a.createElement("div",{className:"xdesign-float__custom",key:i},c.a.createElement("div",{className:"xdesign-float__custom-content",onClick:function(){var e;a.a.emit(A,t.key),r(t.key),null!=(e=t.callback)&&e.call(t)},style:{width:n,height:n}},t.content),e[i+1]?c.a.createElement("div",{className:"xdesign-float__line"}):null)})))}function N(t){var e=t.setMode,n=t.feedBackSrc;t=t.theme;return c.a.createElement(B.a,{className:"xdesign-feed-back-modal",onCancel:function(){e("")},title:"\u610f\u89c1\u53cd\u9988"},c.a.createElement("iframe",{id:"feedBackIframe",title:"\u610f\u89c1\u53cd\u9988",src:"".concat(n,"&theme=").concat(t),frameBorder:"0"}))}n(767);var D=c.a.memo((function(t){var e=t.mode,n=void 0===(r=t.projectName)?"":r,r=void 0===(r=t.qrCodeUrl)?"":r,i=(t=t.sizeConfig).width,o=(t=t.fontSize,window.localStorage.getItem("MT_IS_SHOW_JOIN_".concat(n,"_COMMUNITY"))),u=(o=P(Object(s.useState)(!o),2))[0],l=o[1];return Object(s.useEffect)((function(){window.localStorage.setItem("MT_IS_SHOW_JOIN_".concat(n,"_COMMUNITY"),"MT_SHOW_JOIN_".concat(n,"_COMMUNITY"))}),[]),Object(s.useEffect)((function(){e&&l(!1)}),[e]),c.a.createElement("div",{className:"xdesign-float-community",style:{width:i,height:i}},c.a.createElement("div",{onClick:function(){a.a.emit(A,"community"),l(!u)},className:"xdesign-float-community__icon"},c.a.createElement(w.a,{name:"UserGroupBold",color:u?"var(--content--system-selected)":"",fontSize:t})),u?c.a.createElement("div",{className:"xdesign-float-community__box",style:{right:"".concat(i+12,"px")}},c.a.createElement("div",{className:"xdesign-float-community__close-icon",onClick:function(){l(!1)}},c.a.createElement(w.a,{name:"CrossBlack",fontSize:14})),c.a.createElement("div",{className:"xdesign-float-community__left"},c.a.createElement("div",{className:"xdesign-float-community__qcCode"},c.a.createElement("img",{src:r,alt:""})),c.a.createElement("div",{className:"xdesign-float-community__text"},"\u4f7f\u7528\u5fae\u4fe1\u6216\u4f01\u4e1a\u5fae\u4fe1\u626b\u7801\u52a0\u5165")),c.a.createElement("div",{className:"xdesign-float-community__right"},c.a.createElement("div",{className:"xdesign-float-community__title"},"\u52a0\u5165\u3010\u7f8e\u56fe\u8bbe\u8ba1\u5ba4AI\u7528\u6237\u7fa4\u3011"),c.a.createElement("div",{className:"xdesign-float-community__desc"},"\u4f5c\u4e3a\u9996\u6279\u5185\u6d4b\u7528\u6237\uff0c\u4f60\u7684\u4f7f\u7528\u4f53\u9a8c\u548c\u53cd\u9988\u5bf9\u6211\u4eec\u975e\u5e38\u91cd\u8981\uff0c\u6b22\u8fce\u4e0e\u6211\u4eec\u4ea4\u6d41\u4f60\u7684\u60f3\u6cd5\u6216\u9700\u6c42\u3002"))):null)})),B=n(258),U=(n(770),c.a.memo((function(t){var e=t.setMode,n=t.sizeConf,r=t.showUp,i=t.handleGoTopClick;t=n.fontSize,t={key:"goTop",content:c.a.createElement(w.a,{name:"ArrowUpBold",fontSize:t}),callback:function(){window.scrollTo({top:0,behavior:"smooth"}),null!=i&&i()}};return c.a.createElement("div",{className:"xdesign-float-goTop"},c.a.createElement(F,{customTopic:r?[t]:[],sizeConfig:n,setMode:e}))}))),z=function(t){return t.CONTACKMESSAGE="ContactMessage",t.FEEBACK="FeedBack",t}({}),K=(r=n(84),n.n(r));function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||X(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(){H=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new _(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(x([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==G(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:T}}function T(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function V(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||X(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){var n;if(t)return"string"==typeof t?Z(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(768);var q=[{content:"\u5728\u7ebf\u54a8\u8be2",key:z.CONTACKMESSAGE,callback:function(){}},{content:"\u610f\u89c1\u53cd\u9988",key:z.FEEBACK,callback:function(){}}],J=c.a.memo((function(t){var e=t.env,n=t.setMode,r=t.client_id,i=void 0===(i=t.customList)?[]:i,u=(t=t.sizeConfig).width,l=(t=t.fontSize,(d=Y(Object(s.useState)(0),2))[0]),f=d[1],h=function(){t=H().mark((function t(){var n,i;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return i=t.sent,t.next=5,K.a.get("".concat(j[e],"/im_v2/unread_count.json"),{params:{client_id:r,gid:i,preview_mode:e===o.a.pre?"1":"0"},headers:{Access_token:window.localStorage.getItem("access_token")||""},withCredentials:!0});case 5:i=t.sent,f((null==i||null==(n=i.data)||null==(n=n.data)?void 0:n.online_unread_num)||0);case 7:case"end":return t.stop()}}),t)}));var t,n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){V(o,r,i,a,s,"next",t)}function s(t){V(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(){return n.apply(this,arguments)}}(),d=(Object(s.useEffect)((function(){var t;if(r)return null,h(),t=setInterval(h,8e3),function(){t&&clearInterval(t)}}),[r]),[].concat(W(i),q));return c.a.createElement("div",{className:"xdesign-float-help",style:{width:u,height:u}},c.a.createElement("div",{className:"xdesign-float-help__btn"},c.a.createElement(w.a,{name:"QuestionMarkBold",fontSize:t}),l?c.a.createElement("span",{className:"xdesign-float-help__unread"},99<l?c.a.createElement("span",{style:{transform:"scale(0.7)"}},"99+"):l):null),c.a.createElement("div",{className:"xdesign-float-help__list",style:{right:"".concat(u-1,"px")}},c.a.createElement("div",{className:"xdesign-float-help__inner"},d.map((function(t,e){return c.a.createElement("div",{className:"xdesign-float-help__item",key:e,onClick:function(e){e.stopPropagation(),a.a.emit(A,t.key),n(t.key),null!=(e=t.callback)&&e.call(t)}},t.content,t.key===z.CONTACKMESSAGE&&l?c.a.createElement("span",{className:"xdesign-float-help__item__unread"},99<l?c.a.createElement("span",{style:{transform:"scale(0.7)"}},"99+"):l):null)})))))}));function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(){$=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new _(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(x([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==Q(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:T}}function T(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function tt(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nt(t,e,n,r,i){var o=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?et(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(s.useState)({}),2),a=o[0],c=o[1];return Object(s.useEffect)((function(){i&&function(){o=$().mark((function o(){var a,s,u;return $().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,y();case 2:s=o.sent,a="".concat({pre:"https://pre-feedback.meitu.com",beta:"https://beta-feedback.meitu.com",release:"https://feedback.meitu.com"}[r],"/im?client_id=").concat(i,"&track_from=").concat(n,"&client_orign=").concat(window.location.origin||""),s={gid:s||"",language:"zh_CN",channel:"",theme:t},u={vipType:(null==e?void 0:e.is_vip)||!1,screenName:(null==e?void 0:e.screen_name)||"",avatar:(null==e?void 0:e.avatar)||""},c({iframeUrl:a,appInfo:s,userInfo:u});case 10:case"end":return o.stop()}}),o)}));var o,a=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){tt(i,n,r,a,s,"next",t)}function s(t){tt(i,n,r,a,s,"throw",t)}a(void 0)}))};return function(){return a.apply(this,arguments)}}()()}),[e,t,i]),a}function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(){return(it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ot(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],(e=function(t){return t=function(t,e){if("object"!==rt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==rt(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===rt(t)?t:String(t)}(e))in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(){st=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new _(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(x([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==rt(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:T}}function T(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ct(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?lt(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(766),e.a=function(t){function e(){O(z.CONTACKMESSAGE)}function n(){O(z.FEEBACK)}function r(t){null!=w&&w(t)}var u=t.style,l=t.userInfo,f=t.projectName,h=t.children,d=void 0===(d=t.isShowCommunity)||d,p=void 0===(p=t.isShowHelp)||p,y=void 0===(y=t.qrCodeUrl)?"":y,m=void 0===(m=t.customTopic)?[]:m,g=void 0===(g=t.customList)?[]:g,v=t.size,w=t.onPanelClick,_=void 0===(_=t.isShow)||_,x=void 0!==(x=t.isShowGoTop)&&x,T=(t=t.onGoTopClick,v=C[void 0===v?"large":v],(B=Object(o.d)()).client_id),I=B.theme,E=B.env,M=(B=ut(Object(s.useState)(""),2))[0],O=B[1],k=(B=ut(Object(s.useState)(!1),2))[0],L=B[1],j=(B=ut(Object(s.useState)(""),2))[0],P=B[1],R=function(){t=st().mark((function t(){var e;return st().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(E,f,T);case 2:e=t.sent,P(e);case 4:case"end":return t.stop()}}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ct(o,r,i,a,s,"next",t)}function s(t){ct(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(){return e.apply(this,arguments)}}(),B=(Object(s.useEffect)((function(){T&&R()}),[T]),nt(I,l,f,E,T));return Object(s.useEffect)((function(){var t=i()((function(){var t=document.documentElement.scrollTop||document.body.scrollTop;L(200<t)}),500);return window.addEventListener("scroll",t),a.a.addListener("xdesign-businessMessenger",e),a.a.addListener(A,r),a.a.addListener("xdesign-feedBack",n),function(){a.a.removeListener("businessMessenger",e),a.a.removeListener("feedBack",n),a.a.removeListener(A,r),window.removeEventListener("scroll",t)}}),[]),c.a.createElement("div",{className:"xdesign-float"},c.a.createElement("div",{className:"xdesign-float-wrapper",style:at(at({},u),{},{display:_?"flex":"none"})},c.a.createElement("div",{className:"xdesign-float__children"},h),c.a.createElement("div",{className:"xdesign-float__entrance"},c.a.createElement(F,{customTopic:m,sizeConfig:v,setMode:O}),m.length&&(p||d||x)?c.a.createElement("div",{className:"xdesign-float__line"}):null,d?c.a.createElement(D,{mode:M,projectName:f,qrCodeUrl:y,sizeConfig:v}):null,p&&d?c.a.createElement("div",{className:"xdesign-float__line"}):null,p?c.a.createElement(J,{mode:M,setMode:O,userInfo:l,theme:I,env:E,projectName:f,client_id:T,customList:g,sizeConfig:v}):null,x&&p&&k?c.a.createElement("div",{className:"xdesign-float__line"}):null,x?c.a.createElement(U,{showUp:k,setMode:O,sizeConf:v,handleGoTopClick:t}):null)),M===z.CONTACKMESSAGE?c.a.createElement(S,it({},B,{customTopic:m,childNode:h,setMode:O})):M===z.FEEBACK?c.a.createElement(N,{theme:I,setMode:O,feedBackSrc:j}):null)}},438:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var r,i,o,a,s=n(441),c=n(433),u=n(427),l=n(410),f=n(440),h=n(335),d=n(432),p=n(439),y=n(256),m=n(281),g=n(145),v=n(208),b=((e=r=r||{})[e.Created=0]="Created",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Terminated=3]="Terminated",e[e.Publish=4]="Publish",e[e.Published=5]="Published",e[e.End=6]="End",(e=i=i||{})[e.Client=1]="Client",e[e.ClientLocal=2]="ClientLocal",e[e.Server=3]="Server",e[e.AsyncCommon=4]="AsyncCommon",e[e.AsyncPush=5]="AsyncPush",e[e.AsyncRecommend=6]="AsyncRecommend",(e=o=o||{}).Uid="type1",e.AppGid="type2",e.WebGid="type3",e.PcGid="type4",e.MacAddress="type5",(e=a=a||{}).Release="release",e.Beta="beta",e.Test="test",(e={})[a.Release]="//meepo.meitustat.com/ab_allot_web_v2",e[a.Beta]="//test-meepo.meitustat.com/ab_allot_web_v2",e[a.Test]="//test-meepo.meitustat.com/ab_allot_web_v2",e);function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(){return(_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}e=function(){function t(t){this.options={appKey:"",gid:"",uid:void 0,wgid:"",custom:[],env:a.Release},this.options=_({},this.options,t)}var e,n;return e=t,(n=[{key:"url",get:function(){return b[this.options.env]}}])&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();var x=n(793),T=n(785),I=n(786);function E(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function M(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){E(o,r,i,a,s,"next",t)}function s(t){E(o,r,i,a,s,"throw",t)}a(void 0)}))}}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var k=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(e){e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i=(v="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=v.asyncIterator||"@@asyncIterator",a=v.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(n){s=function(t,e,n){return t[e]=n}}function c(t,n,r,i){var o,a,s,c;n=n&&n.prototype instanceof y?n:y,n=Object.create(n.prototype),i=new E(i||[]);return n._invoke=(o=t,a=r,s=i,c=l,function(t,n){if(c===h)throw new Error("Generator is already running");if(c===d){if("throw"===t)throw n;return O()}for(s.method=t,s.arg=n;;){var r=s.delegate;if(r&&(r=function t(n,r){var i=n.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=e,t(n,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}return"throw"===(i=u(i,n.iterator,r.arg)).type?(r.method="throw",r.arg=i.arg,r.delegate=null,p):(i=i.arg)?i.done?(r[n.resultName]=i.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}(r,s),r)){if(r===p)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===l)throw c=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c=h,"normal"===(r=u(o,a,s)).type){if(c=s.done?d:f,r.arg!==p)return{value:r.arg,done:s.done}}else"throw"===r.type&&(c=d,s.method="throw",s.arg=r.arg)}}),n}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",h="executing",d="completed",p={};function y(){}function m(){}function g(){}var v,b,w=((b=(b=(s(v={},i,(function(){return this})),Object.getPrototypeOf))&&b(b(M([]))))&&b!==n&&r.call(b,i)&&(v=b),g.prototype=y.prototype=Object.create(v));function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==typeof o&&r.call(o,"__await")?e.resolve(o.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}));s(i.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(t){if(t){var n,o=t[i];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(o=function i(){for(;++n<t.length;)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i}).next=o}return{next:O}}function O(){return{value:e,done:!0}}return s(w,"constructor",m.prototype=g),s(g,"constructor",m),m.displayName=s(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,o,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),s(w,a,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,I(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(e.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),L="abTest",j=function(t){function e(){var e,n=t.apply(this,arguments)||this;return n.initialize=!1,n.identifyMap=(e=n.custom,Object(v.a)(e,(function(t,e){var n=e.type;e=e.value;return t[n]=e,t}),{})),n}n=t,(a=e).prototype=Object.create(n.prototype),S(a.prototype.constructor=a,n);var n,a=e.prototype;return a.init=function(){var t=M(k.mark((function t(){var e,n;return k.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],window.mtstat&&"function"==typeof window.mtstat.init&&this.wgid)return t.prev=2,t.next=5,this.fetchABCodes();t.next=16;break;case 5:n=t.sent,e=Object(g.a)(n,"abCodes"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2);case 12:this._setLocalABInfo(e),this.initialize=!0,t.next=17;break;case 16:case 17:return t.abrupt("return",e);case 18:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),a.fetchABCodes=function(){var t=b[this.options.env],e=this.toQueryParams(),n=function(t){for(var e=function(t){t=function(t){for(var e,n="",r=e=0,i=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<i;o++){var a=t.charCodeAt(o),s=null;a<128?e++:s=127<a&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(r<e&&(n+=t.substring(r,e)),n+=s,r=e=o+1)}return r<e&&(n+=t.substring(r,t.length)),n}(t);for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}(t),n="",r=0;r<e.length;r++){var i=e[r].toString(16);n+=(i=1===i.length?"0"+i:i).toUpperCase()}return n}(JSON.stringify(e));return new Promise((function(e,r){null!=fetch&&fetch(t,{method:"POST",body:n}).then(function(){var t=M(k.mark((function t(n){var r;return k.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,e(Object(x.a)(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return r(t)}))}))},a.toQueryParams=function(){var t,e=this.identifyMap,n=(i=this.options).appKey,r=i.gid,i=i.uid;return(n={appKey:n})[o.WebGid]=this.wgid,n.version=3,r&&Object(m.a)(n,((t={})[o.AppGid]=r,t)),i&&Object(m.a)(n,((r={})[o.Uid]=i,r)),Object(m.a)(n,e)},a.isInABTesting=function(t){var e,n;if(this._checkHasInit("isInABTesting"))return e=Object(T.a)(L,[]),-1!==(t=Object(y.a)(e,{abCode:t}))&&(0===Object(g.a)(e,[t,"count"])&&(n=Object(g.a)(e,[t,"abCode"]),this.reportABCodeEnterTest(n)),Object(p.a)(e,[t,"count"],Object(d.a)(Object(g.a)(e,[t,"count"]),1)),Object(I.a)(L,e),!0)},a.inABTestingCode=function(t){var e,n;if(this._checkHasInit("inABTestingCode"))return n=Object(T.a)(L,[]),e=Object(h.a)(n,"abCode"),n=Object(f.a)(t,(function(t){return!Object(l.a)(null==e?void 0:e[t])})),this.isInABTesting(n),n},a.getABTestingServerCodes=function(){var t;if(this._checkHasInit("getABTestingServerCodes"))return t=Object(T.a)(L,[]),Object(v.a)(t,(function(t,e){var n=e.abCode;e=e.et;return Object(u.a)([i.Server,i.AsyncCommon,i.AsyncPush,i.AsyncRecommend],e)&&t.push(n),t}),[])},a.setABTestingServerCodes=function(t){var e=this;this._checkHasInit("setABTestingServerCodes")&&Object(c.a)(t,(function(t){e.isInABTesting(t)}))},a.getABTestingCodes=function(){var t;if(this._checkHasInit("getABTestingCodes"))return t=Object(T.a)(L,[]),Object(v.a)(t,(function(t,e){var n=e.abCode;return e.status===r.InProgress&&t.push(n),t}),[])},a._setLocalABInfo=function(t){void 0===t&&(t=[]);var e=Object(T.a)(L,[]),n=Object(h.a)(e,"abCode");e=Object(s.a)(t,(function(t){var e=t.abCode,r=t.et,i=t.status,o=(t=t.v,Object(g.a)(n,e,{}));return{abCode:e,et:r,status:i,v:t,count:(null==o?void 0:o.v)===t?o.count:0}}));Object(I.a)(L,e)},a.reportABCodeEnterTest=function(t){var e;this._checkHasInit("reportABCodeEnterTest")&&null!=(e=mtstat)&&e.track("abcode_enter_test",{current_abcode:t})},a._checkHasInit=function(t){return void 0===t&&(t="\u8be5"),this.initialize,this.initialize},a.getABInfo=function(){var t=Object(T.a)(L,[]);return{ab_codes:Object(v.a)(t,(function(t,e){var n=e.abCode,i=e.status;e=e.count;return i===r.InProgress&&t.push({code:n,count:e}),t}),[]),version:"1.1.3"}},n=e,(a=[{key:"wgid",get:function(){var t="";try{var e;t=null==(e=window.mtstat)?void 0:e.getDeviceId()}catch(t){}return this.identifyMap[o.WebGid]||t}},{key:"custom",get:function(){var t;return null!=(t=null==(t=this.options)?void 0:t.custom)?t:[]}}])&&O(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),e}(e)},47:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return c.a})),n.d(e,"d",(function(){return y})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return w.a})),n.d(e,"g",(function(){return M})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return r})),n.d(e,"k",(function(){return S}));var r={},i=(e=(n.r(r),n.d(r,"AppTheme",(function(){return L})),n.d(r,"Helper",(function(){return j})),n(625),n(151),n(54)),n(627),e.a),o=(n(379),n(142),n(380),n(629),n(0)),a=n.n(o);n(630);e=n(434),n(632),e.a,n(381),e=n(400);var s=(n(634),e.a),c=(e=(n(305),n(179)),n(638),e.a,n(128)),u=(e=(e=n(640)).keys().map(e),new Map),l=(e=(e.forEach((function(t){t.__esModule&&(t=t.default);var e=/.*\/(.*)\.svg$/.exec(t);e&&e[1]&&(e=e[1].split(".")[0],u.set(e,t))})),n(307),n(262)),n(650),e.a,n(160),n(68)),f=(n(308),n(401)),h=(n(652),["showStepBtn","tip","max","min","value","precision","style","onChange","keyboard"]);function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y=function(t){var e=void 0===(e=t.showStepBtn)||e,n=t.tip,r=void 0===(d=t.max)?Number.MAX_SAFE_INTEGER:d,i=void 0===(d=t.min)?Number.MIN_SAFE_INTEGER:d,s=t.value,u=t.precision,d=void 0===(d=t.style)?{}:d,y=t.onChange,m=void 0===(g=t.keyboard)||g,g=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(t,h),v=Object(o.useRef)(),b=function(t){return t=Math.min(t,r),Math.max(t,i)},w=function(){var t=b(s-1);y&&y(+t)},_=function(){var t=b(s+1);y&&y(+t)};return a.a.createElement(l.a,{title:n||""},a.a.createElement("div",{className:"mt-input-number",style:p({},d)},a.a.createElement(f.a,p(p({value:b(+s.toFixed(u||0)),max:r,min:i,bordered:!1,stringMode:!0,keyboard:m},g),{},{className:"m-input-container",onInput:function(t){v.current&&clearTimeout(v.current),v.current=setTimeout((function(){var e=+t,n=(isNaN(e)&&(e=s),b(e));n<i&&(n=i),void 0===u||(n=b(+e.toFixed(u||0))),y&&y(n),clearTimeout(v.current)}),500)},onKeyDown:function(t){m&&(38===t.keyCode?_():40===t.keyCode&&w())}})),e?a.a.createElement("div",{className:"arrows",onClick:function(t){return t.stopPropagation()}},a.a.createElement("div",{className:"top",onClick:_},a.a.createElement(c.a,{fontSize:10,name:"ChevronUpBold"})),a.a.createElement("div",{className:"bottom",onClick:w},a.a.createElement(c.a,{fontSize:10,name:"ChevronDownBold"}))):null))};n(402);e=n(4);var m=n.n(e);function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(671),n(672);var b=function(t){var e=t.style,n=t.className,r=t.indicator;t=t.tip;return a.a.createElement("div",{className:m()("b-loading-component",n),style:v({},e)},a.a.createElement("div",{className:"b-loading-component__icon"},r||a.a.createElement("div",{className:"loading-wrap"},a.a.createElement("span",{className:"content"}))),t?a.a.createElement("div",{className:"b-loading-component__tip"},t):null)},w=(e=(n(306),n(175)),n(673),e.a,n(165)),_=(n(383),n(332)),x=(e=n(53),n.n(e)),T=n(39),I=(n(679),["className","children"]);function E(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}e=function(t){var e=t.className,n=t.children;t=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(t,I);return a.a.createElement(_.a,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:m()("mt-modal",e)},t),n)},e.checkClickOnModal=function(t){var e=null==t||null==(t=t.className)||null==(e=t.indexOf)?void 0:e.call(t,"ant-modal-wrap");return!!x()(e)&&-1!==e},e.confirm=function(t){function e(){T.unmountComponentAtNode(r)&&document.body.removeChild(r)}function n(t){b&&b(t),e()}var r=document.createElement("div"),o=(document.body.appendChild(r),t.title),s=t.content,u=t.icon,l=t.hideIcon,f=t.hideOkButton,h=t.hideCancelButton,d=void 0===(d=t.cancelText)?"\u53d6\u6d88":d,p=void 0===(p=t.okText)?"\u786e\u5b9a":p,y=void 0!==(y=t.centered)&&y,m=void 0===(m=t.closable)||m,g=t.closeIcon,v=t.onOk,b=t.onCancel,w=t.className;return null!=(t=t.onInstance)&&t({destroy:function(){e()}}),T.render(a.a.createElement(_.a,{className:"mt-modal-confirm ".concat(w),visible:!0,closeIcon:g||a.a.createElement(c.a,{fontSize:11,name:"CrossBlack"}),closable:m,onCancel:function(){return n("close")},centered:y,footer:!1},a.a.createElement("div",{className:"mt-modal-confirm__body"},o?a.a.createElement("div",{className:"mt-modal-confirm__title"},l?null:a.a.createElement("div",{className:"mt-modal-confirm__icon"},u||a.a.createElement(c.a,{fontSize:48,name:"InfoCircleFill"})),a.a.createElement("div",{className:"mt-modal-confirm__title__text"},o)):null,s?a.a.createElement("div",{className:"mt-modal-confirm__content"},s):null,h&&f?null:a.a.createElement("div",{className:"mt-modal-confirm__actions"},h?null:a.a.createElement(i,{className:"mt-modal-confirm__cancel",type:"text",size:"large",onClick:function(){return n("cancel")}},d),f?null:a.a.createElement(i,{className:"mt-modal-confirm__ok",type:"primary","data-blue":!0,size:"large",onClick:function(){v&&v(),e()}},p)))),r)},n(384),e=n(442);var M=(n(681),e.a),O=(e=(n(309),n(263)),e=(n(683),e.a,n(310),n(176)),e=(n(685),e.a,n(311),n(157)),n(688),e.a);n(689),n(152),n(690),n(691);var S=l.a;n(692),n(693),n(694);e=n(443);var k=(n(696),n(700),e.a);n(701),n(387),n(435).b,n(312),e=n(243);n(704),e.a,n(779),n(422),n(708),n(709),n(710),(e=L=L||{}).white="light",e.dark="dark";var L,j={setTheme:function(t){var e=document.documentElement;return e.className=t,e.getAttribute("data-prefers-color")&&e.setAttribute("data-prefers-color",t),window.localStorage.setItem("theme",t),t},getTheme:function(){return window.localStorage.getItem("theme")===L.dark?L.dark:L.white}};n(711),n(388),e=n(202);n(713),e.a.Dragger},55:function(t,e,n){"use strict";var r=n(4),i=n.n(r),o=(r=n(0),n.n(r));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(751);var s=["className","name","color","fontSize","style"];function c(){return(c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function u(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){(e=function(t){return t=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==a(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===a(t)?t:String(t)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}e.a=function(t){var e=void 0===(e=t.className)?"":e,n=t.name,r=t.color,a=void 0===(a=t.fontSize)?12:a,u=void 0===(u=t.style)?{}:u;t=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(t,s);return o.a.createElement("div",c({},t,{className:i()("iconfont",(f(t={},"icon-".concat(n),!0),f(t,e,!0),t)),style:l(l(l({},u),{}),{},{color:r,width:a,height:a,fontSize:a})}))}},625:function(t,e,n){},627:function(t,e,n){},629:function(t,e,n){},63:function(t,e,n){"use strict";n=n(416),e.a=new n.EventEmitter},632:function(t,e,n){},634:function(t,e,n){},638:function(t,e,n){},639:function(t,e,n){},641:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/collapse-btn-dark.8875a643.svg"},642:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/collapse-btn-light.8723fe70.svg"},643:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/collapse-btn.76a5d3b2.svg"},644:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/logo-white.ce493aa9.svg"},645:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/logo.d5006f07.svg"},646:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/new.0214f3c0.svg"},647:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/not-vip.aab0c5a0.svg"},648:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/vip.46ae7033.svg"},650:function(t,e,n){},652:function(t,e,n){},671:function(t,e,n){},672:function(t,e,n){},673:function(t,e,n){},677:function(t,e,n){},679:function(t,e,n){},681:function(t,e,n){},683:function(t,e,n){},685:function(t,e,n){},688:function(t,e,n){},689:function(t,e,n){},691:function(t,e,n){},692:function(t,e,n){},693:function(t,e,n){},700:function(t,e,n){},701:function(t,e,n){},704:function(t,e,n){},709:function(t,e,n){},710:function(t,e,n){},711:function(t,e,n){},739:function(t,e,n){},751:function(t,e,n){},752:function(t,e,n){},753:function(t,e,n){},754:function(t,e,n){},758:function(t,e,n){},763:function(t,e,n){},764:function(t,e,n){},766:function(t,e,n){},767:function(t,e,n){},768:function(t,e,n){},769:function(t,e,n){},770:function(t,e,n){},785:function(t,e,n){"use strict";function r(t,e){try{var n=JSON.parse(localStorage.getItem(t));return null==n?e:n}catch(t){return e}}n.d(e,"a",(function(){return r}))},786:function(t,e,n){"use strict";function r(t,e){localStorage.setItem(t,JSON.stringify(e))}n.d(e,"a",(function(){return r}))},788:function(t,e,n){"use strict";n.d(e,"b",(function(){return $})),n.d(e,"a",(function(){return et}));var r=n(5),i=n(7),o=n(14),a=(e=n(116),n.n(e)),s=(e=n(94),n.n(e)),c="_mfp",u="_mfpf",l="_mfp_components",f="fingerprint";function h(){return(h=Object(o.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[s.a.get(c),(o=i=e=o=i=e=void 0,e=null!=(e=null==(e=s.a.get(u))?void 0:e.split(","))?e:[],n=(e=Object(r.a)(e,5))[0],i=e[1],o=e[2],a=e[3],e=e[4],i=Number(i),o=Number(o),n&&!isNaN(i)&&!isNaN(o)&&a&&e?[n,i,o,[a,e]]:void 0)]);case 1:case"end":return t.stop()}var e,n,i,o,a}),t)})))).apply(this,arguments)}function d(){return(d=Object(o.a)(Object(i.a)().mark((function t(e,n){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.a.set(c,e),s.a.set(u,n.join(","));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(o.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.a.remove(c),s.a.remove(u);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y,m,g=n(330),v=(e=window.navigator.userAgent,/(iPhone|iPad|iPod|iOS)/gi.test(e)),b=/android|adr/gi.test(e),w=(/isDeviceSupport64Bit:true/gi.test(e),/(iPhone|iPad|iPod|iOS|Android|adr|Windows Phone|SymbianOS)/gi.test(e)),_=/MTWebView\/(([0-9]+)\.([0-9]+)\.([0-9]+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?(?:\+[0-9A-Za-z-]+)?)/i,x=n(201),T=n(1);n(331),n(421),(e=y=y||{}).NoneOutline="\uaa5b",e.NoneSingle="\uaa5c",e.Close="\uaaaa",e.CloseOutline="\uaaab",e.Check="\uaaba",e.CheckOutline="\uaabb",e.Info="\uabaa",e.Invalid="\uabba",e.Approved="\uabca",e.Error1="\uabda",e.Error="\uabdb",e.Warning="\uabea",e.Question="\uabfa",e.Lock="\uaeca",e.Unlock="\uaeda",e.Heart="\ufa3a",e.Fav="\ufada",e.Publish="\ufbaa",y.NoneOutline,y.NoneSingle,y.Close,y.CloseOutline,y.Check,y.CheckOutline,y.Info,y.Invalid,y.Approved,y.Error1,y.Error,y.Warning,y.Question,y.Lock,y.Unlock,y.Heart,y.Fav,y.Publish,(e=m=m||{}).up="up",e.upMirrored="up-mirrored",e.down="down",e.downMirrored="down-mirrored",e.right="right",e.rightMirrored="right-mirrored",e.left="left",e.leftMirrored="left-mirrored",m.up,m.upMirrored,m.down,m.downMirrored,m.right,m.rightMirrored,m.left,m.leftMirrored;var I=n(13),E=["exec"];function M(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var o,a,s,c,u,l,f;"function"!=typeof(null==(o=MTJs)?void 0:o.nativeCall)?i(new Error("[".concat(t,"] MTJs not provided"))):(o=void 0===(o=n.timeout)?5e3:o,a=void 0===(a=n.protocol)?"mt-hogger":a,s=void 0===(s=n.once)||s,c=void 0!==(c=n.decode)&&c,u=!1,f=MTJs.nativeCall(Object(T.a)({},a,t),e,(function(t){u||(clearTimeout(l),r([t,f]))}),{decode:c,once:s}),Number.isFinite(o)&&(l=window.setTimeout((function(){i(new Error("[".concat(t,"] MTJs timeout"))),u=!0}),o)))}))}function O(t,e,n){var i=(n=2<arguments.length&&void 0!==n?n:{}).exec;return(void 0===i?M:i)(t,e,Object(I.a)(n,E)).then((function(t){var e,n=(t=Object(r.a)(t,2))[0],i=(t=t[1],n.meta.code);if(i)throw Object.assign(new Error(null!=(e=n.meta.message)?e:"error code: ".concat(i)),n,{bridgeOptions:t});return[n.response,n.meta,t]}))}function S(t){return new Promise((function(e){var n,i=function(){var t=navigator.userAgent.match(_);if(t)return t[1]}();!i||v&&Object(x.a)(i,"2.3.7","<")||b&&Object(x.a)(i,"4.8.3","<")?e(void 0):(n=Date.now(),i=setTimeout((function(){e({duration:Date.now()-n,error:new Error("web view component time out")})}),3072),function(t){return O("getAppInfo",void 0,0<arguments.length&&void 0!==t?t:{})}().then((function(o){o=Object(r.a)(o,1)[0].gid;try{e({duration:Date.now()-n,value:function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("web view component canvas context not found");if(n.width=256,n.height=64,r.textBaseline="alphabetic",r.fillStyle="#0070dd",r.fillRect(100,1,62,20),r.fillStyle="#333",r.font='11pt "Times New Roman"',r.fillText(t,2,15),r.fillStyle="rgba(0, 112, 221, 0.66)",r.font="18pt Arial",r.fillText(e,4,45),t=n.toDataURL())return t;throw new Error("web view component canvas data url not found")}(t,null!=o?o:Date.now().toString())})}catch(i){e({duration:Date.now()-n,error:new Error(null!=(o=null==i?void 0:i.message)?o:"web view component canvas error")})}})).catch((function(t){e({duration:Date.now()-n,error:new Error(null!=(t=null==t?void 0:t.message)?t:"web view component error")})})).finally(clearTimeout.bind(null,i)))}))}n(793);var k=void 0;function L(){return(L=Object(o.a)(Object(i.a)().mark((function t(e){var n,o,a,s,c,u,l,f,h;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Date.now(),k=k||g.a.load(Object.assign({},e,{monitoring:!1})),t.next=4,k;case 4:return o=t.sent,t.next=7,Promise.all([o.get(),Promise.resolve(w?{value:window.navigator.userAgent,duration:0}:void 0),new Promise((function(t,e){if(w){var n=Date.now();try{var r,i,o=document.createElement("canvas").getContext("webgl"),a=null==o?void 0:o.getExtension("WEBGL_debug_renderer_info");o&&a?(r=o.getParameter(a.UNMASKED_VENDOR_WEBGL),i=o.getParameter(a.UNMASKED_RENDERER_WEBGL),t({duration:Date.now()-n,value:{vendor:r,renderer:i}})):t({duration:Date.now()-n,error:new Error("canvas or webgl not found")})}catch(e){t({duration:Date.now()-n,error:e})}}else t(void 0)}))]);case 7:return o=t.sent,c=Object(r.a)(o,3),a=c[0],u=a.visitorId,a=a.components,s=c[1],c=c[2],t.next=16,S(u);case 16:return u=t.sent,l=Object.assign({},a,!!s&&{_userAgent:s},!!c&&{_webgl:c},!!u&&{_webview:u}),f=g.a.hashComponents(l),h=Date.now(),null!=e&&e.debug,t.abrupt("return",[f,l,h,h-n]);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j="1.0.0-rc.5",A=["1.0.0-rc.5","3.3.6"],C=n(444);function P(){return Object(C.a)("meitu",1,{upgrade:function(t){t.createObjectStore(f)}})}function R(){return(R=Object(o.a)(Object(i.a)().mark((function t(){var e,n,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return e=(e=t.sent).transaction(f,"readonly"),t.next=6,Promise.all([e.store.get(c),e.store.get(u),e.done]);case 6:return e=t.sent,o=Object(r.a)(e,2),n=o[0],o=o[1],t.abrupt("return",[n,o]);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return(F=Object(o.a)(Object(i.a)().mark((function t(){var e,n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return e=(e=t.sent).transaction(f,"readonly"),t.next=6,Promise.all([e.store.get(l),e.done]);case 6:return e=t.sent,n=(n=Object(r.a)(e,1))[0],t.abrupt("return",n);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(o.a)(Object(i.a)().mark((function t(e,n){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return r=(r=t.sent).transaction(f,"readwrite"),t.next=6,Promise.all([r.store.put(e,c),r.store.put(n,u),r.done]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=Object(o.a)(Object(i.a)().mark((function t(e,n){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return r=(r=t.sent).transaction(f,"readwrite"),t.next=6,Promise.all([r.store.put([e,n],l),r.done]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){return(B=Object(o.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:return e=(e=t.sent).transaction(f,"readwrite"),t.next=6,Promise.all([e.store.delete(c),e.store.delete(u),e.store.delete(l),e.done]);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U=n(785),z=n(786);function K(t){localStorage.removeItem(t)}function G(){return(G=Object(o.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[Object(U.a)(c),Object(U.a)(u)]);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){return(W=Object(o.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(U.a)(l));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(o.a)(Object(i.a)().mark((function t(e,n){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(z.a)(c,e),Object(z.a)(u,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(){return(V=Object(o.a)(Object(i.a)().mark((function t(e,n){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(z.a)(l,[e,n]);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){return(Y=Object(o.a)(Object(i.a)().mark((function t(){return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(c),K(u),K(l);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return Promise.all([function(){return R.apply(this,arguments)}(),function(){return G.apply(this,arguments)}(),function(){return h.apply(this,arguments)}()])}function Z(){return(Z=Object(o.a)(Object(i.a)().mark((function t(e,n){var o,a,s,c,u,l,f,h,d,p;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Object(r.a)(e,3),l=Object(r.a)(c[0],2),u=l[0],l=l[1],a=Object(r.a)(c[1],2),o=a[0],a=a[1],c=Object(r.a)(c[2],2),s=c[0],c=c[1],u&&u===(null==l?void 0:l[0]))return t.abrupt("return",[u,l]);t.next=3;break;case 3:if(o&&o===(null==a?void 0:a[0]))return t.abrupt("return",[o,a]);t.next=5;break;case 5:if(s&&s===(null==c?void 0:c[0]))return t.abrupt("return",[s,c]);t.next=7;break;case 7:return t.next=9,function(){return L.apply(this,arguments)}(n);case 9:return u=t.sent,l=Object(r.a)(u,4),f=l[0],h=l[1],d=l[2],p=l[3],t.next=17,Promise.all([function(){return D.apply(this,arguments)}(f,h),function(){return V.apply(this,arguments)}(f,h)]);case 17:return t.abrupt("return",[f,[f,d,p,A.slice()]]);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(o.a)(Object(i.a)().mark((function t(e,n){var o,s,c,u,l,f,h,p,y;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=Object(r.a)(n,3),s=Object(r.a)(f[0],2),o=s[0],s=s[1],u=Object(r.a)(f[1],2),c=u[0],u=u[1],f=Object(r.a)(f[2],2),l=f[0],f=f[1],p=Object(r.a)(e,2),h=p[0],p=p[1],y=[],h===o&&a()(p,s)||y.push(function(){return N.apply(this,arguments)}(h,p)),h===c&&a()(p,u)||y.push(function(){return H.apply(this,arguments)}(h,p)),h===l&&a()(p,f)||y.push(function(){return d.apply(this,arguments)}(h,p)),t.next=8,Promise.all(y);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(Object(i.a)().mark((function t(e){var n,r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X();case 2:return n=t.sent,t.next=5,function(){return Z.apply(this,arguments)}(n,e);case 5:return r=t.sent,t.abrupt("return",function(){return q.apply(this,arguments)}(r,n));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return tt.apply(this,arguments)}function tt(){return(tt=Object(o.a)(Object(i.a)().mark((function t(e){var n,o;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:if(n=t.sent,o=n,o=Object(r.a)(o,2),o=Object(r.a)(o[1],4),o=(o=Object(r.a)(o[3],1))[0],Object(x.a)(j,o,">"))return t.next=7,Promise.all([function(){return B.apply(this,arguments)}(),function(){return Y.apply(this,arguments)}(),function(){return p.apply(this,arguments)}()]);t.next=10;break;case 7:return t.next=9,J(e);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(){return nt.apply(this,arguments)}function nt(){return(nt=Object(o.a)(Object(i.a)().mark((function t(){var e;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){return F.apply(this,arguments)}();case 2:if(e=t.sent)return t.abrupt("return",e);t.next=4;break;case 4:return t.next=6,function(){return W.apply(this,arguments)}();case 6:if(e=t.sent)return t.abrupt("return",e);t.next=8;break;case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},789:function(t,e,n){"use strict";function r(t){var e=t.list,n=t.handleClick;t=t.topDis;return s.a.createElement("div",{className:"xdesign-nav-vip-entrance__popover"},s.a.createElement("div",{className:"xdesign-nav-vip-entrance__inner",style:{marginTop:"".concat(t,"px")},onClick:function(t){t.stopPropagation(),n&&n()}},s.a.createElement("div",{className:"xdesign-nav-vip-entrance__title"}),s.a.createElement("div",{className:"xdesign-nav-vip-entrance__content"},JSON.parse(e.vip_hover_content).map((function(t){return s.a.createElement("div",{className:"xdesign-nav-vip-entrance__item",key:t.title},s.a.createElement("div",{className:"xdesign-nav-vip-entrance__item__title"},t.title),s.a.createElement("div",{className:"xdesign-nav-vip-entrance__item__text"},t.content))}))),s.a.createElement("div",{className:"xdesign-nav-vip-entrance__button"},e.vip_btn_content,e.vip_btn_tip_content?s.a.createElement("div",{className:"xdesign-nav-vip-entrance__button__tip"},e.vip_btn_tip_content):null)))}var i=n(4),o=n.n(i),a=n(0),s=n.n(a),c=n(41),u=(n(764),n(758),n(55)),l=n(35),f=n(417);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?d(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}i=function(t){var e="".concat("mt-design-rc","-").concat(t);return function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return 0===r.length?e:o()(r.map((function(n){return"string"==typeof n?""===n?e:"".concat(e,"__").concat(n):Array.isArray(n)?n.map((function(e){return t(e)})).join(" "):Object.entries(n).filter((function(t){return(t=h(t,2))[0],t[1]})).map((function(t){return""===(t=h(t,1)[0])?e:"".concat(e,"__").concat(t)}))})))}};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(763);var y=["key"];function m(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){var n;if(t)return"string"==typeof t?b(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t){var e=t.duration,n=void 0===e?3:e,r=t.icon,i=t.content,c=(t=(e=g(Object(a.useState)(!0),2))[0],e[1]),u=(Object(a.useEffect)((function(){var t;if(0!==n)return t=setTimeout((function(){c(!1)}),1e3*n),function(){return clearTimeout(t)}}),[n]),{padding:0,height:0,opacity:0});return s.a.createElement(l.b,{motionName:I("move"),visible:t,onAppearStart:function(){return u},onEnterStart:function(){return u},onLeaveActive:function(){return u}},(function(t){var e=t.style;t=t.className;return s.a.createElement("div",{className:o()(I(),t),style:e},s.a.createElement("div",{className:I("inner")},!!r&&s.a.createElement("div",{className:I("icon")},r),s.a.createElement("div",{className:I("content")},i)))}))}function _(t){T&&document.contains(T)||(T=document.createElement("div"),document.body.appendChild(T)),Object(f.render)(s.a.createElement(E,{ref:function(e){return null==e?void 0:e.open(t)}}),T)}function x(t){var e=t.defaultIconName,n=t.defaultIconColor;return function(t){var r=s.a.createElement(u.a,{name:e,fontSize:20,color:n});_("string"==typeof t?{icon:r,content:t}:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],(e=function(t){return t=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==p(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===p(t)?t:String(t)}(e))in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({icon:r},t))}}var T,I=i("Message"),E=s.a.forwardRef((function(t,e){var n=g(Object(a.useState)([]),2),r=n[0],i=n[1];return Object(a.useImperativeHandle)(e,(function(){return{open:function(t){var e=t.key,n=void 0===e?"".concat(Date.now()):e,r=function(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}(t,y);i((function(t){return[].concat(function(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[{key:n,cfg:r}])}))}}}),[i]),r.length?s.a.createElement("div",{className:I("list")},r.map((function(t){var e=t.key,n=(t=t.cfg).icon,r=t.content;t=t.duration;return s.a.createElement(w,{key:e,icon:n,content:r,duration:void 0===t?3:t})}))):s.a.createElement(s.a.Fragment,null)})),M={config:_,success:x({defaultIconName:"CheckCircleFillBold",defaultIconColor:"var(--content-system-info-icon-success, #4FC62B)"}),info:x({defaultIconName:"InfoCircleBoldFill",defaultIconColor:"var(--content-system-info-icon-regular, #8CC0FF)"}),error:x({defaultIconName:"ExclamationMarkCircleBoldFill",defaultIconColor:"var(--content-system-info-icon-warning, #F74640)"})};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e,n){(e=function(t){return t=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==O(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===O(t)?t:String(t)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var k=function(t){return t.dev="dev",t.pre="pre",t.beta="beta",t.release="release",t}({}),L=(S(i={},k.dev,"https://prewebapi-pc.meitu.com"),S(i,k.pre,"https://prewebapi-pc.meitu.com"),S(i,k.beta,"https://betawebapi-pc.meitu.com"),S(i,k.release,"https://webapi-pc.meitu.com"),i);i=n(84);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new _(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(x([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==j(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:T}}function T(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function C(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function P(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],(e=function(t){return t=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return String(t);if("object"!==j(n=n.call(t,e)))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===j(t)?t:String(t)}(e))in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}i=n.n(i).a.create({withCredentials:!0});var F={code:1024,message:"\u60a8\u7684\u7f51\u7edc\u53d1\u751f\u5f02\u5e38\uff0c\u65e0\u6cd5\u8fde\u63a5\u670d\u52a1\u5668"},N=(i.interceptors.request.use((function(t){t.baseURL=null!=(e=t.baseURL)?e:L[Object(c.c)().env];var e="undefined"!=typeof window&&null!=(e=window.localStorage.getItem("access_token"))?e:"";return t.headers=R({access_token:e},t.headers.common),t.params=R(R({},{gid:Object(c.c)().gid,client_id:Object(c.c)().client_id,preview_mode:Object(c.c)().env===k.release?0:1}),t.params),t}),(function(){return Promise.reject(F)})),i.interceptors.response.use(function(){t=A().mark((function t(e){var n,r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.data.code,r=e.data.message||F.message,n)throw M.error(r),{code:n,message:r};t.next=5;break;case 5:return t.abrupt("return",null==(n=e.data)?void 0:n.data);case 6:case"end":return t.stop()}}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){C(o,r,i,a,s,"next",t)}function s(t){C(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(t){return e.apply(this,arguments)}}(),(function(t){var e=(t=(null==t||null==(t=t.response)?void 0:t.data)||F).code;t=t.message;return M.error(t),Promise.reject({code:e,message:t})})),i);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(){B=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new _(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,y,m=((y=(y=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&y(y(x([]))))&&y!==e&&n.call(y,i)&&(p=y),d.prototype=f.prototype=Object.create(p));function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==D(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:T}}function T(){return{value:void 0,done:!0}}return r(m,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(v.prototype),s(v.prototype,o,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,w(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function U(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.a=function(t){var e=t.handleClick,i=(t=void 0===(t=t.topDis)?16:t,Object(c.d)().theme),u=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){var n;if(t)return"string"==typeof t?z(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object(a.useState)(null),2),l=u[0],f=u[1];return Object(a.useEffect)((function(){!function(){t=B().mark((function t(){var e;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,120,7));case 2:return e=(e=(e=t.sent).clientInfo).isMacAppStore?{channel:"appstore"}:{},t.next=7,N.get("/v1/home/get_init_data",{params:e});case 7:e=t.sent,f(e);case 9:case"end":return t.stop()}}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){U(o,r,i,a,s,"next",t)}function s(t){U(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(){return e.apply(this,arguments)}}()()}),[]),s.a.createElement(s.a.Fragment,null,l?s.a.createElement("div",{onClick:function(){e&&e()},className:"xdesign-nav-vip-entrance"},s.a.createElement("div",{className:o()("xdesign-nav-vip-entrance__btn",{"xdesign-nav-vip-entrance__btn--dark":"dark"===i})},s.a.createElement("div",{className:"xdesign-nav-vip-entrance__icon"}),s.a.createElement("div",{className:"xdesign-nav-vip-entrance__text"},l.vip_top_content)),s.a.createElement(r,{list:l,topDis:t,handleClick:e})):null)}},79:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return h})),(e=r=r||{}).Release="Release",e.Test="Test";var r,i={env:r.Release,type:"posters"},o=function(t){Object.assign(i,t)},a=n(336);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(y="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=y.asyncIterator||"@@asyncIterator",o=y.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new x(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===(r=l(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,f):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a),n)){if(n===f)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=l(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var y,m,g=((m=(m=(a(y={},r,(function(){return this})),Object.getPrototypeOf))&&m(m(T([]))))&&m!==e&&n.call(m,r)&&(y=m),p.prototype=h.prototype=Object.create(y));function v(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,c){var u;if("throw"!==(i=l(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==s(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,c)}));c(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:I}}function I(){return{value:void 0,done:!0}}return a(g,"constructor",d.prototype=p),a(p,"constructor",d),d.displayName=a(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(b.prototype),a(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),a(g,o,"Generator"),a(g,r,(function(){return this})),a(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)}))}}var f=function(){var t=l(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h(e,n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=l(c().mark((function t(e,n,r,o){var s,u,l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.env,l=i.type,u=o||"jpg",o||(u="string"==typeof e?-1!=e.indexOf("data:image/png;")?"png":"jpg":-1!=e.type.indexOf("image/svg")?"svg":"image/png"==e.type?"png":"jpg"),s=new a.b({debug:!1,env:a.a[s]}),u={app:"xiuxiu-pro",count:1,suffix:u,type:r||l,version:"20220701"},n&&(u.prefix=n,u.headers=(h=n,(f="File-Key")in(c={})?Object.defineProperty(c,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[f]=h,c)),t.next=8,s.upload(e,u);case 8:return l=t.sent,t.abrupt("return",l);case 10:case"end":return t.stop()}var c,f,h}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},792:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));var r=n(5),i=(e=n(107),n.n(e)),o=["YYYY-MM-DD HH:mm:ss","YYYY/MM/DD","YYYYMMDD","YYYY-MM-DD","YYYYMMDDHH"];function a(t,e){if(t=function(t,e){var n;e=1<arguments.length&&void 0!==e?e:o;if(t)return i.a.isMoment(t)?t.isValid()?t.clone():void 0:t instanceof Date&&(n=i()(t)).isValid()||"number"==typeof t&&(n=i()(10===t.toString().length?+"".concat(t,"000"):t)).isValid()||"string"==typeof t&&/^\d{13}$/.test(t)&&(n=i()(+t)).isValid()||(n=i()(t,e.slice())).isValid()||(n=i()(t)).isValid()?n:void 0}(t,e),t)return t;throw new Error("invalid input")}function s(t){var e=(t=Object(r.a)(t,2))[0],n=(t=Object(r.a)(t[1],4))[1],i=t[2],o=(t=Object(r.a)(t[3],2))[0];t=t[1];return{mfp:e,mfp_gen_ts:n,mfp_gen_date:+a(n).format("YYYYMMDD"),mfp_gen_dur:i,mfp_sdk_ver:o,mfp_core_ver:t}}function c(t){if(t)return["_mfp_components",{mfp_components:JSON.stringify(t[1])}]}},793:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n(327);e=n(255);var r=n.n(e),i=n(1),o=(e=n(409),n.n(e));function a(t,e){return o()(e)?Object.keys(e).reduce((function(n,r){return Object.assign(n,Object(i.a)({},t(r),a(t,e[r])))}),{}):Array.isArray(e)?e.map(a.bind(null,t)):e}function s(t){return a(r.a,t)}n(320)},794:function(t,e,n){"use strict";function r(t){var e=t.theme,n=t.onCancel,r=t.onChangeTheme;return d.a.createElement(p.a,{className:"xdesign-theme-modal",width:370,onCancel:function(){return n()},title:"\u8bbe\u7f6e"},d.a.createElement("div",{className:"xdesign-theme-modal__body"},d.a.createElement("div",{className:"xdesign-theme-modal__theme"},[{key:"light",icon:"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/light-icon.png",text:"\u767d\u8272\u4e3b\u9898"},{key:"dark",icon:"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/dark-icon.png",text:"\u9ed1\u8272\u4e3b\u9898"}].map((function(t,i){return d.a.createElement("div",{className:u()("xdesign-theme-modal__theme-item",e===t.key&&"xdesign-theme-modal__theme-item--active"),key:i,onClick:function(){r&&r(t.key),n()}},d.a.createElement("img",{className:"xdesign-theme-modal__theme-img",src:t.icon,alt:""}),d.a.createElement("div",{className:"xdesign-theme-modal__theme-text"},t.text))})))))}var i=n(41),o=n(89),a=n(63),s=n(55),c=n(4),u=n.n(c),l=n(415),f=(c=n(107),n.n(c)),h=n(0),d=n.n(h),p=n(258);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i=(p="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var o,a,s,c;e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),i=new T(i||[]);return r(e,"_invoke",{value:(o=t,a=n,s=i,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n&&(n=function t(e,n){var r=n.method,i=e.iterator[r];return void 0===i?(n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l):"throw"===(r=u(i,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,l):(i=r.arg)?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s),n)){if(n===l)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(c="executing","normal"===(n=u(o,a,s)).type){if(c=s.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c="completed",s.method="throw",s.arg=n.arg)}})}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p,m,v=((m=(m=(s(p={},i,(function(){return this})),Object.getPrototypeOf))&&m(m(I([]))))&&m!==e&&n.call(m,i)&&(p=m),d.prototype=f.prototype=Object.create(p));function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var c;if("throw"!==(i=u(t[i],t,o)).type)return(o=(c=i.arg).value)&&"object"==y(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var e,r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(r=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=r}return{next:E}}function E(){return{value:void 0,done:!0}}return r(v,"constructor",{value:h.prototype=d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),s(v,a,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,x(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function v(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){v(o,r,i,a,s,"next",t)}function s(t){v(o,r,i,a,s,"throw",t)}a(void 0)}))}}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){var n;if(t)return"string"==typeof t?x(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(753),n(752),e.a=function(t){function e(){return"beta"===R?"beta":"release"===R?"":"pre"}var c=t.userInfo,p=t.callback,y=void 0===(y=t.list)?[]:y,v=void 0===(v=t.listKeys)?[]:v,_=void 0===(_=t.avatarSize)?40:_,x=void 0!==(x=t.hideVipInfo)&&x,T=t.unLoginBtn,I=t.hideLogoutBtn,E=t.disableJumptoAccount,M=t.onLogout,O=t.onLogin,S=t.onOpenVipModal,k=t.onChangeTheme,L=t.onJump2Center,j=t.onListItemClick,A=void 0===(A=t.notVipTip)?"\u5f00\u901a\u4f1a\u5458SVIP\u4eab\u6d77\u91cf\u7248\u6743\u7d20\u6750\u548c\u529f\u80fd\u6743\u76ca":A,C=(t=void 0===(t=t.notLoginText)?"\u60a8\u8fd8\u672a\u5f00\u901a\u4f1a\u5458":t,(U=Object(i.d)()).client_id),P=U.theme,R=U.env,F=(U=w(Object(h.useState)(!1),2))[0],N=U[1],D=(U=w(Object(h.useState)(!1),2))[0],B=U[1],U=function(){var t=b(g().mark((function t(){var r,i,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e(),t.next=3,Promise.resolve().then(n.t.bind(null,104,7));case 3:(i=(i=t.sent.default).parse(window.location.search)).pathname=window.location.pathname,i="".concat(window.location.protocol,"//").concat(r,"account.meitu.com/#!/logout?client_id=").concat(C,"&client_params=").concat(JSON.stringify(i),"&client_callback=").concat(p),(o=document.createElement("iframe")).src=i,o.style.display="none",document.body.appendChild(o),o.onload=function(){setTimeout((function(){document.body.removeChild(o)}),5e3)},window.localStorage.removeItem("access_token"),window.localStorage.removeItem("uid"),M&&M();case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=b(g().mark((function t(){var r,i,o,a,s,u;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=c&&c.id){t.next=3;break}return O&&O(),t.abrupt("return");case 3:if(E)return t.abrupt("return");t.next=5;break;case 5:return r=e(),o=p.replace(/\?refresh=0$/,""),r="".concat(window.location.protocol,"//").concat(r,"account.meitu.com/#!/?client_id=").concat(C,"&client_callback=").concat(o),t.next=10,Promise.resolve().then(n.t.bind(null,104,7));case 10:return i=t.sent.default,t.next=13,Promise.resolve().then(n.t.bind(null,120,7));case 13:if(o=t.sent,a=o.clientInfo,s=o.bridge,u=i.parse(window.location.search),a.isClient||"pc"===u.platform)return t.abrupt("return",s.openBrowser(r));t.next=19;break;case 19:window.open(r),L&&L();case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();v=[{key:o.a.BUSINESS,label:"\u5728\u7ebf\u54a8\u8be2",visible:v.includes(o.a.BUSINESS),callback:function(){a.a.emit("xdesign-businessMessenger")}},{key:o.a.FEEDBACK,label:"\u610f\u89c1\u53cd\u9988",visible:v.includes(o.a.FEEDBACK),callback:function(){a.a.emit("xdesign-feedBack")}},{key:o.a.DOWNLOAD,label:"\u4e0b\u8f7d\u5ba2\u6237\u7aef",visible:v.includes(o.a.DOWNLOAD),callback:function(){window.open("https://pc.meitu.com/download")}},{key:o.a.SETTING,label:"\u8bbe\u7f6e",visible:v.includes(o.a.SETTING),callback:function(){N(!0)}}],v=[].concat(m(v.filter((function(t){return t.visible}))),m(y));return d.a.createElement("div",{className:"xdesign-user-info"},!T||null!=c&&c.id?d.a.createElement("div",{className:"xdesign-user-info__avatar",style:{width:_,height:_}},null!=c&&c.avatar?d.a.createElement("img",{src:c.avatar,className:"xdesign-user-info__avatar-img",alt:""}):d.a.createElement(s.a,{name:"UserBold",fontSize:20}),null!=c&&c.id&&0!==(null==c?void 0:c.vip_days)&&!x?d.a.createElement("img",{className:"xdesign-user-info__vip-icon",src:c.is_vip?"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/vip-icon.png":"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/not-vip-icon.png",alt:""}):null):d.a.createElement(d.a.Fragment,null,T),d.a.createElement("div",{className:u()("xdesign-user-info-panel",(null==c?void 0:c.id)&&"xdesign-user-info-panel--initial"),style:{top:_}},d.a.createElement("div",{className:"xdesign-user-info-panel__inner"},d.a.createElement("div",{className:"xdesign-user-info-panel__header",onClick:z,style:{cursor:E?"default":"pointer"}},d.a.createElement("div",{className:u()("xdesign-user-info__avatar","xdesign-user-info-panel__avatar"),style:{cursor:E?"default":"pointer"}},null!=c&&c.avatar?d.a.createElement("img",{src:c.avatar,className:"xdesign-user-info__avatar-img",alt:""}):d.a.createElement(s.a,{name:"UserBold",fontSize:20}),null!=c&&c.id&&0!==(null==c?void 0:c.vip_days)&&!x?d.a.createElement("img",{className:"xdesign-user-info__vip-icon",src:c.is_vip?"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/vip-icon.png":"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/not-vip-icon.png",alt:""}):null),d.a.createElement("div",{className:"xdesign-user-info-panel__info"},d.a.createElement("div",{className:"xdesign-user-info-panel__username"},null!=c&&c.id?c.screen_name:"\u7acb\u5373\u767b\u5f55"),d.a.createElement("div",{className:"xdesign-user-info-panel__uid"},null!=c&&c.id?d.a.createElement("div",{style:{display:"flex",alignItems:"center"}},"uid\uff1a",c.id,D?d.a.createElement("span",{className:"xdesign-user-info-panel__copy"},d.a.createElement("img",{className:"xdesign-user-info-panel__copy-icon",src:"https://public.static.meitudata.com/xiuxiu-pc/xdesign-widgets/images/userInfo/has-copy-icon.png",alt:""})):d.a.createElement("span",{className:"xdesign-user-info-panel__copy",onClick:function(t){t.stopPropagation(),l.a("".concat((null==c?void 0:c.id)||"")).then((function(){B(!0),setTimeout((function(){B(!1)}),5e3)})).catch((function(t){}))}},"\u590d\u5236")):t)),null!=c&&c.id&&!E?d.a.createElement(s.a,{name:"ChevronRightBlack",fontSize:12,className:"xdesign-user-info-panel__arrow"}):null),x?null:d.a.createElement("div",{className:"xdesign-user-info-panel__vip-info"},d.a.createElement("div",{className:"xdesign-user-info-panel__vip-date"},null!=c&&c.is_vip?"SVIP\u5230\u671f: ".concat(f()(1e3*((null==c?void 0:c.vip_end_time)||0)).format("YYYY-MM-DD")):A),d.a.createElement("div",{className:"xdesign-user-info-panel__vip-btn",onClick:function(){null!=c&&c.id?S&&S():O&&O()}},d.a.createElement(s.a,{name:"VipBoldFill",fontSize:16}),d.a.createElement("span",{className:"xdesign-user-info-panel__vip-btn__text"},null!=c&&c.is_vip?"\u7acb\u5373\u7eed\u8d39":"\u7acb\u5373\u5f00\u901a")),d.a.createElement("div",{className:"xdesign-user-info-panel__tips"},"\u4f1a\u5458\u671f\u95f4\u4eab\u4f5c\u54c1\u5546\u7528\u7248\u6743\u65e0\u5fe7")),null!=v&&v.length?d.a.createElement("div",{className:"xdesign-user-info-panel__list"},null==v?void 0:v.map((function(t,e){return d.a.createElement("div",{key:e,className:"xdesign-user-info-panel__item",onClick:function(){var e;null!=(e=t.callback)&&e.call(t),null!=j&&j(t.key)}},d.a.createElement("span",{className:"xdesign-user-info-panel__item-label"},t.label),d.a.createElement(s.a,{name:"ChevronRightBlack",fontSize:12,className:"xdesign-user-info-panel__arrow"}))}))):null,null!=c&&c.id&&!I?d.a.createElement("div",{className:"xdesign-user-info-panel__footer",onClick:U},d.a.createElement("div",{className:"xdesign-user-info-panel__footer-inner"},"\u9000\u51fa\u767b\u5f55")):null)),F?d.a.createElement(r,{theme:P,onCancel:function(){return N(!1)},onChangeTheme:k}):null)}},89:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t.SETTING="setting",t.FEEDBACK="feedBack",t.BUSINESS="business",t.DOWNLOAD="download",t}({})},95:function(t,e,n){"use strict";n.d(e,"b",(function(){return p}));var r,i,o=n(47),a=n(84),s=n.n(a);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=(y="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=y.asyncIterator||"@@asyncIterator",o=y.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(e){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s;e=e&&e.prototype instanceof h?e:h,e=Object.create(e.prototype),r=new x(r||[]);return e._invoke=(i=t,o=n,a=r,s="suspendedStart",function(t,e){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===t)throw e;return{value:void 0,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n&&(n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===(r=l(r,e.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,f):(r=r.arg)?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,a),n)){if(n===f)continue;return n}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);if(s="executing","normal"===(n=l(i,o,a)).type){if(s=a.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var y,m,g=((m=(m=(a(y={},r,(function(){return this})),Object.getPrototypeOf))&&m(m(T([]))))&&m!==e&&n.call(m,r)&&(y=m),p.prototype=h.prototype=Object.create(y));function v(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u;if("throw"!==(i=l(t[i],t,o)).type)return(o=(u=i.arg).value)&&"object"==c(o)&&n.call(o,"__await")?e.resolve(o.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(o).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}));s(i.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e,i=t[r];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return e=-1,(i=function r(){for(;++e<t.length;)if(n.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r}).next=i}return{next:I}}function I(){return{value:void 0,done:!0}}return a(g,"constructor",d.prototype=p),a(p,"constructor",d),d.displayName=a(p,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){return!!(t="function"==typeof t&&t.constructor)&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},v(b.prototype),a(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(g),a(g,o,"Generator"),a(g,r,(function(){return this})),a(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e,n=[];for(e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;0<=i;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,i=this.tryEntries[e];if(i.tryLoc===t)return"throw"===(n=i.completion).type&&(r=n.arg,_(i)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function l(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function h(){var t,e;return r||((r=s.a.create(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){var r,i;r=t,i=n[e],e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i))).interceptors.response.use(function(){t=u().mark((function t(e){var n,r,a,c,l,f,h,p,y,m;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p=e.config,n=p.hideErrorToast,r=null==(r=i.config)?void 0:r.adaptor,h=e.data||{},h=r?r(h):h,r=(null==(r=i.config)?void 0:r.unauthorizedCodes)||[],a=(null==(a=i.config)?void 0:a.unloginHandlerList)||[],c=(null==(c=i.config)?void 0:c.loginHandler)||function(){return Promise.resolve()},y=(null==(y=i.config)?void 0:y.unloginPath)||[],l=(null==(l=i.config)?void 0:l.successCode)||0,f=h.error_code||h.code,h=h.msg||h.message,p=(null==p||null==(p=p.url)?void 0:p.replace(/^(http.+\.com)/,""))||"",m=location.pathname,y=y.includes(m),!r.includes(f)||a.includes(p)||y)t.next=32;else{if(d)return t.next=19,d;t.next=22}break;case 19:t.t0=t.sent,t.next=25;break;case 22:return t.next=24,d=c();case 24:t.t0=t.sent;case 25:if(m=t.t0,d=null,m)return e.config.headers.access_token=m,t.abrupt("return",s.a.request(e.config));t.next=30;break;case 30:t.next=33;break;case 32:!f||f===l||n||o.f.error(h||"\u8bf7\u6c42\u51fa\u9519\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5");case 33:return t.abrupt("return",e);case 34:case"end":return t.stop()}}),t)}));var t,e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)}))};return function(t){return e.apply(this,arguments)}}(),(function(t){var e=null==(e=i.config)?void 0:e.errorHandler,n=null==(n=i.config)?void 0:n.errorMessage,r=t.response;r=n||(null==r||null==(n=r.data)?void 0:n.msg)||(null==r||null==(n=r.data)?void 0:n.message)||"\u60a8\u7684\u7f51\u7edc\u53d1\u751f\u5f02\u5e38\uff0c\u65e0\u6cd5\u8fde\u63a5\u670d\u52a1\u5668";return o.f.error(r),e&&e(t),Promise.reject({msg:r,network:!0})})),t=i.requestInterceptors||[],e=i.responseInterceptors||[],t.map((function(t){r.interceptors.request.use(t)})),e.map((function(t){r.interceptors.response.use(t)}))),r}var d=null,p=function(t){i=t};e.a=function(t,e){return h()(t,e)}}}]);